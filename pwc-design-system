<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PwC Digital Design System — Component Catalogue</title>
<style>
/* ── RESET ── */
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{font-family:system-ui,-apple-system,sans-serif;background:#fff;color:#000;font-size:14px;line-height:1.6}

/* ── TOKENS ── */
:root{
  --chart-1:#FD5108;
  --chart-2:#FFAA72;
  --chart-3:#FFE8D4;
  --chart-4:#E84000;
  --chart-5:#FF7A3D;
  --o500:#FD5108;--o300:#FFAA72;--o100:#FFE8D4;
  --black:#000;--white:#fff;
  --g100:#EEEFF1;--g200:#DFE3E6;--g300:#CBD1D6;--g400:#B5BCC4;--g500:#A1A8B3;
  --success:#22C55E;--successBg:#DCFCE7;
  --warning:#EAB308;--warningBg:#FEF3C7;
  --error:#EF4444;--errorBg:#FEE2E2;
  --info:#3B82F6;--infoBg:#DBEAFE;
  --radius:4px;
  --shadow:0 1px 3px rgba(0,0,0,.08),0 4px 16px rgba(0,0,0,.06);
  --shadow-md:0 4px 24px rgba(0,0,0,.12);
  /* 8-col grid baseline */
  --col:8px;
}

/* ── ANIMATIONS ── */
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.45}}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

/* ── LAYOUT ── */
.app{display:flex;min-height:100vh}

/* Sidebar */
.sidebar{width:224px;flex-shrink:0;background:#fff;border-right:1px solid var(--g200);position:sticky;top:0;height:100vh;overflow-y:auto;display:flex;flex-direction:column}
.sidebar-logo{padding:16px 20px 12px;border-bottom:1px solid var(--g200);display:flex;align-items:center;gap:10px}
.sidebar-label{font-size:11px;font-weight:600;color:var(--g400);text-transform:uppercase;letter-spacing:.08em;padding:20px 24px 6px}
.nav-link{display:flex;align-items:center;gap:10px;padding:9px 24px;font-size:13px;color:var(--g500);text-decoration:none;border-left:2px solid transparent;transition:all .15s ease;cursor:pointer}
.nav-link:hover{color:var(--black);background:var(--g100)}
.nav-link.active{color:var(--o500);font-weight:600;border-left:2px solid var(--o500);background:var(--o100)}
.nav-link svg{flex-shrink:0}

/* Main */
.main{flex:1;min-width:0}

/* Top bar */
.topbar{background:#fff;border-bottom:1px solid var(--g200);padding:0 48px;height:64px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100}
.topbar-title{font-size:15px;font-weight:600}
.topbar-right{display:flex;align-items:center;gap:16px}
.avatar{width:36px;height:36px;border-radius:50%;background:var(--o100);display:flex;align-items:center;justify-content:center;flex-shrink:0}

/* Content */
.content{padding:48px}

/* Sections */
.section{margin-bottom:80px;animation:fadeIn .3s ease}
.section-header{margin-bottom:32px}
.section-title{font-size:22px;font-weight:600;color:var(--black);margin-bottom:6px}
.section-desc{font-size:13px;color:var(--g500);line-height:1.6;max-width:640px}
.section-divider{height:2px;background:linear-gradient(90deg,var(--o500) 0%,var(--o100) 100%);margin-bottom:32px;width:48px}

/* Subsection */
.sub{margin-bottom:40px}
.sub-title{font-size:13px;font-weight:600;color:var(--g500);text-transform:uppercase;letter-spacing:.06em;margin-bottom:16px}

/* ── GRID SYSTEM ── */
/* All demo areas snap to an 8px grid */
.row{display:flex;flex-wrap:wrap;gap:16px;align-items:flex-start}
.row.center{align-items:center}
.row.stretch{align-items:stretch}
.col-1{flex:0 0 calc(8.333% - 15px)}
.col-2{flex:0 0 calc(16.667% - 14px)}
.col-3{flex:0 0 calc(25% - 12px)}
.col-4{flex:0 0 calc(33.333% - 11px)}
.col-6{flex:0 0 calc(50% - 8px)}
.col-8{flex:0 0 calc(66.667% - 6px)}
.col-12{flex:0 0 100%}
@media(max-width:1200px){.col-4{flex:0 0 calc(50% - 8px)}.col-3{flex:0 0 calc(33.333% - 11px)}}
@media(max-width:900px){.col-3,.col-4,.col-6,.col-8{flex:0 0 100%}}

/* ── COMPONENT CARD (wrapper for each demo) ── */
.demo-card{background:#fff;border:1px solid var(--g200);padding:24px;display:flex;flex-direction:column;gap:16px}
.demo-card-label{font-size:11px;font-weight:600;color:var(--g400);text-transform:uppercase;letter-spacing:.06em;margin-bottom:4px}
/* All demo cards in a row get equal height */
.row.stretch .demo-card{height:100%}

/* ── BUTTONS ── */
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;font-family:system-ui,sans-serif;font-weight:600;cursor:pointer;border:none;transition:all .2s ease;white-space:nowrap}
.btn:focus-visible{outline:2px solid var(--o500);outline-offset:2px}
.btn-primary{background:var(--o300);color:var(--black);padding:10px 20px;font-size:14px}
.btn-primary:hover{background:#f09a5e}
.btn-secondary{background:transparent;color:var(--black);padding:10px 20px;font-size:14px;border:1px solid var(--black)}
.btn-secondary:hover{background:var(--g100)}
.btn-tertiary{background:transparent;color:var(--o500);padding:10px 20px;font-size:14px;text-decoration:underline}
.btn-tertiary:hover{color:#d94000}
.btn-destructive{background:transparent;color:var(--error);padding:10px 20px;font-size:14px;border:1px solid var(--error)}
.btn-destructive:hover{background:var(--errorBg)}
.btn-disabled{background:var(--g200);color:var(--g400);padding:10px 20px;font-size:14px;cursor:not-allowed;opacity:.7}
.btn-sm{padding:6px 14px;font-size:12px}
.btn-lg{padding:14px 28px;font-size:16px}
.btn-icon{width:40px;height:40px;padding:0;background:transparent;border:1px solid var(--g200);border-radius:var(--radius);color:var(--g500)}
.btn-icon:hover{border-color:var(--g400);color:var(--black)}
.btn-loading .spin{animation:spin 1s linear infinite;display:inline-flex}

/* ── FORM CONTROLS ── */
.field{display:flex;flex-direction:column;gap:6px}
.label{font-size:14px;font-weight:500;color:var(--black)}
.hint{font-size:12px;color:var(--g500)}
.input{width:100%;padding:10px 12px;border:1px solid var(--g200);border-radius:var(--radius);font-size:14px;font-family:inherit;background:#fff;color:var(--black);outline:none;transition:border-color .2s ease}
.input:focus{border-color:var(--o500);box-shadow:0 0 0 3px rgba(253,81,8,.1)}
.input::placeholder{color:var(--g400)}
.textarea{resize:vertical;min-height:96px}

/* Checkbox */
.check-wrap{display:flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.check-box{width:20px;height:20px;border:2px solid var(--g400);background:transparent;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .15s ease;cursor:pointer}
.check-box.checked{border-color:var(--o500);background:var(--o500)}
.check-wrap:hover .check-box{border-color:var(--o500)}

/* Radio */
.radio-wrap{display:flex;align-items:center;gap:10px;cursor:pointer;user-select:none}
.radio-outer{width:20px;height:20px;border-radius:50%;border:2px solid var(--g400);background:transparent;display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .15s ease;cursor:pointer}
.radio-outer.selected{border-color:var(--o500)}
.radio-dot{width:10px;height:10px;border-radius:50%;background:var(--o500);transform:scale(0);transition:transform .15s ease}
.radio-outer.selected .radio-dot{transform:scale(1)}

/* Toggle */
.toggle-wrap{display:flex;align-items:center;gap:12px;cursor:pointer;user-select:none}
.toggle-track{width:44px;height:24px;border-radius:12px;background:var(--g300);position:relative;transition:background .2s ease;cursor:pointer;flex-shrink:0}
.toggle-track.on{background:var(--o500)}
.toggle-thumb{width:20px;height:20px;border-radius:50%;background:#fff;position:absolute;top:2px;left:2px;transition:left .2s cubic-bezier(.4,0,.2,1);box-shadow:0 1px 3px rgba(0,0,0,.2)}
.toggle-track.on .toggle-thumb{left:22px}

/* Slider */
.slider-wrap{display:flex;align-items:center;gap:12px}
.slider-track{flex:1;height:6px;background:var(--g200);border-radius:3px;position:relative;cursor:pointer}
.slider-fill{height:100%;background:var(--o500);border-radius:3px;pointer-events:none}
.slider-thumb{width:18px;height:18px;border-radius:50%;background:var(--o500);position:absolute;top:50%;transform:translate(-50%,-50%);cursor:grab;box-shadow:0 2px 6px rgba(253,81,8,.4);transition:box-shadow .15s ease}
.slider-thumb:hover{box-shadow:0 2px 10px rgba(253,81,8,.6)}
.slider-input{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.slider-val{font-size:13px;font-weight:500;min-width:40px;text-align:right;color:var(--black)}

/* Dropdown */
.dropdown{position:relative}
.dropdown-btn{width:100%;padding:10px 12px;border:1px solid var(--g200);border-radius:var(--radius);font-size:14px;font-family:inherit;background:#fff;color:var(--black);display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:border-color .2s ease}
.dropdown-btn:focus{outline:none;border-color:var(--o500);box-shadow:0 0 0 3px rgba(253,81,8,.1)}
.dropdown-btn.placeholder{color:var(--g400)}
.dropdown-chevron{transition:transform .2s ease;flex-shrink:0}
.dropdown-chevron.open{transform:rotate(180deg)}
.dropdown-list{position:absolute;top:calc(100% + 4px);left:0;right:0;background:#fff;border:1px solid var(--g200);border-radius:var(--radius);box-shadow:var(--shadow-md);z-index:200;overflow:hidden;animation:fadeIn .15s ease}
.dropdown-item{padding:10px 14px;font-size:14px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:background .1s ease;color:var(--black)}
.dropdown-item:hover{background:var(--g100)}
.dropdown-item.selected{background:var(--o100);color:var(--o500);font-weight:500}

/* Search */
.search-wrap{display:flex;align-items:center;gap:8px;padding:10px 14px;border:1px solid var(--g200);border-radius:var(--radius);background:var(--g100);transition:all .2s ease}
.search-wrap:focus-within{border-color:var(--o500);background:#fff;box-shadow:0 0 0 3px rgba(253,81,8,.1)}
.search-input{border:none;background:transparent;outline:none;font-size:14px;font-family:inherit;color:var(--black);flex:1}
.search-input::placeholder{color:var(--g400)}

/* ── CARDS ── */
.card{background:#fff;border:1px solid var(--g200);padding:24px}
.card-sm{padding:16px}
.panel{background:#fff;border:1px solid var(--g200)}
.panel-hd{padding:16px 20px;border-bottom:1px solid var(--g200);display:flex;justify-content:space-between;align-items:center}
.panel-hd-title{font-size:15px;font-weight:600}
.panel-bd{padding:20px}
.panel-ft{padding:14px 20px;border-top:1px solid var(--g200);display:flex;justify-content:flex-end;gap:10px}

/* Stat card */
.stat-card{background:#fff;border:1px solid var(--g200);padding:20px}
.stat-icon{width:40px;height:40px;background:var(--o100);display:flex;align-items:center;justify-content:center;margin-bottom:16px;flex-shrink:0}
.stat-value{font-size:26px;font-weight:600;line-height:1.1}
.stat-label{font-size:12px;color:var(--g500);margin-bottom:6px}
.stat-change{font-size:12px;font-weight:500}
.stat-change.pos{color:var(--success)}
.stat-change.neg{color:var(--error)}
.stat-change.neu{color:var(--g500)}

/* ── BADGES ── */
.badge{display:inline-flex;align-items:center;padding:3px 10px;font-size:12px;font-weight:500;white-space:nowrap}
.badge-brand{background:var(--o100);color:var(--o500)}
.badge-success{background:var(--successBg);color:var(--success)}
.badge-warning{background:var(--warningBg);color:var(--warning)}
.badge-error{background:var(--errorBg);color:var(--error)}
.badge-info{background:var(--infoBg);color:var(--info)}
.badge-default{background:var(--g100);color:var(--g500)}

/* ── TABS ── */
.tabs-underline{display:flex;border-bottom:1px solid var(--g200)}
.tab-ul{padding:10px 20px;background:transparent;border:none;border-bottom:2px solid transparent;margin-bottom:-1px;font-size:14px;font-family:inherit;color:var(--g500);font-weight:400;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .15s ease;white-space:nowrap}
.tab-ul:hover{color:var(--black)}
.tab-ul.active{color:var(--o500);font-weight:600;border-bottom:2px solid var(--o500)}
.tab-count{padding:2px 7px;border-radius:10px;font-size:11px;font-weight:500;background:var(--g100);color:var(--g500)}
.tab-ul.active .tab-count{background:var(--o100);color:var(--o500)}

.tabs-pill{display:flex;gap:4px;padding:4px;background:var(--g100);width:fit-content}
.tab-pill{padding:7px 16px;background:transparent;border:none;font-size:13px;font-family:inherit;color:var(--g500);cursor:pointer;transition:all .15s ease;font-weight:400}
.tab-pill.active{background:#fff;color:var(--black);font-weight:600;box-shadow:0 1px 4px rgba(0,0,0,.1)}

/* ── BREADCRUMBS ── */
.breadcrumb{display:flex;align-items:center;gap:6px}
.bc-item{font-size:13px;color:var(--g500);text-decoration:none;transition:color .15s ease}
.bc-item:hover{color:var(--black)}
.bc-item.current{color:var(--black);font-weight:500}
.bc-sep{color:var(--g300)}

/* ── PAGINATION ── */
.pagination{display:flex;align-items:center;gap:6px}
.pg-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid var(--g200);background:#fff;font-size:13px;font-family:inherit;cursor:pointer;transition:all .15s ease;color:var(--black)}
.pg-btn:hover{border-color:var(--g400)}
.pg-btn.active{background:var(--black);border-color:var(--black);color:#fff;font-weight:600}
.pg-btn.disabled{color:var(--g400);cursor:not-allowed}
.pg-prev,.pg-next{padding:0 12px;width:auto;gap:4px}

/* ── ACCORDION ── */
.accordion{border:1px solid var(--g200)}
.acc-item{border-bottom:1px solid var(--g200)}
.acc-item:last-child{border-bottom:none}
.acc-hd{width:100%;padding:15px 20px;display:flex;justify-content:space-between;align-items:center;border:none;background:transparent;cursor:pointer;font-size:14px;font-family:inherit;color:var(--black);font-weight:500;text-align:left;transition:background .15s ease}
.acc-hd:hover{background:var(--g100)}
.acc-chevron{transition:transform .25s ease;flex-shrink:0;color:var(--g500)}
.acc-chevron.open{transform:rotate(180deg)}
.acc-body{max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease}
.acc-body.open{max-height:400px}
.acc-content{padding:4px 20px 16px;font-size:14px;color:var(--g500);line-height:1.6}

/* ── ALERTS ── */
.alert{display:flex;gap:14px;padding:14px 18px;border-left:4px solid;align-items:flex-start}
.alert-success{background:var(--successBg);border-color:var(--success)}
.alert-error{background:var(--errorBg);border-color:var(--error)}
.alert-warning{background:var(--warningBg);border-color:var(--warning)}
.alert-info{background:var(--infoBg);border-color:var(--info)}
.alert-icon{flex-shrink:0;margin-top:1px}
.alert-body{flex:1}
.alert-title{font-size:14px;font-weight:600;margin-bottom:3px}
.alert-msg{font-size:13px;opacity:.85}
.alert-close{background:transparent;border:none;cursor:pointer;padding:2px;color:var(--g500);flex-shrink:0}

/* ── TOAST ── */
.toast{display:flex;align-items:center;gap:12px;padding:14px 18px;background:#fff;border:1px solid var(--g200);box-shadow:var(--shadow-md);min-width:300px;max-width:420px;animation:fadeIn .2s ease}
.toast-icon{flex-shrink:0}
.toast-msg{flex:1;font-size:14px}
.toast-close{background:transparent;border:none;cursor:pointer;color:var(--g400);padding:2px}

/* ── TOOLTIP ── */
.tooltip-wrap{position:relative;display:inline-flex}
.tooltip-box{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);background:var(--black);color:#fff;font-size:12px;padding:7px 11px;border-radius:var(--radius);white-space:nowrap;pointer-events:none;opacity:0;transition:opacity .15s ease;z-index:300}
.tooltip-box::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid transparent;border-top-color:var(--black)}
.tooltip-wrap:hover .tooltip-box{opacity:1}

/* ── MODAL ── */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:500;display:flex;align-items:center;justify-content:center;animation:fadeIn .2s ease}
.modal{background:#fff;width:480px;max-width:90vw;box-shadow:var(--shadow-md);display:flex;flex-direction:column;animation:fadeIn .2s ease;position:relative;z-index:501}
.modal-hd{padding:20px 24px;border-bottom:1px solid var(--g200);display:flex;justify-content:space-between;align-items:center}
.modal-title{font-size:17px;font-weight:600}
.modal-bd{padding:24px}
.modal-ft{padding:14px 24px;border-top:1px solid var(--g200);display:flex;justify-content:flex-end;gap:10px}
.modal-close{background:transparent;border:none;cursor:pointer;color:var(--g500);padding:4px}

/* ── DRAWER ── */
.drawer-overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:500}
.drawer{position:fixed;right:0;top:0;bottom:0;width:400px;max-width:90vw;background:#fff;box-shadow:-4px 0 32px rgba(0,0,0,.12);z-index:501;display:flex;flex-direction:column;animation:slideIn .25s ease}
@keyframes slideIn{from{transform:translateX(100%)}to{transform:translateX(0)}}
.drawer-hd{padding:16px 20px;border-bottom:1px solid var(--g200);display:flex;justify-content:space-between;align-items:center;flex-shrink:0}
.drawer-bd{padding:20px;flex:1;overflow-y:auto}
.drawer-ft{padding:14px 20px;border-top:1px solid var(--g200);display:flex;justify-content:flex-end;gap:10px;flex-shrink:0}

/* ── CONFIRM DIALOG ── */
.confirm{background:#fff;width:400px;max-width:90vw;padding:24px;box-shadow:var(--shadow-md);animation:fadeIn .2s ease;position:relative;z-index:501}
.confirm-icon{width:44px;height:44px;border-radius:50%;background:var(--errorBg);display:flex;align-items:center;justify-content:center;flex-shrink:0}

/* ── PROGRESS ── */
.progress-track{height:8px;background:var(--g200);border-radius:4px;overflow:hidden}
.progress-fill{height:100%;background:var(--o500);border-radius:4px;transition:width .4s ease}

/* Stepped */
.steps{display:flex;align-items:flex-start;gap:0}
.step{flex:1;display:flex;flex-direction:column}
.step-line{height:3px;margin-bottom:10px;transition:background .3s ease}
.step-line.done{background:var(--black)}
.step-line.active{background:var(--o500)}
.step-line.future{background:var(--g300)}
.step-label{font-size:13px;display:flex;align-items:center;gap:5px}
.step-label.done{color:var(--black);font-weight:400}
.step-label.active{color:var(--black);font-weight:600}
.step-label.future{color:var(--g500);font-weight:400}

/* Spinner */
.spinner{animation:spin 1s linear infinite}

/* Skeleton */
.skel{background:var(--g100);border-radius:4px;animation:pulse 1.6s ease-in-out infinite}
.skel-circle{border-radius:50%}
.skel-text{height:14px;margin-bottom:8px}
.skel-text:last-child{margin-bottom:0}

/* ── TABLE ── */
.table-wrap{border:1px solid var(--g200);overflow:hidden}
.table{width:100%;border-collapse:collapse}
.table th{padding:11px 16px;font-size:12px;font-weight:600;color:var(--g500);text-align:left;background:var(--g100);border-bottom:1px solid var(--g200);white-space:nowrap}
.table td{padding:14px 16px;font-size:13px;color:var(--black);border-bottom:1px solid var(--g200)}
.table tr:last-child td{border-bottom:none}
.table tbody tr{transition:background .12s ease;cursor:pointer}
.table tbody tr:hover{background:var(--g100)}
.table tbody tr.selected{background:var(--o100)}
.table-check{width:20px;height:20px;cursor:pointer;accent-color:var(--o500)}

/* ── SIDEBAR NAV ── */
.sidenav{width:196px;border-right:1px solid var(--g200);display:flex;flex-direction:column;background:#fff}
.sidenav-item{display:flex;align-items:center;gap:10px;padding:10px 16px;font-size:14px;color:var(--black);cursor:pointer;border-left:3px solid transparent;transition:all .12s ease}
.sidenav-item:hover{background:var(--g100)}
.sidenav-item.active{background:var(--o100);color:var(--o500);font-weight:600;border-left:3px solid var(--o500)}

/* ── CHAT ── */
.chat-panel{background:#fff;border:1px solid var(--g200);display:flex;flex-direction:column;height:420px;box-shadow:var(--shadow-md)}
.chat-hd{padding:14px 18px;border-bottom:1px solid var(--g200);display:flex;justify-content:space-between;align-items:center;flex-shrink:0}
.chat-messages{flex:1;padding:16px;overflow-y:auto;display:flex;flex-direction:column;gap:14px}
.chat-msg-ai{display:flex;flex-direction:column;align-items:flex-start;gap:6px}
.chat-msg-user{display:flex;justify-content:flex-end}
.chat-bubble-user{background:var(--g100);border-radius:var(--radius);padding:10px 14px;font-size:14px;max-width:80%}
.chat-input-wrap{border-top:1px solid var(--g200);padding:12px;flex-shrink:0}
.chat-input-inner{display:flex;align-items:center;gap:10px;padding:10px 14px;border:1px solid var(--g200);border-radius:var(--radius)}
.chat-input-inner:focus-within{border-color:var(--o500);box-shadow:0 0 0 3px rgba(253,81,8,.1)}
.chat-input{flex:1;border:none;outline:none;font-size:14px;font-family:inherit;background:transparent}

/* FAB */
.fab{width:56px;height:56px;border-radius:50%;background:var(--o500);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 16px rgba(253,81,8,.35);transition:transform .2s ease,box-shadow .2s ease}
.fab:hover{transform:scale(1.06);box-shadow:0 6px 24px rgba(253,81,8,.45)}

/* ── EMPTY STATE ── */
.empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 32px;text-align:center}
.empty-icon{width:64px;height:64px;border-radius:50%;background:var(--g100);display:flex;align-items:center;justify-content:center;margin-bottom:20px}
.empty-title{font-size:16px;font-weight:600;margin-bottom:8px}
.empty-desc{font-size:13px;color:var(--g500);max-width:280px;margin-bottom:24px;line-height:1.6}

/* ── CHART CONTAINERS ── */
/* Every chart card is fixed height so they align in grid */
.chart-card{background:#fff;border:1px solid var(--g200);padding:20px;display:flex;flex-direction:column}
/* Recharts mount targets — ensure they always have enough height for ResponsiveContainer */
[id^="rc-"]{min-height:310px}
.chart-title{font-size:14px;font-weight:600;margin-bottom:4px}
.chart-sub{font-size:12px;color:var(--g500);margin-bottom:16px}
.chart-area{flex:1;position:relative;min-height:0}
.chart-legend{display:flex;gap:16px;margin-top:12px;flex-wrap:wrap}
.legend-item{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--g500);cursor:pointer;transition:opacity .15s ease}
.legend-item.muted{opacity:.35}
.legend-dot{width:10px;height:10px;border-radius:2px;flex-shrink:0}
.legend-line{width:16px;height:3px;flex-shrink:0}

/* SVG chart shared */
.chart-svg{width:100%;overflow:visible;display:block}
.grid-line{stroke:var(--g200);stroke-width:1;stroke-dasharray:4,4}
.axis-label{font-size:10px;fill:#A1A8B3;font-family:system-ui,sans-serif}
.data-line{stroke-width:2;fill:none}
.data-point{cursor:pointer;transition:r .12s ease}
.data-bar{cursor:pointer;transition:opacity .15s ease}
.data-bar:hover{opacity:.8}
.chart-tooltip{position:absolute;background:var(--black);color:#fff;font-size:12px;padding:6px 10px;border-radius:var(--radius);pointer-events:none;white-space:nowrap;transform:translate(-50%,-110%);z-index:200;transition:opacity .1s ease}

/* ── COLOUR PALETTE ── */
.colour-swatch{width:100%;height:56px}
.colour-meta{padding:10px 0 0;font-size:12px}
.colour-name{font-weight:600;margin-bottom:2px}
.colour-hex{color:var(--g500)}

/* ── TYPOGRAPHY SPECIMEN ── */
.type-row{display:flex;align-items:baseline;gap:24px;padding:16px 0;border-bottom:1px solid var(--g200)}
.type-row:last-child{border-bottom:none}
.type-spec{font-size:11px;color:var(--g400);min-width:120px;flex-shrink:0}

/* ── SPACING VISUAL ── */
.space-block{background:var(--o100);display:inline-block}

/* ── UTILITY ── */
.icon-btn-bare{background:transparent;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--g500);padding:4px;transition:color .15s ease}
.icon-btn-bare:hover{color:var(--black)}

/* ── CODE VIEWER ── */
.copy-btn{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;font-size:11px;font-weight:600;color:var(--g500);background:var(--g100);border:1px solid var(--g200);cursor:pointer;font-family:inherit;text-transform:uppercase;letter-spacing:.05em;transition:all .15s ease;margin-top:12px}
.copy-btn:hover{background:var(--o100);color:var(--o500);border-color:var(--o300)}
.copy-btn.copied{background:var(--o500);color:#fff;border-color:var(--o500)}
.code-overlay{position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:600;display:flex;align-items:center;justify-content:center;animation:fadeIn .2s ease}
.code-modal{background:#1a1a1a;width:min(860px,94vw);max-height:82vh;display:flex;flex-direction:column;box-shadow:0 8px 48px rgba(0,0,0,.4);animation:fadeIn .2s ease}
.code-modal-hd{padding:14px 20px;border-bottom:1px solid #333;display:flex;justify-content:space-between;align-items:center;flex-shrink:0}
.code-modal-title{font-size:13px;font-weight:600;color:#e8e8e8;display:flex;align-items:center;gap:8px}
.code-modal-badge{font-size:10px;padding:2px 8px;background:var(--o500);color:#fff;font-weight:600;letter-spacing:.04em}
.code-modal-actions{display:flex;align-items:center;gap:8px}
.code-copy-btn{padding:6px 14px;font-size:12px;font-weight:600;background:var(--o500);color:#fff;border:none;cursor:pointer;font-family:inherit;transition:background .15s ease}
.code-copy-btn:hover{background:#d94000}
.code-copy-btn.ok{background:#22C55E}
.code-close-btn{background:transparent;border:none;cursor:pointer;color:#888;padding:4px;display:flex;align-items:center;transition:color .15s ease}
.code-close-btn:hover{color:#fff}
.code-modal-body{overflow-y:auto;flex:1}
.code-pre{margin:0;padding:24px;font-family:'Courier New',Courier,monospace;font-size:12.5px;line-height:1.7;color:#e8e8e8;white-space:pre;overflow-x:auto;tab-size:2}
/* syntax highlight */
.tok-kw{color:#FD5108}
.tok-str{color:#FFAA72}
.tok-cmt{color:#666}
.tok-fn{color:#a8c4ff}
.tok-num{color:#b5e8b5}
/* Chart catalogue subsection header */
.chart-cat-header{display:flex;align-items:center;justify-content:space-between;margin:40px 0 16px;padding-bottom:10px;border-bottom:1px solid var(--g200)}
.chart-cat-title{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.07em;color:var(--g500)}
.chart-cat-count{font-size:11px;color:var(--g400);background:var(--g100);padding:2px 8px;font-weight:500}
.visually-hidden{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}
.mt-8{margin-top:8px}
.mt-16{margin-top:16px}
.mt-24{margin-top:24px}
.gap-8{gap:8px}
.gap-12{gap:12px}
.gap-16{gap:16px}
.gap-24{gap:24px}
.flex{display:flex}
.flex-col{flex-direction:column}
.items-center{align-items:center}
.justify-between{justify-content:space-between}
.justify-end{justify-content:flex-end}
.w-full{width:100%}
.text-secondary{color:var(--g500)}
.text-sm{font-size:13px}
.fw-600{font-weight:600}
.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

/* ── STICKY SUB-HEADERS ── */
.sub > div:first-child:has(.sub-title){position:sticky;top:64px;background:#fff;z-index:10;padding:10px 0;margin-bottom:8px}
.chart-cat-header{position:sticky;top:64px;background:#fff;z-index:10}

/* ── SIDEBAR SEARCH ── */
.search-wrap{padding:10px 16px 12px;border-bottom:1px solid var(--g200);position:relative}
.search-input-row{display:flex;align-items:center;gap:8px;background:var(--g100);padding:7px 10px}
.search-input-row input{background:none;border:none;outline:none;font-size:12px;color:inherit;width:100%;min-width:0}
.search-results{position:absolute;left:16px;right:16px;background:#fff;border:1px solid var(--g200);box-shadow:var(--shadow-md);z-index:300;max-height:220px;overflow-y:auto;display:none}
.search-result{display:flex;align-items:center;gap:8px;padding:7px 12px;cursor:pointer;transition:background .1s}
.search-result:hover{background:var(--g100)}
.search-result-name{font-size:12px;color:var(--black);white-space:nowrap}
.search-result-sec{font-size:11px;color:var(--g500);margin-left:auto;white-space:nowrap}

/* ── SIDEBAR ACCORDION ── */
.nav-sub-list{max-height:0;overflow:hidden;transition:max-height .22s ease}
.nav-grp.open .nav-sub-list{max-height:600px}
.nav-sub-item{display:flex;align-items:center;padding:6px 24px 6px 44px;font-size:12px;color:var(--g500);cursor:pointer;transition:all .15s;text-decoration:none;border-left:2px solid transparent}
.nav-sub-item:hover{color:var(--black);background:var(--g100)}
.nav-chev{transition:transform .2s ease;flex-shrink:0}
.nav-grp.open > .nav-link-head .nav-chev{transform:rotate(90deg)}
.nav-link-head{cursor:pointer}

/* ── DARK MODE TOGGLE BUTTON ── */
.theme-btn{background:none;border:1px solid var(--g200);padding:5px 10px;cursor:pointer;color:var(--g500);display:flex;align-items:center;gap:6px;font-size:12px;font-family:inherit;transition:all .15s}
.theme-btn:hover{background:var(--g100);color:var(--black)}

/* ── DARK MODE ── */
[data-theme="dark"]{--g100:#242424;--g200:#333;--g300:#484848;--g400:#707070;--g500:#909090;--o100:#3a1505}
[data-theme="dark"] body{background:#121212;color:#e8e8e8}
[data-theme="dark"] .sidebar{background:#1a1a1a;border-right-color:#2a2a2a}
[data-theme="dark"] .topbar{background:#1a1a1a;border-bottom-color:#2a2a2a}
[data-theme="dark"] .demo-card{background:#1e1e1e}
[data-theme="dark"] .section-title{color:#e8e8e8}
[data-theme="dark"] .chart-cat-header{background:#121212;border-bottom-color:#333}
[data-theme="dark"] .sub > div:first-child:has(.sub-title){background:#121212}
[data-theme="dark"] .search-results{background:#1e1e1e;border-color:#333}
[data-theme="dark"] .search-result:hover{background:#2a2a2a}
[data-theme="dark"] .search-result-name{color:#e8e8e8}
[data-theme="dark"] .nav-link.active,[data-theme="dark"] .nav-link-head.active{background:#3a1505}
[data-theme="dark"] .topbar-title{color:#e8e8e8}
[data-theme="dark"] .section-desc{color:#888}
[data-theme="dark"] .sub-title{color:#777}
[data-theme="dark"] .demo-card-label{color:#888}
[data-theme="dark"] .comp-label{color:#777}
[data-theme="dark"] .sidebar-label{color:#666}
[data-theme="dark"] input:not(#compSearch),[data-theme="dark"] textarea,[data-theme="dark"] select{background:#2a2a2a;border-color:#3a3a3a;color:#e8e8e8}
[data-theme="dark"] .copy-btn{border-color:#3a3a3a;color:#888}
[data-theme="dark"] .copy-btn:hover{background:#2a2a2a;color:#e8e8e8}
[data-theme="dark"] .chart-cat-count{background:#2a2a2a;color:#888}
</style>
<script crossorigin src="https://unpkg.com/react@18.3.1/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18.3.1/umd/react-dom.production.min.js"></script>
<script crossorigin src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
<script crossorigin src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
</head>
<body>
<div class="app">

<!-- ═══ SIDEBAR ═══ -->
<nav class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <svg width="80" height="38" viewBox="30 143 440 212" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M355.041 233.765C339.717 236.206 331.925 247.425 331.925 267.214C331.925 287.003 342.331 300.403 358.334 300.403C365.762 300.403 372.508 297.962 386.732 291.054V307.155C369.682 314.894 359.642 317.335 345.94 317.335C331.088 317.335 320.629 313.44 312.052 304.766C303.319 296.092 298.926 284.561 298.926 271.784C298.926 243.322 320.158 224.104 351.118 224.104C371.67 224.104 385.842 233.453 385.842 247.165C385.842 255.995 379.252 262.072 369.473 262.072C364.454 262.072 360.323 260.773 355.041 257.709V233.869V233.765ZM279.472 271.732C293.173 254.54 298.037 247.632 298.037 239.166C298.037 230.7 291.343 224 282.348 224C276.805 224 271.837 226.597 269.431 229.298V264.305L246.944 294.066V226.234H225.555L190.045 284.717V226.234H177.756L145.489 234.024V242.231L163.061 243.997V315.725H185.809L219.907 260.098V315.725H244.8L279.42 271.732H279.472ZM77.6086 244.464C82.8381 243.841 85.4532 243.529 87.9111 243.529C102.763 243.529 110.764 253.294 110.764 271.732C110.764 293.495 100.933 304.818 82.6291 304.818C81.1125 304.818 80.0143 304.818 77.6086 304.714V244.464ZM77.6086 314.894C83.518 315.569 89.2708 315.777 92.7223 315.777C123.211 315.777 142.508 296.404 142.508 267.629C142.508 242.75 128.022 224.727 108.359 224.727C99.8346 224.727 94.1867 226.441 77.6086 236.258V224.26H68.4046L33 234.959V243.581H47.6429V343.928L34.4643 347.2V355.511H92.304V347.2L77.5564 343.928V314.894H77.6086Z" fill="currentColor"/>
      <path d="M338.568 199.173H242.029L258.45 172.112H354.99L338.568 199.173ZM468 145H371.463L355.042 172.06H451.579L468 145Z" fill="#FD5108"/>
    </svg>
  </div>
  <div class="sidebar-label">Components</div>

  <!-- Search -->
  <div class="search-wrap">
    <div class="search-input-row">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
      <input id="compSearch" type="text" placeholder="Search components…" oninput="filterComps(this.value)" onkeydown="if(event.key==='Escape')clearSearch()">
    </div>
    <div class="search-results" id="searchResults"></div>
  </div>

  <!-- Buttons -->
  <div class="nav-grp open" id="grp-buttons">
    <a class="nav-link nav-link-head active" href="#buttons" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="8" width="18" height="8" rx="1"/></svg>
      Buttons
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-buttons-sub">
      <a class="nav-sub-item" onclick="jumpTo('btn-variants')">Variants</a>
      <a class="nav-sub-item" onclick="jumpTo('btn-sizes')">Sizes</a>
      <a class="nav-sub-item" onclick="jumpTo('btn-icons')">With Icons &amp; Loading</a>
      <a class="nav-sub-item" onclick="jumpTo('btn-icon-only')">Icon Buttons</a>
    </div>
  </div>

  <!-- Form Controls -->
  <div class="nav-grp" id="grp-forms">
    <a class="nav-link nav-link-head" href="#forms" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12h6M9 8h6M9 16h4"/><rect x="3" y="3" width="18" height="18" rx="1"/></svg>
      Form Controls
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-forms-sub">
      <a class="nav-sub-item" onclick="jumpTo('form-input')">Text Input</a>
      <a class="nav-sub-item" onclick="jumpTo('form-textarea')">Textarea &amp; Search</a>
      <a class="nav-sub-item" onclick="jumpTo('form-dropdown')">Dropdown Select</a>
      <a class="nav-sub-item" onclick="jumpTo('form-checkbox')">Checkboxes &amp; Radio</a>
      <a class="nav-sub-item" onclick="jumpTo('form-toggle')">Toggles</a>
      <a class="nav-sub-item" onclick="jumpTo('form-slider')">Sliders</a>
    </div>
  </div>

  <!-- Cards -->
  <div class="nav-grp" id="grp-cards">
    <a class="nav-link nav-link-head" href="#cards" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="5" width="20" height="14" rx="1"/><path d="M2 10h20"/></svg>
      Cards
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-cards-sub">
      <a class="nav-sub-item" onclick="jumpTo('card-standard')">Standard Card</a>
      <a class="nav-sub-item" onclick="jumpTo('card-panel')">Panel with Header</a>
      <a class="nav-sub-item" onclick="jumpTo('card-stat')">Stat Cards</a>
    </div>
  </div>

  <!-- Modals -->
  <div class="nav-grp" id="grp-modals">
    <a class="nav-link nav-link-head" href="#modals" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="5" y="5" width="14" height="14"/><path d="M5 5 2 2M19 5l3-3M5 19l-3 3M19 19l3 3"/></svg>
      Modals &amp; Overlays
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-modals-sub">
      <a class="nav-sub-item" onclick="jumpTo('modal-dialog')">Modal Dialog</a>
      <a class="nav-sub-item" onclick="jumpTo('modal-confirm')">Confirm Dialog</a>
      <a class="nav-sub-item" onclick="jumpTo('modal-drawer')">Side Drawer</a>
    </div>
  </div>

  <!-- Navigation -->
  <div class="nav-grp" id="grp-nav">
    <a class="nav-link nav-link-head" href="#navigation" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 12h18M3 6h18M3 18h18"/></svg>
      Navigation
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-nav-sub">
      <a class="nav-sub-item" onclick="jumpTo('nav-tabs-underline')">Underline Tabs</a>
      <a class="nav-sub-item" onclick="jumpTo('nav-tabs-pill')">Pill Tabs</a>
      <a class="nav-sub-item" onclick="jumpTo('nav-breadcrumb')">Breadcrumbs</a>
      <a class="nav-sub-item" onclick="jumpTo('nav-pagination')">Pagination</a>
      <a class="nav-sub-item" onclick="jumpTo('nav-accordion')">Accordion</a>
      <a class="nav-sub-item" onclick="jumpTo('nav-sidebar')">Sidebar Navigation</a>
      <a class="nav-sub-item" onclick="jumpTo('nav-avatar')">Avatar</a>
    </div>
  </div>

  <!-- Feedback -->
  <div class="nav-grp" id="grp-feedback">
    <a class="nav-link nav-link-head" href="#feedback" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
      Feedback
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-feedback-sub">
      <a class="nav-sub-item" onclick="jumpTo('feedback-alerts')">Alert Banners</a>
      <a class="nav-sub-item" onclick="jumpTo('feedback-badges')">Badges &amp; Tags</a>
      <a class="nav-sub-item" onclick="jumpTo('feedback-tooltip')">Tooltip</a>
      <a class="nav-sub-item" onclick="jumpTo('feedback-toast')">Toast Notifications</a>
      <a class="nav-sub-item" onclick="jumpTo('feedback-empty')">Empty State</a>
    </div>
  </div>

  <!-- Progress -->
  <div class="nav-grp" id="grp-progress">
    <a class="nav-link nav-link-head" href="#progress" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
      Progress &amp; Loading
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-progress-sub">
      <a class="nav-sub-item" onclick="jumpTo('progress-linear')">Linear Progress</a>
      <a class="nav-sub-item" onclick="jumpTo('progress-stepped')">Stepped Progress</a>
      <a class="nav-sub-item" onclick="jumpTo('progress-spinner')">Spinners</a>
      <a class="nav-sub-item" onclick="jumpTo('progress-skeleton')">Skeleton Loading</a>
    </div>
  </div>

  <!-- Data Table -->
  <div class="nav-grp" id="grp-data">
    <a class="nav-link nav-link-head" href="#data" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18"/><path d="M3 9h18M3 15h18M9 3v18"/></svg>
      Data Table
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-data-sub">
      <a class="nav-sub-item" onclick="jumpTo('data-table')">Sortable Table</a>
    </div>
  </div>

  <!-- Charts -->
  <div class="nav-grp" id="grp-charts">
    <a class="nav-link nav-link-head" href="#charts" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
      Charts
      <span style="font-size:10px;background:var(--o100);color:var(--o500);padding:1px 6px;font-weight:600">26</span>
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:4px"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-charts-sub">
      <a class="nav-sub-item" onclick="jumpToChartCat('Area Charts')">Area Charts</a>
      <a class="nav-sub-item" onclick="jumpToChartCat('Line Charts')">Line Charts</a>
      <a class="nav-sub-item" onclick="jumpToChartCat('Bar Charts')">Bar Charts</a>
      <a class="nav-sub-item" onclick="jumpToChartCat('Pie &amp; Donut Charts')">Pie &amp; Donut</a>
      <a class="nav-sub-item" onclick="jumpToChartCat('Radar &amp; Radial Charts')">Radar &amp; Radial</a>
      <a class="nav-sub-item" onclick="jumpToChartCat('Other Charts')">Other Charts</a>
    </div>
  </div>

  <!-- Chat -->
  <div class="nav-grp" id="grp-chat">
    <a class="nav-link nav-link-head" href="#chat" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
      Chat &amp; Assistant
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-chat-sub">
      <a class="nav-sub-item" onclick="jumpTo('chat-fab')">FAB Button</a>
      <a class="nav-sub-item" onclick="jumpTo('chat-panel')">Chat Panel</a>
    </div>
  </div>

  <!-- Brand Assets -->
  <div class="nav-grp" id="grp-brand">
    <a class="nav-link nav-link-head" href="#brand" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
      Brand Assets
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-brand-sub">
      <a class="nav-sub-item" onclick="jumpTo('brand-logo')">PwC Logo</a>
      <a class="nav-sub-item" onclick="jumpTo('brand-momentum')">Momentum Mark</a>
    </div>
  </div>

  <!-- Foundations -->
  <div class="nav-grp" id="grp-foundations">
    <a class="nav-link nav-link-head" href="#foundations" onclick="setActive(this)">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
      Foundations
      <svg class="nav-chev" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="margin-left:auto"><polyline points="9 18 15 12 9 6"/></svg>
    </a>
    <div class="nav-sub-list" id="grp-foundations-sub">
      <a class="nav-sub-item" onclick="jumpTo('foundations-colors')">Colour Palette</a>
      <a class="nav-sub-item" onclick="jumpTo('foundations-typography')">Typography Scale</a>
      <a class="nav-sub-item" onclick="jumpTo('foundations-spacing')">Spacing Scale</a>
      <a class="nav-sub-item" onclick="jumpTo('foundations-animations')">Animation Tokens</a>
    </div>
  </div>
</nav>

<!-- ═══ MAIN ═══ -->
<div class="main">
  <div class="topbar">
    <div class="topbar-title">PwC Digital Design System <span style="font-weight:400;color:var(--g500)">— Component Catalogue</span></div>
    <div class="topbar-right">
      <span style="font-size:12px;color:var(--g500)">v2.0</span>
      <button class="theme-btn" id="themeBtn" onclick="toggleTheme()" aria-label="Toggle dark mode">
        <svg id="iconMoon" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        <svg id="iconSun" style="display:none" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
        <span id="themeLbl">Dark</span>
      </button>
      <div class="avatar">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#FD5108" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      </div>
    </div>
  </div>
  <div class="content">

<style>
.label-wrap{display:flex;flex-direction:column;align-items:flex-start;gap:8px}
.comp-label{font-size:11px;color:var(--g500);font-weight:500}
</style>

<!-- ══════════════════════════════════════════
     BUTTONS
══════════════════════════════════════════ -->
<section class="section" id="buttons">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Buttons</div>
    <div class="section-desc">Sharp corners on all buttons. Primary always uses Orange 300 for WCAG accessibility. Orange 500 is never used as a button background.</div>
  </div>

  <!-- Row 1: Variants -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Variants</div><button class="copy-btn" onclick="showCode('btn-variants')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row center gap-16">
      <div class="label-wrap">
        <button class="btn btn-primary">Primary</button>
        <div class="comp-label">Primary</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-secondary">Secondary</button>
        <div class="comp-label">Secondary</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-tertiary">Tertiary</button>
        <div class="comp-label">Tertiary / Link</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-destructive">Destructive</button>
        <div class="comp-label">Destructive</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-disabled" disabled>Disabled</button>
        <div class="comp-label">Disabled</div>
      </div>
    </div>
  </div>

  <!-- Row 2: Sizes -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Sizes</div><button class="copy-btn" onclick="showCode('btn-sizes')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row center gap-16">
      <div class="label-wrap">
        <button class="btn btn-primary btn-sm">Small</button>
        <div class="comp-label">Small — 6/14px</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-primary">Medium</button>
        <div class="comp-label">Medium — 10/20px</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-primary btn-lg">Large</button>
        <div class="comp-label">Large — 14/28px</div>
      </div>
    </div>
  </div>

  <!-- Row 3: With Icons + Loading -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">With Icons &amp; Loading</div><button class="copy-btn" onclick="showCode('btn-icons')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row center gap-16">
      <button class="btn btn-primary" style="gap:8px">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        Add Item
      </button>
      <button class="btn btn-secondary" style="gap:8px">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        Download
      </button>
      <button class="btn btn-primary btn-loading" id="loadBtn" onclick="simulateLoad(this)">
        <span class="btn-text">Click to Load</span>
        <span class="btn-spinner" style="display:none">
          <svg class="spinner" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
          Loading...
        </span>
      </button>
    </div>
  </div>

  <!-- Row 4: Icon Buttons -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Icon Buttons</div><button class="copy-btn" onclick="showCode('btn-icon-only')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row center gap-12">
      <div class="label-wrap">
        <button class="btn btn-icon" aria-label="Add">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        </button>
        <div class="comp-label">Add</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-icon" aria-label="Edit">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        </button>
        <div class="comp-label">Edit</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-icon" aria-label="Delete">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11v6M14 11v6"/><path d="M9 6V4h6v2"/></svg>
        </button>
        <div class="comp-label">Delete</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-icon" aria-label="Share">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
        </button>
        <div class="comp-label">Share</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-icon" aria-label="Settings">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
        </button>
        <div class="comp-label">Settings</div>
      </div>
      <div class="label-wrap">
        <button class="btn btn-icon" aria-label="More options">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg>
        </button>
        <div class="comp-label">More</div>
      </div>
    </div>
  </div>
</section>

<!-- ══════════════════════════════════════════
     FORM CONTROLS
══════════════════════════════════════════ -->
<section class="section" id="forms">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Form Controls</div>
    <div class="section-desc">Inputs use 4px border-radius as functional elements. All interactive states use Orange 500. Everything below is fully interactive.</div>
  </div>

  <div class="row stretch gap-16">

    <!-- Text Input -->
    <div class="col-6">
      <div class="demo-card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Text Input</div><button class="copy-btn" onclick="showCode('form-input')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div class="field">
          <label class="label" for="inp1">Full Name</label>
          <input class="input" id="inp1" type="text" placeholder="Enter your full name"/>
          <span class="hint">This will appear on your profile</span>
        </div>
        <div class="field">
          <label class="label" for="inp2">Email Address</label>
          <input class="input" id="inp2" type="email" placeholder="you@pwc.com"/>
        </div>
        <div class="field">
          <label class="label" for="inp3">Disabled Field</label>
          <input class="input" id="inp3" type="text" value="Cannot edit this" disabled style="background:var(--g100);color:var(--g400);cursor:not-allowed"/>
        </div>
      </div>
    </div>

    <!-- Textarea + Search -->
    <div class="col-6">
      <div class="demo-card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Textarea &amp; Search</div><button class="copy-btn" onclick="showCode('form-textarea')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div class="field">
          <label class="label" for="ta1">Message</label>
          <textarea class="input textarea" id="ta1" placeholder="Describe the issue in detail..."></textarea>
          <span class="hint">Maximum 500 characters</span>
        </div>
        <div class="field">
          <label class="label">Search</label>
          <div class="search-wrap">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            <input class="search-input" placeholder="Search components..."/>
          </div>
        </div>
      </div>
    </div>

    <!-- Dropdown -->
    <div class="col-6">
      <div class="demo-card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Dropdown Select</div><button class="copy-btn" onclick="showCode('form-dropdown')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div class="field">
          <label class="label">Service Line</label>
          <div class="dropdown" id="dd1">
            <button class="dropdown-btn placeholder" onclick="toggleDrop('dd1')" id="dd1-btn">
              <span id="dd1-val">Select service line</span>
              <svg class="dropdown-chevron" id="dd1-chev" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
            <div class="dropdown-list" id="dd1-list" style="display:none">
              <div class="dropdown-item" onclick="selectDrop('dd1','Consulting')">Consulting</div>
              <div class="dropdown-item" onclick="selectDrop('dd1','Advisory')">Advisory</div>
              <div class="dropdown-item" onclick="selectDrop('dd1','Tax &amp; Legal')">Tax &amp; Legal</div>
              <div class="dropdown-item" onclick="selectDrop('dd1','Assurance')">Assurance</div>
            </div>
          </div>
        </div>
        <div class="field">
          <label class="label">Region</label>
          <div class="dropdown" id="dd2">
            <button class="dropdown-btn placeholder" onclick="toggleDrop('dd2')" id="dd2-btn">
              <span id="dd2-val">Select region</span>
              <svg class="dropdown-chevron" id="dd2-chev" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
            </button>
            <div class="dropdown-list" id="dd2-list" style="display:none">
              <div class="dropdown-item" onclick="selectDrop('dd2','EMEA')">EMEA</div>
              <div class="dropdown-item" onclick="selectDrop('dd2','Americas')">Americas</div>
              <div class="dropdown-item" onclick="selectDrop('dd2','Asia Pacific')">Asia Pacific</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Checkbox + Radio -->
    <div class="col-6">
      <div class="demo-card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Checkboxes &amp; Radio</div><button class="copy-btn" onclick="showCode('form-checkbox')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div style="font-size:13px;font-weight:500;margin-bottom:10px">Notifications</div>
        <div style="display:flex;flex-direction:column;gap:10px;margin-bottom:20px">
          <label class="check-wrap" onclick="toggleCheck('cb1')">
            <div class="check-box checked" id="cb1">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
            </div>
            <span style="font-size:14px">Email notifications</span>
          </label>
          <label class="check-wrap" onclick="toggleCheck('cb2')">
            <div class="check-box" id="cb2"></div>
            <span style="font-size:14px">SMS notifications</span>
          </label>
          <label class="check-wrap" onclick="toggleCheck('cb3')">
            <div class="check-box checked" id="cb3">
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
            </div>
            <span style="font-size:14px">In-app alerts</span>
          </label>
        </div>
        <div style="font-size:13px;font-weight:500;margin-bottom:10px">Priority</div>
        <div style="display:flex;flex-direction:column;gap:10px">
          <label class="radio-wrap" onclick="selectRadio('r1')">
            <div class="radio-outer selected" id="r1"><div class="radio-dot"></div></div>
            <span style="font-size:14px">High priority</span>
          </label>
          <label class="radio-wrap" onclick="selectRadio('r2')">
            <div class="radio-outer" id="r2"><div class="radio-dot"></div></div>
            <span style="font-size:14px">Medium priority</span>
          </label>
          <label class="radio-wrap" onclick="selectRadio('r3')">
            <div class="radio-outer" id="r3"><div class="radio-dot"></div></div>
            <span style="font-size:14px">Low priority</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Toggle + Slider -->
    <div class="col-6">
      <div class="demo-card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Toggles</div><button class="copy-btn" onclick="showCode('form-toggle')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div style="display:flex;flex-direction:column;gap:16px">
          <label class="toggle-wrap" onclick="toggleSwitch('t1')">
            <div class="toggle-track on" id="t1"><div class="toggle-thumb"></div></div>
            <span style="font-size:14px" id="t1-label">Dark mode — On</span>
          </label>
          <label class="toggle-wrap" onclick="toggleSwitch('t2')">
            <div class="toggle-track" id="t2"><div class="toggle-thumb"></div></div>
            <span style="font-size:14px" id="t2-label">Analytics — Off</span>
          </label>
          <label class="toggle-wrap" onclick="toggleSwitch('t3')">
            <div class="toggle-track on" id="t3"><div class="toggle-thumb"></div></div>
            <span style="font-size:14px" id="t3-label">Auto-save — On</span>
          </label>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="demo-card" style="height:100%">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Sliders</div><button class="copy-btn" onclick="showCode('form-slider')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div style="display:flex;flex-direction:column;gap:24px">
          <div class="field">
            <label class="label">Budget allocation — <span id="s1-val">65</span>%</label>
            <div class="slider-wrap">
              <div class="slider-track" id="s1-track">
                <div class="slider-fill" id="s1-fill" style="width:65%"></div>
                <div class="slider-thumb" id="s1-thumb" style="left:65%"></div>
                <input type="range" class="slider-input" min="0" max="100" value="65" oninput="updateSlider('s1',this.value)"/>
              </div>
            </div>
          </div>
          <div class="field">
            <label class="label">Risk tolerance — <span id="s2-val">30</span>%</label>
            <div class="slider-wrap">
              <div class="slider-track" id="s2-track">
                <div class="slider-fill" id="s2-fill" style="width:30%"></div>
                <div class="slider-thumb" id="s2-thumb" style="left:30%"></div>
                <input type="range" class="slider-input" min="0" max="100" value="30" oninput="updateSlider('s2',this.value)"/>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ══════════════════════════════════════════
     CARDS
══════════════════════════════════════════ -->
<section class="section" id="cards">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Cards &amp; Containers</div>
    <div class="section-desc">All branded containers use sharp corners. 24px internal padding standard. 1px Grey 200 border.</div>
  </div>

  <div class="row stretch gap-16">
    <div class="col-4">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Standard Card</div><button class="copy-btn" onclick="showCode('card-standard')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="card" style="margin-top:8px">
        <div style="font-size:15px;font-weight:600;margin-bottom:8px">Card Title</div>
        <p style="font-size:14px;color:var(--g500);line-height:1.6;margin-bottom:16px">Card content with 24px padding. Sharp corners reflect PwC brand identity throughout.</p>
        <button class="btn btn-primary btn-sm">View Details</button>
      </div>
    </div>
    <div class="col-4">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Panel with Header</div><button class="copy-btn" onclick="showCode('card-panel')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="panel" style="margin-top:8px">
        <div class="panel-hd">
          <span class="panel-hd-title">Panel Title</span>
          <button class="btn btn-secondary btn-sm">Action</button>
        </div>
        <div class="panel-bd" style="font-size:14px;color:var(--g500);line-height:1.6">Panel body with 20px padding. Header uses 1px divider at Grey 200.</div>
        <div class="panel-ft">
          <button class="btn btn-secondary btn-sm">Cancel</button>
          <button class="btn btn-primary btn-sm">Save</button>
        </div>
      </div>
    </div>
    <div class="col-4">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Stat Card</div><button class="copy-btn" onclick="showCode('card-stat')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="stat-card" style="margin-top:8px">
        <div class="stat-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
        </div>
        <div class="stat-label">Total Revenue</div>
        <div class="stat-value">$45,231</div>
        <div class="stat-change pos mt-8">↑ 12.5% from last month</div>
      </div>
    </div>
  </div>

  <!-- Stat card grid row -->
  <div class="row stretch gap-16" style="margin-top:16px">
    <div class="col-3">
      <div class="stat-card">
        <div class="stat-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
        <div class="stat-label">Active Users</div>
        <div class="stat-value">2,345</div>
        <div class="stat-change pos mt-8">↑ 8.2%</div>
      </div>
    </div>
    <div class="col-3">
      <div class="stat-card">
        <div class="stat-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
        <div class="stat-label">Documents</div>
        <div class="stat-value">1,234</div>
        <div class="stat-change neg mt-8">↓ 2.4%</div>
      </div>
    </div>
    <div class="col-3">
      <div class="stat-card">
        <div class="stat-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
        <div class="stat-label">Avg. Response</div>
        <div class="stat-value">4m 32s</div>
        <div class="stat-change neu mt-8">→ No change</div>
      </div>
    </div>
    <div class="col-3">
      <div class="stat-card">
        <div class="stat-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div>
        <div class="stat-label">Uptime</div>
        <div class="stat-value">99.9%</div>
        <div class="stat-change pos mt-8">↑ 0.1%</div>
      </div>
    </div>
  </div>
</section>

<!-- ══════════════════════════════════════════
     MODALS & OVERLAYS
══════════════════════════════════════════ -->
<section class="section" id="modals">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Modals &amp; Overlays</div>
    <div class="section-desc">Sharp-cornered containers with overlay backdrop. Header / Body / Footer structure throughout. Click buttons to open live demos.</div>
  </div>

  <div class="row gap-16">
    <!-- Static preview of modal -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Modal Dialog</div><button class="copy-btn" onclick="showCode('modal-dialog')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div style="border:1px solid var(--g200);margin-top:8px">
        <div style="padding:20px 24px;border-bottom:1px solid var(--g200);display:flex;justify-content:space-between;align-items:center">
          <span style="font-size:17px;font-weight:600">Edit Project</span>
          <button class="icon-btn-bare"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
        </div>
        <div style="padding:24px">
          <div class="field" style="margin-bottom:12px">
            <label class="label" style="font-size:13px">Project Name</label>
            <input class="input" type="text" value="Digital Transformation Q3" style="font-size:13px;padding:8px 10px"/>
          </div>
          <div class="field">
            <label class="label" style="font-size:13px">Description</label>
            <textarea class="input textarea" style="font-size:13px;padding:8px 10px;min-height:64px">Initiatives for the third quarter digital programme.</textarea>
          </div>
        </div>
        <div style="padding:14px 24px;border-top:1px solid var(--g200);display:flex;justify-content:flex-end;gap:10px">
          <button class="btn btn-secondary btn-sm">Cancel</button>
          <button class="btn btn-primary btn-sm">Save Changes</button>
        </div>
      </div>
      <button class="btn btn-primary btn-sm" style="margin-top:12px" onclick="openModal('modal1')">Open Live Modal</button>
    </div>

    <!-- Confirm dialog -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Confirm / Destructive Dialog</div><button class="copy-btn" onclick="showCode('modal-confirm')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div style="border:1px solid var(--g200);padding:24px;margin-top:8px">
        <div style="display:flex;gap:16px;margin-bottom:20px">
          <div class="confirm-icon">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--error)" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
          </div>
          <div>
            <div style="font-size:15px;font-weight:600;margin-bottom:6px">Delete Project?</div>
            <p style="font-size:13px;color:var(--g500);line-height:1.6">This will permanently delete <strong>Digital Transformation Q3</strong> and all associated data. This action cannot be undone.</p>
          </div>
        </div>
        <div style="display:flex;justify-content:flex-end;gap:10px">
          <button class="btn btn-secondary btn-sm">Cancel</button>
          <button class="btn btn-sm" style="background:var(--error);color:#fff;font-weight:600;border:none;padding:6px 14px;cursor:pointer">Delete Project</button>
        </div>
      </div>
      <button class="btn btn-destructive btn-sm" style="margin-top:12px" onclick="openModal('modal2')">Open Live Confirm</button>
    </div>

    <!-- Drawer preview -->
    <div class="col-12">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Side Panel / Drawer</div><button class="copy-btn" onclick="showCode('modal-drawer')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div style="display:flex;border:1px solid var(--g200);height:280px;overflow:hidden;margin-top:8px">
        <div style="flex:1;background:var(--g100);display:flex;align-items:center;justify-content:center">
          <span style="font-size:13px;color:var(--g500)">Main content area</span>
        </div>
        <div style="width:320px;background:#fff;border-left:1px solid var(--g200);display:flex;flex-direction:column;box-shadow:-4px 0 16px rgba(0,0,0,.06)">
          <div style="padding:16px 20px;border-bottom:1px solid var(--g200);display:flex;justify-content:space-between;align-items:center;flex-shrink:0">
            <span style="font-size:15px;font-weight:600">Project Details</span>
            <button class="icon-btn-bare"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
          </div>
          <div style="padding:16px;flex:1;overflow-y:auto">
            <div class="field" style="margin-bottom:12px">
              <label class="label" style="font-size:12px">Project Name</label>
              <input class="input" type="text" value="Digital Transformation Q3" style="font-size:13px;padding:8px 10px"/>
            </div>
            <div class="field">
              <label class="label" style="font-size:12px">Owner</label>
              <input class="input" type="text" value="Sarah Chen" style="font-size:13px;padding:8px 10px"/>
            </div>
          </div>
          <div style="padding:12px 16px;border-top:1px solid var(--g200);display:flex;justify-content:flex-end;gap:8px;flex-shrink:0">
            <button class="btn btn-secondary btn-sm">Cancel</button>
            <button class="btn btn-primary btn-sm">Save</button>
          </div>
        </div>
      </div>
      <button class="btn btn-primary btn-sm" style="margin-top:12px" onclick="openDrawer()">Open Live Drawer</button>
    </div>
  </div>
</section>

<!-- ══════════════════════════════════════════
     NAVIGATION
══════════════════════════════════════════ -->
<section class="section" id="navigation">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Navigation</div>
    <div class="section-desc">All navigation elements use sharp corners. Orange 500 indicates active state. Pagination uses black for active page.</div>
  </div>

  <!-- Underline tabs -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Underline Tabs</div><button class="copy-btn" onclick="showCode('nav-tabs-underline')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="tabs-underline" id="tabs1">
      <button class="tab-ul active" onclick="switchTab('tabs1',0,this)">Overview</button>
      <button class="tab-ul" onclick="switchTab('tabs1',1,this)">Analytics <span class="tab-count">12</span></button>
      <button class="tab-ul" onclick="switchTab('tabs1',2,this)">Reports</button>
      <button class="tab-ul" onclick="switchTab('tabs1',3,this)">Settings</button>
    </div>
    <div style="padding:16px 0 0;font-size:13px;color:var(--g500)" id="tabs1-content">Showing: Overview content area</div>
  </div>

  <!-- Pill tabs -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Pill Tabs</div><button class="copy-btn" onclick="showCode('nav-tabs-pill')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="tabs-pill" id="tabs2">
      <button class="tab-pill active" onclick="switchPill('tabs2',this)">All</button>
      <button class="tab-pill" onclick="switchPill('tabs2',this)">Active</button>
      <button class="tab-pill" onclick="switchPill('tabs2',this)">Pending</button>
      <button class="tab-pill" onclick="switchPill('tabs2',this)">Archived</button>
    </div>
  </div>

  <!-- Breadcrumbs -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Breadcrumbs</div><button class="copy-btn" onclick="showCode('nav-breadcrumb')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <nav class="breadcrumb">
      <a class="bc-item" href="#">Home</a>
      <svg class="bc-sep" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      <a class="bc-item" href="#">Projects</a>
      <svg class="bc-sep" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      <a class="bc-item" href="#">Digital</a>
      <svg class="bc-sep" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      <a class="bc-item current" href="#">Q3 Transformation</a>
    </nav>
  </div>

  <!-- Pagination -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Pagination</div><button class="copy-btn" onclick="showCode('nav-pagination')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="pagination" id="pgn">
      <button class="pg-btn pg-prev disabled" onclick="pgPrev()" id="pg-prev">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
        Prev
      </button>
      <button class="pg-btn active" onclick="pgSelect(this)">1</button>
      <button class="pg-btn" onclick="pgSelect(this)">2</button>
      <button class="pg-btn" onclick="pgSelect(this)">3</button>
      <button class="pg-btn" onclick="pgSelect(this)">4</button>
      <button class="pg-btn" onclick="pgSelect(this)">5</button>
      <button class="pg-btn pg-next" onclick="pgNext()" id="pg-next">
        Next
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
    </div>
  </div>

  <!-- Accordion -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Accordion</div><button class="copy-btn" onclick="showCode('nav-accordion')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="accordion">
      <div class="acc-item">
        <button class="acc-hd" onclick="toggleAcc(this)">
          Getting Started
          <svg class="acc-chevron open" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="acc-body open">
          <div class="acc-content">Begin by installing the design system package and importing the required CSS tokens. The system works across React, Angular, Vue, and plain HTML.</div>
        </div>
      </div>
      <div class="acc-item">
        <button class="acc-hd" onclick="toggleAcc(this)">
          Configuration Options
          <svg class="acc-chevron" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="acc-body">
          <div class="acc-content">Configure theme tokens, spacing scale, and component overrides via CSS custom properties. Dark mode is supported via a class toggle on the root element.</div>
        </div>
      </div>
      <div class="acc-item">
        <button class="acc-hd" onclick="toggleAcc(this)">
          Advanced Features
          <svg class="acc-chevron" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
        </button>
        <div class="acc-body">
          <div class="acc-content">Advanced usage includes composable chart primitives, data table virtualisation, and integration with PwC's backend authentication service.</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Sidebar nav demo -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Sidebar Navigation</div><button class="copy-btn" onclick="showCode('nav-sidebar')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div style="display:flex;border:1px solid var(--g200);height:260px;overflow:hidden">
      <div class="sidenav" id="sidenav1">
        <div class="sidenav-item active" onclick="switchSidenav(this,'sidenav1')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
          Dashboard
        </div>
        <div class="sidenav-item" onclick="switchSidenav(this,'sidenav1')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/></svg>
          Users
        </div>
        <div class="sidenav-item" onclick="switchSidenav(this,'sidenav1')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/></svg>
          Documents
        </div>
        <div class="sidenav-item" onclick="switchSidenav(this,'sidenav1')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
          Analytics
        </div>
        <div class="sidenav-item" onclick="switchSidenav(this,'sidenav1')">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/></svg>
          Settings
        </div>
      </div>
      <div style="flex:1;background:var(--g100);display:flex;align-items:center;justify-content:center">
        <span style="font-size:13px;color:var(--g500)" id="sidenav1-content">Dashboard content</span>
      </div>
    </div>
  </div>

  <!-- Avatar -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Avatar</div><button class="copy-btn" onclick="showCode('nav-avatar')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row center gap-16">
      <div class="label-wrap">
        <div style="width:28px;height:28px;border-radius:50%;background:var(--o100);display:flex;align-items:center;justify-content:center">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        </div>
        <div class="comp-label">Small — 28px</div>
      </div>
      <div class="label-wrap">
        <div class="avatar">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        </div>
        <div class="comp-label">Medium — 36px</div>
      </div>
      <div class="label-wrap">
        <div style="width:48px;height:48px;border-radius:50%;background:var(--o100);display:flex;align-items:center;justify-content:center">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        </div>
        <div class="comp-label">Large — 48px</div>
      </div>
    </div>
  </div>
</section>

<!-- ══════════════════════════════════════════
     FEEDBACK
══════════════════════════════════════════ -->
<section class="section" id="feedback">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Feedback Components</div>
    <div class="section-desc">Semantic colours strictly mapped: green=success, red=error, yellow=warning, blue=info. All badges are sharp-cornered. Toasts are interactive.</div>
  </div>

  <div class="row stretch gap-16">

    <!-- Alerts -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Alert Banners</div><button class="copy-btn" onclick="showCode('feedback-alerts')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
        <div class="alert alert-success">
          <svg class="alert-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--success)" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          <div class="alert-body">
            <div class="alert-title">Changes saved</div>
            <div class="alert-msg">Your project settings have been updated successfully.</div>
          </div>
          <button class="alert-close"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
        </div>
        <div class="alert alert-error">
          <svg class="alert-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--error)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          <div class="alert-body">
            <div class="alert-title">Upload failed</div>
            <div class="alert-msg">File size exceeds the 10MB limit. Please compress and retry.</div>
          </div>
          <button class="alert-close"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
        </div>
        <div class="alert alert-warning">
          <svg class="alert-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--warning)" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
          <div class="alert-body">
            <div class="alert-title">Session expiring</div>
            <div class="alert-msg">Your session will expire in 5 minutes. Save your work.</div>
          </div>
          <button class="alert-close"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
        </div>
        <div class="alert alert-info">
          <svg class="alert-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--info)" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
          <div class="alert-body">
            <div class="alert-title">Update available</div>
            <div class="alert-msg">Version 2.4.1 is ready. Refresh to apply the update.</div>
          </div>
          <button class="alert-close"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
        </div>
      </div>
    </div>

    <!-- Badges + Tooltip + Empty -->
    <div class="col-6" style="display:flex;flex-direction:column;gap:24px">
      <!-- Badges -->
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Badges &amp; Tags</div><button class="copy-btn" onclick="showCode('feedback-badges')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px">
          <span class="badge badge-brand">Brand New</span>
          <span class="badge badge-success">Active</span>
          <span class="badge badge-warning">Pending</span>
          <span class="badge badge-error">Urgent</span>
          <span class="badge badge-info">Info</span>
          <span class="badge badge-default">Default</span>
          <span class="badge badge-default">Draft</span>
          <span class="badge badge-success">Approved</span>
        </div>
      </div>

      <!-- Tooltip -->
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Tooltip</div><button class="copy-btn" onclick="showCode('feedback-tooltip')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div style="margin-top:8px">
          <div class="tooltip-wrap">
            <button class="btn btn-secondary btn-sm">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
              Hover for tooltip
            </button>
            <div class="tooltip-box">Appears above the trigger element</div>
          </div>
        </div>
      </div>

      <!-- Toast triggers -->
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Toast Notifications</div><button class="copy-btn" onclick="showCode('feedback-toast')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:8px">
          <button class="btn btn-secondary btn-sm" onclick="showToast('success','Changes saved successfully!')">Success</button>
          <button class="btn btn-secondary btn-sm" onclick="showToast('error','Upload failed. Try again.')">Error</button>
          <button class="btn btn-secondary btn-sm" onclick="showToast('warning','Session expires in 5 min.')">Warning</button>
          <button class="btn btn-secondary btn-sm" onclick="showToast('info','Version 2.4.1 available.')">Info</button>
        </div>
      </div>

      <!-- Empty state -->
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Empty State</div><button class="copy-btn" onclick="showCode('feedback-empty')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
        <div class="card" style="margin-top:8px">
          <div class="empty" style="padding:32px 24px">
            <div class="empty-icon">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="1.5"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"/></svg>
            </div>
            <div class="empty-title">No projects yet</div>
            <p class="empty-desc">Get started by creating your first project. It only takes a moment.</p>
            <button class="btn btn-primary btn-sm">Create Project</button>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ══════════════════════════════════════════
     PROGRESS & LOADING
══════════════════════════════════════════ -->
<section class="section" id="progress">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Progress &amp; Loading</div>
    <div class="section-desc">Orange 500 fills progress indicators. Spinners use SVG arcs. Skeleton blocks pulse on Grey 100.</div>
  </div>

  <div class="row stretch gap-16">

    <!-- Linear progress -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Linear Progress</div><button class="copy-btn" onclick="showCode('progress-linear')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="card" style="margin-top:8px;gap:20px;display:flex;flex-direction:column">
        <div>
          <div style="display:flex;justify-content:space-between;margin-bottom:8px">
            <span style="font-size:13px">Uploading files</span>
            <span style="font-size:13px;color:var(--g500)" id="prog1-pct">68%</span>
          </div>
          <div class="progress-track"><div class="progress-fill" id="prog1-fill" style="width:68%"></div></div>
        </div>
        <div>
          <div style="display:flex;justify-content:space-between;margin-bottom:8px">
            <span style="font-size:13px">Processing data</span>
            <span style="font-size:13px;color:var(--g500)">35%</span>
          </div>
          <div class="progress-track"><div class="progress-fill" style="width:35%"></div></div>
        </div>
        <div>
          <div style="display:flex;justify-content:space-between;margin-bottom:8px">
            <span style="font-size:13px">Complete</span>
            <span style="font-size:13px;color:var(--success)">100%</span>
          </div>
          <div class="progress-track"><div class="progress-fill" style="width:100%;background:var(--success)"></div></div>
        </div>
        <button class="btn btn-secondary btn-sm" style="width:fit-content" onclick="animateProgress()">Simulate Upload</button>
      </div>
    </div>

    <!-- Stepped progress -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Stepped Progress</div><button class="copy-btn" onclick="showCode('progress-stepped')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="card" style="margin-top:8px">
        <div class="steps">
          <div class="step">
            <div class="step-line done"></div>
            <div class="step-label done">
              <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="20 6 9 17 4 12"/></svg>
              Account
            </div>
          </div>
          <div class="step">
            <div class="step-line active"></div>
            <div class="step-label active">Profile</div>
          </div>
          <div class="step">
            <div class="step-line future"></div>
            <div class="step-label future">Settings</div>
          </div>
          <div class="step">
            <div class="step-line future"></div>
            <div class="step-label future">Review</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Spinners -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Spinners</div><button class="copy-btn" onclick="showCode('progress-spinner')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="card" style="margin-top:8px;display:flex;gap:32px;align-items:center;flex-wrap:wrap">
        <div class="label-wrap">
          <svg class="spinner" width="16" height="16" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" stroke="var(--g200)" stroke-width="3" fill="none"/>
            <circle cx="12" cy="12" r="10" stroke="var(--o500)" stroke-width="3" fill="none" stroke-dasharray="62.83" stroke-dashoffset="47.12" stroke-linecap="round"/>
          </svg>
          <div class="comp-label">16px</div>
        </div>
        <div class="label-wrap">
          <svg class="spinner" width="24" height="24" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" stroke="var(--g200)" stroke-width="3" fill="none"/>
            <circle cx="12" cy="12" r="10" stroke="var(--o500)" stroke-width="3" fill="none" stroke-dasharray="62.83" stroke-dashoffset="47.12" stroke-linecap="round"/>
          </svg>
          <div class="comp-label">24px</div>
        </div>
        <div class="label-wrap">
          <svg class="spinner" width="32" height="32" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" stroke="var(--g200)" stroke-width="3" fill="none"/>
            <circle cx="12" cy="12" r="10" stroke="var(--o500)" stroke-width="3" fill="none" stroke-dasharray="62.83" stroke-dashoffset="47.12" stroke-linecap="round"/>
          </svg>
          <div class="comp-label">32px</div>
        </div>
        <div class="label-wrap">
          <svg class="spinner" width="48" height="48" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="10" stroke="var(--g200)" stroke-width="3" fill="none"/>
            <circle cx="12" cy="12" r="10" stroke="var(--o500)" stroke-width="3" fill="none" stroke-dasharray="62.83" stroke-dashoffset="47.12" stroke-linecap="round"/>
          </svg>
          <div class="comp-label">48px</div>
        </div>
      </div>
    </div>

    <!-- Skeleton -->
    <div class="col-6">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Skeleton Loading</div><button class="copy-btn" onclick="showCode('progress-skeleton')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="card" style="margin-top:8px">
        <div style="display:flex;gap:12px;margin-bottom:16px;align-items:center">
          <div class="skel skel-circle" style="width:44px;height:44px;flex-shrink:0"></div>
          <div style="flex:1">
            <div class="skel skel-text" style="width:45%"></div>
            <div class="skel skel-text" style="width:65%;height:12px"></div>
          </div>
        </div>
        <div class="skel skel-text" style="width:100%"></div>
        <div class="skel skel-text" style="width:92%"></div>
        <div class="skel skel-text" style="width:78%"></div>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-top:8px">
          <div class="skel" style="height:64px"></div>
          <div class="skel" style="height:64px"></div>
          <div class="skel" style="height:64px"></div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ══════════════════════════════════════════
     DATA TABLE
══════════════════════════════════════════ -->
<section class="section" id="data">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Data Table</div>
    <div class="section-desc">Click rows to select. Orange 100 selected state. Sort columns, use checkboxes. Status badges use semantic colours.</div>
  <div style="margin-top:12px"><button class="copy-btn" onclick="showCode('data-table')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
  </div>

  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
    <div class="search-wrap" style="width:280px">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <input class="search-input" placeholder="Search users..." oninput="filterTable(this.value)"/>
    </div>
    <div style="display:flex;gap:8px">
      <button class="btn btn-secondary btn-sm">Export</button>
      <button class="btn btn-primary btn-sm">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        Add User
      </button>
    </div>
  </div>

  <div class="table-wrap">
    <table class="table" id="mainTable">
      <thead>
        <tr>
          <th style="width:40px"><input type="checkbox" class="table-check" onchange="toggleAllRows(this)"/></th>
          <th onclick="sortTable(1)" style="cursor:pointer">Name <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align:middle"><path d="M6 9l6-6 6 6M6 15l6 6 6-6"/></svg></th>
          <th>Email</th>
          <th onclick="sortTable(3)" style="cursor:pointer">Role <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align:middle"><path d="M6 9l6-6 6 6M6 15l6 6 6-6"/></svg></th>
          <th>Status</th>
          <th>Joined</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <tr onclick="toggleRow(this)">
          <td><input type="checkbox" class="table-check row-check" onclick="event.stopPropagation();toggleRowCheck(this)"/></td>
          <td style="font-weight:500">Sarah Chen</td>
          <td style="color:var(--g500)">s.chen@pwc.com</td>
          <td>Partner</td>
          <td><span class="badge badge-success">Active</span></td>
          <td style="color:var(--g500)">Jan 2022</td>
          <td><button class="icon-btn-bare"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button></td>
        </tr>
        <tr onclick="toggleRow(this)">
          <td><input type="checkbox" class="table-check row-check" onclick="event.stopPropagation();toggleRowCheck(this)"/></td>
          <td style="font-weight:500">James Okafor</td>
          <td style="color:var(--g500)">j.okafor@pwc.com</td>
          <td>Senior Manager</td>
          <td><span class="badge badge-success">Active</span></td>
          <td style="color:var(--g500)">Mar 2021</td>
          <td><button class="icon-btn-bare"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button></td>
        </tr>
        <tr onclick="toggleRow(this)">
          <td><input type="checkbox" class="table-check row-check" onclick="event.stopPropagation();toggleRowCheck(this)"/></td>
          <td style="font-weight:500">Priya Nair</td>
          <td style="color:var(--g500)">p.nair@pwc.com</td>
          <td>Manager</td>
          <td><span class="badge badge-warning">Pending</span></td>
          <td style="color:var(--g500)">Aug 2023</td>
          <td><button class="icon-btn-bare"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button></td>
        </tr>
        <tr onclick="toggleRow(this)">
          <td><input type="checkbox" class="table-check row-check" onclick="event.stopPropagation();toggleRowCheck(this)"/></td>
          <td style="font-weight:500">Tom Willis</td>
          <td style="color:var(--g500)">t.willis@pwc.com</td>
          <td>Associate</td>
          <td><span class="badge badge-default">Inactive</span></td>
          <td style="color:var(--g500)">Nov 2020</td>
          <td><button class="icon-btn-bare"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button></td>
        </tr>
        <tr onclick="toggleRow(this)">
          <td><input type="checkbox" class="table-check row-check" onclick="event.stopPropagation();toggleRowCheck(this)"/></td>
          <td style="font-weight:500">Elena Vasquez</td>
          <td style="color:var(--g500)">e.vasquez@pwc.com</td>
          <td>Director</td>
          <td><span class="badge badge-success">Active</span></td>
          <td style="color:var(--g500)">Jun 2019</td>
          <td><button class="icon-btn-bare"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="5" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="12" cy="19" r="1"/></svg></button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px;font-size:13px;color:var(--g500)">
    <span id="table-count">Showing 5 of 5 users</span>
    <div class="pagination">
      <button class="pg-btn pg-prev disabled">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg>
      </button>
      <button class="pg-btn active">1</button>
      <button class="pg-btn">2</button>
      <button class="pg-btn">3</button>
      <button class="pg-btn pg-next">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
    </div>
  </div>
</section>

<!-- ══════════════════════════════════════════
     CHARTS
══════════════════════════════════════════ -->
<section class="section" id="charts">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Charts</div>
    <div class="section-desc">SVG charts for quick embedding, plus full Recharts component code (shadcn/ui pattern) ready to copy. All colours use the PwC palette. Click <strong>Copy Code</strong> on any card to get the React/Recharts implementation.</div>
  </div>

  <div class="chart-cat-header">
    <span class="chart-cat-title">Area Charts</span>
    <span class="chart-cat-count">4 variants</span>
  </div>
  <div class="row stretch gap-16">
    <div class="col-6">
      <div id="rc-area-interactive" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('area-interactive')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-area-stacked" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('area-stacked')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-area-simple" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('area-simple')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-area-step" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('area-step')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
  </div>

  <div class="chart-cat-header">
    <span class="chart-cat-title">Line Charts</span>
    <span class="chart-cat-count">4 variants</span>
  </div>
  <div class="row stretch gap-16">
    <div class="col-6">
      <div id="rc-line-multi" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('line-multi')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-line-step" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('line-step')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-line-dots" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('line-dots')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-line-labels" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('line-labels')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
  </div>

  <div class="chart-cat-header">
    <span class="chart-cat-title">Bar Charts</span>
    <span class="chart-cat-count">6 variants</span>
  </div>
  <div class="row stretch gap-16">
    <div class="col-6">
      <div id="rc-bar-grouped" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-grouped')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-bar-stacked" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-stacked')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-bar-horizontal" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-horizontal')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-bar-labels" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-labels')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-bar-negative" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-negative')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-bar-composed" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-composed')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
  </div>

  <div class="chart-cat-header">
    <span class="chart-cat-title">Pie & Donut Charts</span>
    <span class="chart-cat-count">4 variants</span>
  </div>
  <div class="row stretch gap-16">
    <div class="col-6">
      <div id="rc-pie-simple" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('pie-simple')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-pie-labels" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('pie-labels')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-donut-text" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('donut-text')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-donut-stacked" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('donut-stacked')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
  </div>

  <div class="chart-cat-header">
    <span class="chart-cat-title">Radar & Radial Charts</span>
    <span class="chart-cat-count">4 variants</span>
  </div>
  <div class="row stretch gap-16">
    <div class="col-6">
      <div id="rc-radar-default" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('radar-default')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-radar-circular" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('radar-circular')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-radial-bar" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('radial-bar')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-radial-text" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('radial-text')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
  </div>

  <div class="chart-cat-header">
    <span class="chart-cat-title">Other Charts</span>
    <span class="chart-cat-count">4 variants</span>
  </div>
  <div class="row stretch gap-16">
    <div class="col-6">
      <div id="rc-scatter" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('scatter')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-treemap" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('treemap')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-funnel" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('funnel')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
    <div class="col-6">
      <div id="rc-bar-simple" style="border:1px solid #DFE3E6;background:#fff;overflow:hidden;flex:1;min-width:0;"></div>
      <button class="copy-btn" onclick="showCode('bar-simple')">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="1"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
        Copy Code
      </button>
    </div>
  </div>
</section>

<!-- ══ CODE VIEWER MODAL ══ -->
<div class="code-overlay" id="codeOverlay" style="display:none" onclick="if(event.target===this)closeCodeModal()">
  <div class="code-modal">
    <div class="code-modal-hd">
      <div class="code-modal-title">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
        <span id="codeModalTitle">Component Code</span>
        <span class="code-modal-badge">React · shadcn/ui · PwC</span>
      </div>
      <div class="code-modal-actions">
        <button class="code-copy-btn" id="codeCopyBtn" onclick="copyModalCode()">Copy</button>
        <button class="code-close-btn" onclick="closeCodeModal()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
        </button>
      </div>
    </div>
    <div class="code-modal-body">
      <pre class="code-pre" id="codeModalContent"></pre>
    </div>
  </div>
</div>

<!-- ══════════════════════════════════════════
     CHAT & ASSISTANT
══════════════════════════════════════════ -->
<section class="section" id="chat">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Virtual Assistant &amp; Chat</div>
    <div class="section-desc">FAB triggers the chat panel. Sharp-cornered panel. AI messages show icon above text. Type and press Enter to send.</div>
  </div>
  <div class="row gap-16">
    <div class="col-4">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">FAB — Closed State</div><button class="copy-btn" onclick="showCode('chat-fab')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div style="height:120px;background:var(--g100);border:1px solid var(--g200);display:flex;align-items:center;justify-content:center;margin-top:8px">
        <button class="fab" aria-label="Open chat">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M8 10h.01M12 10h.01M16 10h.01"/></svg>
        </button>
      </div>
    </div>
    <div class="col-8">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"><div class="demo-card-label" style="margin-bottom:0">Chat Panel</div><button class="copy-btn" onclick="showCode('chat-panel')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
      <div class="chat-panel" style="margin-top:8px">
        <div class="chat-hd">
          <div style="display:flex;align-items:center;gap:8px">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <span style="font-weight:600">PwC Assistant</span>
            <span class="badge badge-success" style="font-size:10px">Online</span>
          </div>
          <div style="display:flex;gap:8px">
            <button class="icon-btn-bare"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button>
            <button class="icon-btn-bare"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
          </div>
        </div>
        <div class="chat-messages" id="chatMessages">
          <div class="chat-msg-ai">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <div style="font-size:14px;line-height:1.6;max-width:85%">Hello! I'm your PwC digital assistant. How can I help you today?</div>
          </div>
          <div class="chat-msg-user">
            <div class="chat-bubble-user">Can you show me the design system components?</div>
          </div>
          <div class="chat-msg-ai">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            <div style="font-size:14px;line-height:1.6;max-width:85%">Of course! The catalogue on this page covers buttons, forms, navigation, charts, and more — all following PwC brand standards. Use the sidebar to navigate.</div>
          </div>
        </div>
        <div class="chat-input-wrap">
          <div class="chat-input-inner">
            <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"/></svg>
            <input class="chat-input" id="chatInput" placeholder="Type a message..." onkeypress="chatSend(event)"/>
            <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ══════════════════════════════════════════
     FOUNDATIONS
══════════════════════════════════════════ -->
<section class="section" id="foundations">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Foundations</div>
    <div class="section-desc">Design tokens, typographic scale, spacing, and animation keyframes underpinning all components.</div>
  </div>

  <!-- Colour palette — equal swatches in 7-col grid -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Colour Palette</div><button class="copy-btn" onclick="showCode('foundations-colors')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div style="display:grid;grid-template-columns:repeat(7,1fr);gap:12px">
      <div><div class="colour-swatch" style="background:var(--o500)"></div><div class="colour-meta"><div class="colour-name">Orange 500</div><div class="colour-hex">#FD5108</div></div></div>
      <div><div class="colour-swatch" style="background:var(--o300)"></div><div class="colour-meta"><div class="colour-name">Orange 300</div><div class="colour-hex">#FFAA72</div></div></div>
      <div><div class="colour-swatch" style="background:var(--o100)"></div><div class="colour-meta"><div class="colour-name">Orange 100</div><div class="colour-hex">#FFE8D4</div></div></div>
      <div><div class="colour-swatch" style="background:#000"></div><div class="colour-meta"><div class="colour-name">Black</div><div class="colour-hex">#000000</div></div></div>
      <div><div class="colour-swatch" style="background:#fff;border:1px solid var(--g200)"></div><div class="colour-meta"><div class="colour-name">White</div><div class="colour-hex">#FFFFFF</div></div></div>
      <div><div class="colour-swatch" style="background:var(--g100)"></div><div class="colour-meta"><div class="colour-name">Grey 100</div><div class="colour-hex">#EEEFF1</div></div></div>
      <div><div class="colour-swatch" style="background:var(--g200)"></div><div class="colour-meta"><div class="colour-name">Grey 200</div><div class="colour-hex">#DFE3E6</div></div></div>
    </div>
    <div style="display:grid;grid-template-columns:repeat(7,1fr);gap:12px;margin-top:12px">
      <div><div class="colour-swatch" style="background:var(--g300)"></div><div class="colour-meta"><div class="colour-name">Grey 300</div><div class="colour-hex">#CBD1D6</div></div></div>
      <div><div class="colour-swatch" style="background:var(--g400)"></div><div class="colour-meta"><div class="colour-name">Grey 400</div><div class="colour-hex">#B5BCC4</div></div></div>
      <div><div class="colour-swatch" style="background:var(--g500)"></div><div class="colour-meta"><div class="colour-name">Grey 500</div><div class="colour-hex">#A1A8B3</div></div></div>
      <div><div class="colour-swatch" style="background:var(--success)"></div><div class="colour-meta"><div class="colour-name">Success</div><div class="colour-hex">#22C55E</div></div></div>
      <div><div class="colour-swatch" style="background:var(--warning)"></div><div class="colour-meta"><div class="colour-name">Warning</div><div class="colour-hex">#EAB308</div></div></div>
      <div><div class="colour-swatch" style="background:var(--error)"></div><div class="colour-meta"><div class="colour-name">Error</div><div class="colour-hex">#EF4444</div></div></div>
      <div><div class="colour-swatch" style="background:var(--info)"></div><div class="colour-meta"><div class="colour-name">Info</div><div class="colour-hex">#3B82F6</div></div></div>
    </div>
  </div>

  <!-- Typography -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Typography Scale</div><button class="copy-btn" onclick="showCode('foundations-typography')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div style="border:1px solid var(--g200)">
      <div class="type-row"><span class="type-spec">H1 · 32px · 600</span><span style="font-size:32px;font-weight:600">Heading One</span></div>
      <div class="type-row"><span class="type-spec">H2 · 24px · 600</span><span style="font-size:24px;font-weight:600">Heading Two</span></div>
      <div class="type-row"><span class="type-spec">H3 · 18px · 600</span><span style="font-size:18px;font-weight:600">Heading Three</span></div>
      <div class="type-row"><span class="type-spec">H4 · 16px · 600</span><span style="font-size:16px;font-weight:600">Heading Four</span></div>
      <div class="type-row"><span class="type-spec">Body · 14px · 400</span><span style="font-size:14px;font-weight:400;line-height:1.6">The quick brown fox jumps over the lazy dog. Body text uses system-ui at 14px with 1.6 line height for optimal legibility.</span></div>
      <div class="type-row"><span class="type-spec">Label · 14px · 500</span><span style="font-size:14px;font-weight:500">Form Label Text</span></div>
      <div class="type-row"><span class="type-spec">Caption · 12px · 400</span><span style="font-size:12px;font-weight:400;color:var(--g500)">Supporting caption or helper text</span></div>
      <div class="type-row"><span class="type-spec">Micro · 11px · 500</span><span style="font-size:11px;font-weight:500;color:var(--g500)">MICRO LABEL · UPPERCASE</span></div>
    </div>
  </div>

  <!-- Spacing -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Spacing Scale (8px grid)</div><button class="copy-btn" onclick="showCode('foundations-spacing')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div style="display:flex;flex-wrap:wrap;gap:24px;align-items:flex-end">
      <div class="label-wrap"><div class="space-block" style="width:4px;height:4px"></div><div class="comp-label">xs · 4px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:8px;height:8px"></div><div class="comp-label">sm · 8px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:12px;height:12px"></div><div class="comp-label">md · 12px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:16px;height:16px"></div><div class="comp-label">lg · 16px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:20px;height:20px"></div><div class="comp-label">xl · 20px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:24px;height:24px"></div><div class="comp-label">2xl · 24px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:32px;height:32px"></div><div class="comp-label">3xl · 32px</div></div>
      <div class="label-wrap"><div class="space-block" style="width:48px;height:48px"></div><div class="comp-label">4xl · 48px</div></div>
    </div>
  </div>

  <!-- Animations -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Animation Keyframes</div><button class="copy-btn" onclick="showCode('foundations-animations')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div style="display:flex;flex-wrap:wrap;gap:24px;align-items:center">
      <div class="label-wrap">
        <svg class="spinner" width="32" height="32" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" stroke="var(--g200)" stroke-width="3" fill="none"/>
          <circle cx="12" cy="12" r="10" stroke="var(--o500)" stroke-width="3" fill="none" stroke-dasharray="62.83" stroke-dashoffset="47.12" stroke-linecap="round"/>
        </svg>
        <div class="comp-label">spin · 1s linear</div>
      </div>
      <div class="label-wrap">
        <div style="width:32px;height:32px;background:var(--o500);animation:pulse 1.5s ease-in-out infinite"></div>
        <div class="comp-label">pulse · 1.5s ease</div>
      </div>
      <div class="label-wrap">
        <div style="width:32px;height:32px;background:var(--o100);border:1px solid var(--o300);animation:fadeIn 2s ease infinite alternate"></div>
        <div class="comp-label">fadeIn · 0.3s ease</div>
      </div>
    </div>
  </div>

</section>

<!-- ══════════════════════════════════════════
     BRAND ASSETS
══════════════════════════════════════════ -->
<section class="section" id="brand">
  <div class="section-header">
    <div class="section-divider"></div>
    <div class="section-title">Brand Assets</div>
    <div class="section-desc">Official PwC brand marks. Use these SVGs as provided — never modify proportions, colour, or minimum clear space.</div>
  </div>

  <!-- PwC Logo -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">PwC Logo</div><button class="copy-btn" onclick="showCode('brand-logo')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row gap-16">
      <div class="demo-card col-6">
        <div class="demo-card-label">Standard — Black + Orange</div>
        <div style="padding:32px 40px;background:#fff;border:1px solid var(--g200);display:flex;align-items:center;justify-content:center;margin-top:8px">
          <svg width="200" height="96" viewBox="30 143 440 212" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M355.041 233.765C339.717 236.206 331.925 247.425 331.925 267.214C331.925 287.003 342.331 300.403 358.334 300.403C365.762 300.403 372.508 297.962 386.732 291.054V307.155C369.682 314.894 359.642 317.335 345.94 317.335C331.088 317.335 320.629 313.44 312.052 304.766C303.319 296.092 298.926 284.561 298.926 271.784C298.926 243.322 320.158 224.104 351.118 224.104C371.67 224.104 385.842 233.453 385.842 247.165C385.842 255.995 379.252 262.072 369.473 262.072C364.454 262.072 360.323 260.773 355.041 257.709V233.869V233.765ZM279.472 271.732C293.173 254.54 298.037 247.632 298.037 239.166C298.037 230.7 291.343 224 282.348 224C276.805 224 271.837 226.597 269.431 229.298V264.305L246.944 294.066V226.234H225.555L190.045 284.717V226.234H177.756L145.489 234.024V242.231L163.061 243.997V315.725H185.809L219.907 260.098V315.725H244.8L279.42 271.732H279.472ZM77.6086 244.464C82.8381 243.841 85.4532 243.529 87.9111 243.529C102.763 243.529 110.764 253.294 110.764 271.732C110.764 293.495 100.933 304.818 82.6291 304.818C81.1125 304.818 80.0143 304.818 77.6086 304.714V244.464ZM77.6086 314.894C83.518 315.569 89.2708 315.777 92.7223 315.777C123.211 315.777 142.508 296.404 142.508 267.629C142.508 242.75 128.022 224.727 108.359 224.727C99.8346 224.727 94.1867 226.441 77.6086 236.258V224.26H68.4046L33 234.959V243.581H47.6429V343.928L34.4643 347.2V355.511H92.304V347.2L77.5564 343.928V314.894H77.6086Z" fill="#000"/>
            <path d="M338.568 199.173H242.029L258.45 172.112H354.99L338.568 199.173ZM468 145H371.463L355.042 172.06H451.579L468 145Z" fill="#FD5108"/>
          </svg>
        </div>
      </div>
      <div class="demo-card col-6">
        <div class="demo-card-label">Reversed — White + Orange</div>
        <div style="padding:32px 40px;background:#000;display:flex;align-items:center;justify-content:center;margin-top:8px">
          <svg width="200" height="96" viewBox="30 143 440 212" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M355.041 233.765C339.717 236.206 331.925 247.425 331.925 267.214C331.925 287.003 342.331 300.403 358.334 300.403C365.762 300.403 372.508 297.962 386.732 291.054V307.155C369.682 314.894 359.642 317.335 345.94 317.335C331.088 317.335 320.629 313.44 312.052 304.766C303.319 296.092 298.926 284.561 298.926 271.784C298.926 243.322 320.158 224.104 351.118 224.104C371.67 224.104 385.842 233.453 385.842 247.165C385.842 255.995 379.252 262.072 369.473 262.072C364.454 262.072 360.323 260.773 355.041 257.709V233.869V233.765ZM279.472 271.732C293.173 254.54 298.037 247.632 298.037 239.166C298.037 230.7 291.343 224 282.348 224C276.805 224 271.837 226.597 269.431 229.298V264.305L246.944 294.066V226.234H225.555L190.045 284.717V226.234H177.756L145.489 234.024V242.231L163.061 243.997V315.725H185.809L219.907 260.098V315.725H244.8L279.42 271.732H279.472ZM77.6086 244.464C82.8381 243.841 85.4532 243.529 87.9111 243.529C102.763 243.529 110.764 253.294 110.764 271.732C110.764 293.495 100.933 304.818 82.6291 304.818C81.1125 304.818 80.0143 304.818 77.6086 304.714V244.464ZM77.6086 314.894C83.518 315.569 89.2708 315.777 92.7223 315.777C123.211 315.777 142.508 296.404 142.508 267.629C142.508 242.75 128.022 224.727 108.359 224.727C99.8346 224.727 94.1867 226.441 77.6086 236.258V224.26H68.4046L33 234.959V243.581H47.6429V343.928L34.4643 347.2V355.511H92.304V347.2L77.5564 343.928V314.894H77.6086Z" fill="#fff"/>
            <path d="M338.568 199.173H242.029L258.45 172.112H354.99L338.568 199.173ZM468 145H371.463L355.042 172.06H451.579L468 145Z" fill="#FD5108"/>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Momentum Mark -->
  <div class="sub"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px"><div class="sub-title" style="margin-bottom:0">Momentum Mark</div><button class="copy-btn" onclick="showCode('brand-momentum')"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg> Copy Code</button></div>
    <div class="row gap-16">
      <div class="demo-card col-4">
        <div class="demo-card-label">Orange — Primary</div>
        <div style="padding:28px 32px;background:#fff;border:1px solid var(--g200);display:flex;align-items:center;justify-content:center;margin-top:8px">
          <svg width="192" height="40" viewBox="0 0 342 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M149.2854,72H.12l21.7146-36h149.1654l-21.7146,36ZM341.88,0h-149.1654l-21.7146,36h149.1654L341.88,0Z" fill="#FD5108"/>
          </svg>
        </div>
      </div>
      <div class="demo-card col-4">
        <div class="demo-card-label">Orange — On Black</div>
        <div style="padding:28px 32px;background:#000;display:flex;align-items:center;justify-content:center;margin-top:8px">
          <svg width="192" height="40" viewBox="0 0 342 72" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M149.2854,72H.12l21.7146-36h149.1654l-21.7146,36ZM341.88,0h-149.1654l-21.7146,36h149.1654L341.88,0Z" fill="#FD5108"/>
          </svg>
        </div>
      </div>
    </div>
  </div>

</section>

  </div><!-- /content -->
</div><!-- /main -->
</div><!-- /app -->

<!-- ══════════════════════════════════════════
     OVERLAYS (modals/drawers rendered here)
══════════════════════════════════════════ -->
<div id="modal1" style="display:none" class="modal-overlay" onclick="closeModal('modal1',event)">
  <div class="modal">
    <div class="modal-hd">
      <span class="modal-title">Edit Project</span>
      <button class="modal-close" onclick="closeModal('modal1')"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
    </div>
    <div class="modal-bd">
      <div class="field" style="margin-bottom:14px">
        <label class="label">Project Name</label>
        <input class="input" type="text" value="Digital Transformation Q3"/>
      </div>
      <div class="field">
        <label class="label">Description</label>
        <textarea class="input textarea" style="min-height:80px">Initiatives for the third quarter digital programme.</textarea>
      </div>
    </div>
    <div class="modal-ft">
      <button class="btn btn-secondary btn-sm" onclick="closeModal('modal1')">Cancel</button>
      <button class="btn btn-primary btn-sm" onclick="closeModal('modal1')">Save Changes</button>
    </div>
  </div>
</div>

<div id="modal2" style="display:none" class="modal-overlay" onclick="closeModal('modal2',event)">
  <div class="confirm">
    <div style="display:flex;gap:16px;margin-bottom:20px">
      <div class="confirm-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--error)" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
      </div>
      <div>
        <div style="font-size:15px;font-weight:600;margin-bottom:6px">Delete Project?</div>
        <p style="font-size:13px;color:var(--g500);line-height:1.6">This will permanently remove the project. This cannot be undone.</p>
      </div>
    </div>
    <div style="display:flex;justify-content:flex-end;gap:10px">
      <button class="btn btn-secondary btn-sm" onclick="closeModal('modal2')">Cancel</button>
      <button class="btn btn-sm" style="background:var(--error);color:#fff;border:none;padding:6px 14px;font-weight:600;cursor:pointer" onclick="closeModal('modal2');showToast('error','Project deleted.')">Delete</button>
    </div>
  </div>
</div>

<div id="drawer" style="display:none">
  <div class="drawer-overlay" onclick="closeDrawer()"></div>
  <div class="drawer">
    <div class="drawer-hd">
      <span style="font-weight:600;font-size:15px">Project Details</span>
      <button class="icon-btn-bare" onclick="closeDrawer()"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
    </div>
    <div class="drawer-bd">
      <div class="field" style="margin-bottom:14px">
        <label class="label">Project Name</label>
        <input class="input" type="text" value="Digital Transformation Q3"/>
      </div>
      <div class="field" style="margin-bottom:14px">
        <label class="label">Owner</label>
        <input class="input" type="text" value="Sarah Chen"/>
      </div>
      <div class="field">
        <label class="label">Status</label>
        <div class="dropdown" id="dd-drawer">
          <button class="dropdown-btn" onclick="toggleDrop('dd-drawer')" id="dd-drawer-btn">
            <span id="dd-drawer-val">Active</span>
            <svg class="dropdown-chevron" id="dd-drawer-chev" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--g400)" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="dropdown-list" id="dd-drawer-list" style="display:none">
            <div class="dropdown-item selected" onclick="selectDrop('dd-drawer','Active')">Active
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
            </div>
            <div class="dropdown-item" onclick="selectDrop('dd-drawer','Pending')">Pending</div>
            <div class="dropdown-item" onclick="selectDrop('dd-drawer','On Hold')">On Hold</div>
            <div class="dropdown-item" onclick="selectDrop('dd-drawer','Closed')">Closed</div>
          </div>
        </div>
      </div>
    </div>
    <div class="drawer-ft">
      <button class="btn btn-secondary btn-sm" onclick="closeDrawer()">Cancel</button>
      <button class="btn btn-primary btn-sm" onclick="closeDrawer();showToast('success','Changes saved.')">Save Changes</button>
    </div>
  </div>
</div>

<!-- Toast container -->
<div id="toastContainer" style="position:fixed;top:24px;right:24px;z-index:1000;display:flex;flex-direction:column;gap:10px;pointer-events:none"></div>

<script>
// ── NAV ACTIVE + ACCORDION ──
const GRP_MAP = {
  'buttons':'grp-buttons','forms':'grp-forms','cards':'grp-cards',
  'modals':'grp-modals','navigation':'grp-nav','feedback':'grp-feedback',
  'progress':'grp-progress','data':'grp-data','charts':'grp-charts',
  'chat':'grp-chat','brand':'grp-brand','foundations':'grp-foundations'
};
function openGrp(id) {
  document.querySelectorAll('.nav-grp').forEach(g => g.classList.remove('open'));
  const g = document.getElementById(id);
  if (g) g.classList.add('open');
}
function setActive(el) {
  document.querySelectorAll('.nav-link-head').forEach(l => l.classList.remove('active'));
  el.classList.add('active');
  const grp = el.closest('.nav-grp');
  if (grp) openGrp(grp.id);
}
window.addEventListener('scroll', () => {
  const secs = document.querySelectorAll('.section');
  let cur = '';
  secs.forEach(s => { if (window.scrollY >= s.offsetTop - 120) cur = s.id; });
  document.querySelectorAll('.nav-link-head').forEach(l => {
    l.classList.toggle('active', l.getAttribute('href') === '#' + cur);
  });
  if (cur && GRP_MAP[cur]) openGrp(GRP_MAP[cur]);
});

// ── JUMP TO COMPONENT ──
function jumpTo(key) {
  const btn = document.querySelector('[onclick*="showCode(\'' + key + '\')"]');
  if (btn) {
    const t = btn.closest('.sub') || btn.closest('.demo-card') || btn.closest('.col-6');
    if (t) t.scrollIntoView({behavior:'smooth', block:'start'});
  }
}
function jumpToChartCat(name) {
  document.querySelectorAll('.chart-cat-title').forEach(h => {
    if (h.textContent.trim() === name) {
      h.closest('.chart-cat-header').scrollIntoView({behavior:'smooth', block:'start'});
    }
  });
}

// ── COMPONENT SEARCH ──
const COMP_IDX = [
  {n:'Button Variants',k:'btn-variants',s:'Buttons'},
  {n:'Button Sizes',k:'btn-sizes',s:'Buttons'},
  {n:'With Icons & Loading',k:'btn-icons',s:'Buttons'},
  {n:'Icon Buttons',k:'btn-icon-only',s:'Buttons'},
  {n:'Text Input',k:'form-input',s:'Form Controls'},
  {n:'Textarea & Search',k:'form-textarea',s:'Form Controls'},
  {n:'Dropdown Select',k:'form-dropdown',s:'Form Controls'},
  {n:'Checkboxes & Radio',k:'form-checkbox',s:'Form Controls'},
  {n:'Toggles',k:'form-toggle',s:'Form Controls'},
  {n:'Sliders',k:'form-slider',s:'Form Controls'},
  {n:'Standard Card',k:'card-standard',s:'Cards'},
  {n:'Panel with Header',k:'card-panel',s:'Cards'},
  {n:'Stat Card',k:'card-stat',s:'Cards'},
  {n:'Modal Dialog',k:'modal-dialog',s:'Modals'},
  {n:'Confirm Dialog',k:'modal-confirm',s:'Modals'},
  {n:'Side Drawer',k:'modal-drawer',s:'Modals'},
  {n:'Underline Tabs',k:'nav-tabs-underline',s:'Navigation'},
  {n:'Pill Tabs',k:'nav-tabs-pill',s:'Navigation'},
  {n:'Breadcrumbs',k:'nav-breadcrumb',s:'Navigation'},
  {n:'Pagination',k:'nav-pagination',s:'Navigation'},
  {n:'Accordion',k:'nav-accordion',s:'Navigation'},
  {n:'Sidebar Navigation',k:'nav-sidebar',s:'Navigation'},
  {n:'Avatar',k:'nav-avatar',s:'Navigation'},
  {n:'Alert Banners',k:'feedback-alerts',s:'Feedback'},
  {n:'Badges & Tags',k:'feedback-badges',s:'Feedback'},
  {n:'Tooltip',k:'feedback-tooltip',s:'Feedback'},
  {n:'Toast Notifications',k:'feedback-toast',s:'Feedback'},
  {n:'Empty State',k:'feedback-empty',s:'Feedback'},
  {n:'Linear Progress',k:'progress-linear',s:'Progress'},
  {n:'Stepped Progress',k:'progress-stepped',s:'Progress'},
  {n:'Spinners',k:'progress-spinner',s:'Progress'},
  {n:'Skeleton Loading',k:'progress-skeleton',s:'Progress'},
  {n:'Data Table',k:'data-table',s:'Data Table'},
  {n:'Area Interactive',k:'area-interactive',s:'Charts'},
  {n:'Area Stacked',k:'area-stacked',s:'Charts'},
  {n:'Area Simple',k:'area-simple',s:'Charts'},
  {n:'Area Step',k:'area-step',s:'Charts'},
  {n:'Line Multi-series',k:'line-multi',s:'Charts'},
  {n:'Line Step',k:'line-step',s:'Charts'},
  {n:'Line with Dots',k:'line-dots',s:'Charts'},
  {n:'Line with Labels',k:'line-labels',s:'Charts'},
  {n:'Bar Grouped',k:'bar-grouped',s:'Charts'},
  {n:'Bar Stacked',k:'bar-stacked',s:'Charts'},
  {n:'Bar Horizontal',k:'bar-horizontal',s:'Charts'},
  {n:'Bar with Labels',k:'bar-labels',s:'Charts'},
  {n:'Bar Negative',k:'bar-negative',s:'Charts'},
  {n:'Bar Composed',k:'bar-composed',s:'Charts'},
  {n:'Bar Simple',k:'bar-simple',s:'Charts'},
  {n:'Pie Simple',k:'pie-simple',s:'Charts'},
  {n:'Pie with Labels',k:'pie-labels',s:'Charts'},
  {n:'Donut with Text',k:'donut-text',s:'Charts'},
  {n:'Donut Stacked',k:'donut-stacked',s:'Charts'},
  {n:'Radar Default',k:'radar-default',s:'Charts'},
  {n:'Radar Circular',k:'radar-circular',s:'Charts'},
  {n:'Radial Bar',k:'radial-bar',s:'Charts'},
  {n:'Radial with Text',k:'radial-text',s:'Charts'},
  {n:'Scatter Chart',k:'scatter',s:'Charts'},
  {n:'Treemap',k:'treemap',s:'Charts'},
  {n:'Funnel Chart',k:'funnel',s:'Charts'},
  {n:'FAB Button',k:'chat-fab',s:'Chat'},
  {n:'Chat Panel',k:'chat-panel',s:'Chat'},
  {n:'PwC Logo',k:'brand-logo',s:'Brand Assets'},
  {n:'Momentum Mark',k:'brand-momentum',s:'Brand Assets'},
  {n:'Colour Palette',k:'foundations-colors',s:'Foundations'},
  {n:'Typography Scale',k:'foundations-typography',s:'Foundations'},
  {n:'Spacing Scale',k:'foundations-spacing',s:'Foundations'},
  {n:'Animation Tokens',k:'foundations-animations',s:'Foundations'},
];
function filterComps(q) {
  const out = document.getElementById('searchResults');
  if (!q.trim()) { out.style.display = 'none'; return; }
  const r = COMP_IDX.filter(c =>
    c.n.toLowerCase().includes(q.toLowerCase()) ||
    c.s.toLowerCase().includes(q.toLowerCase())
  );
  out.innerHTML = r.length
    ? r.slice(0, 8).map(c =>
        '<div class="search-result" onclick="jumpTo(\''+c.k+'\');clearSearch()">' +
        '<span class="search-result-name">'+c.n+'</span>' +
        '<span class="search-result-sec">'+c.s+'</span></div>'
      ).join('')
    : '<div style="padding:8px 12px;font-size:12px;color:var(--g400)">No results</div>';
  out.style.display = 'block';
}
function clearSearch() {
  const el = document.getElementById('compSearch');
  if (el) el.value = '';
  const out = document.getElementById('searchResults');
  if (out) out.style.display = 'none';
}
document.addEventListener('click', e => {
  if (!e.target.closest('.search-wrap')) clearSearch();
});

// ── DARK MODE ──
(function() {
  if (localStorage.getItem('pwc-theme') === 'dark') {
    document.documentElement.setAttribute('data-theme', 'dark');
  }
})();
function toggleTheme() {
  const html = document.documentElement;
  const isDark = html.getAttribute('data-theme') === 'dark';
  html.setAttribute('data-theme', isDark ? 'light' : 'dark');
  document.getElementById('iconMoon').style.display = isDark ? '' : 'none';
  document.getElementById('iconSun').style.display = isDark ? 'none' : '';
  document.getElementById('themeLbl').textContent = isDark ? 'Dark' : 'Light';
  localStorage.setItem('pwc-theme', isDark ? 'light' : 'dark');
}
document.addEventListener('DOMContentLoaded', function() {
  if (localStorage.getItem('pwc-theme') === 'dark') {
    const moon = document.getElementById('iconMoon');
    const sun = document.getElementById('iconSun');
    const lbl = document.getElementById('themeLbl');
    if (moon) moon.style.display = 'none';
    if (sun) sun.style.display = '';
    if (lbl) lbl.textContent = 'Light';
  }
});

// ── BUTTONS ──
function simulateLoad(btn){
  btn.querySelector('.btn-text').style.display='none';
  btn.querySelector('.btn-spinner').style.display='flex';
  btn.disabled=true;
  setTimeout(()=>{
    btn.querySelector('.btn-text').style.display='';
    btn.querySelector('.btn-spinner').style.display='none';
    btn.disabled=false;
  },2500);
}

// ── DROPDOWNS ──
function toggleDrop(id){
  const list=document.getElementById(id+'-list');
  const chev=document.getElementById(id+'-chev');
  const isOpen=list.style.display!=='none';
  document.querySelectorAll('.dropdown-list').forEach(l=>l.style.display='none');
  document.querySelectorAll('.dropdown-chevron').forEach(c=>c.classList.remove('open'));
  if(!isOpen){list.style.display='block';chev.classList.add('open');}
}
function selectDrop(id,val){
  document.getElementById(id+'-val').textContent=val;
  document.getElementById(id+'-btn').classList.remove('placeholder');
  document.getElementById(id+'-list').style.display='none';
  document.getElementById(id+'-chev').classList.remove('open');
  document.querySelectorAll('#'+id+'-list .dropdown-item').forEach(i=>{
    i.classList.toggle('selected',i.textContent.trim().startsWith(val));
  });
}
document.addEventListener('click',e=>{
  if(!e.target.closest('.dropdown')){
    document.querySelectorAll('.dropdown-list').forEach(l=>l.style.display='none');
    document.querySelectorAll('.dropdown-chevron').forEach(c=>c.classList.remove('open'));
  }
});

// ── CHECKBOXES ──
function toggleCheck(id){
  const box=document.getElementById(id);
  const isChecked=box.classList.toggle('checked');
  box.innerHTML=isChecked?'<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>':'';
}

// ── RADIO ──
const radios=['r1','r2','r3'];
function selectRadio(id){
  radios.forEach(r=>{
    const el=document.getElementById(r);
    el.classList.toggle('selected',r===id);
  });
}

// ── TOGGLE ──
function toggleSwitch(id){
  const track=document.getElementById(id);
  const isOn=track.classList.toggle('on');
  const label=document.getElementById(id+'-label');
  const name=label.textContent.split(' — ')[0];
  label.textContent=name+' — '+(isOn?'On':'Off');
}

// ── SLIDER ──
function updateSlider(id,val){
  document.getElementById(id+'-fill').style.width=val+'%';
  document.getElementById(id+'-thumb').style.left=val+'%';
  document.getElementById(id+'-val').textContent=val;
}

// ── TABS ──
const tabLabels=['Overview','Analytics','Reports','Settings'];
function switchTab(groupId,idx,el){
  const tabs=document.querySelectorAll('#'+groupId+' .tab-ul');
  tabs.forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
  const content=document.getElementById(groupId+'-content');
  if(content)content.textContent='Showing: '+tabLabels[idx]+' content area';
}
function switchPill(groupId,el){
  const tabs=document.querySelectorAll('#'+groupId+' .tab-pill');
  tabs.forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
}

// ── ACCORDION ──
function toggleAcc(btn){
  const item=btn.parentElement;
  const body=item.querySelector('.acc-body');
  const chev=btn.querySelector('.acc-chevron');
  const isOpen=body.classList.toggle('open');
  chev.classList.toggle('open',isOpen);
}

// ── PAGINATION ──
let pgCur=1,pgMax=5;
function pgSelect(btn){
  document.querySelectorAll('.pagination .pg-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  pgCur=parseInt(btn.textContent);
  document.getElementById('pg-prev').classList.toggle('disabled',pgCur===1);
  document.getElementById('pg-next').classList.toggle('disabled',pgCur===pgMax);
}
function pgPrev(){if(pgCur>1){const btns=[...document.querySelectorAll('.pagination .pg-btn:not(.pg-prev):not(.pg-next)')];pgSelect(btns[pgCur-2]);}}
function pgNext(){if(pgCur<pgMax){const btns=[...document.querySelectorAll('.pagination .pg-btn:not(.pg-prev):not(.pg-next)')];pgSelect(btns[pgCur]);}}

// ── SIDEBAR NAV ──
function switchSidenav(el,groupId){
  document.querySelectorAll('#'+groupId+' .sidenav-item').forEach(i=>i.classList.remove('active'));
  el.classList.add('active');
  const content=document.getElementById(groupId+'-content');
  if(content)content.textContent=el.textContent.trim()+' content';
}

// ── MODAL ──
function openModal(id){document.getElementById(id).style.display='flex';}
function closeModal(id,e){if(!e||e.target===document.getElementById(id))document.getElementById(id).style.display='none';}
function openDrawer(){document.getElementById('drawer').style.display='block';}
function closeDrawer(){document.getElementById('drawer').style.display='none';}

// ── TOAST ──
const toastIcons={
  success:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#22C55E" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',
  error:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#EF4444" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>',
  warning:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#EAB308" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
  info:'<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#3B82F6" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>'
};
const toastBg={success:'var(--successBg)',error:'var(--errorBg)',warning:'var(--warningBg)',info:'var(--infoBg)'};
function showToast(type,msg){
  const c=document.getElementById('toastContainer');
  const t=document.createElement('div');
  t.className='toast';
  t.style.pointerEvents='all';
  t.style.borderLeft='4px solid '+(type==='success'?'var(--success)':type==='error'?'var(--error)':type==='warning'?'var(--warning)':'var(--info)');
  t.innerHTML=`<span class="toast-icon">${toastIcons[type]}</span><span class="toast-msg">${msg}</span><button class="toast-close" onclick="this.parentElement.remove()"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>`;
  c.appendChild(t);
  setTimeout(()=>{if(t.parentElement)t.remove();},4000);
}

// ── PROGRESS ──
function animateProgress(){
  let v=0;
  const fill=document.getElementById('prog1-fill');
  const pct=document.getElementById('prog1-pct');
  fill.style.width='0%';
  const iv=setInterval(()=>{
    v+=2;
    fill.style.width=v+'%';
    pct.textContent=v+'%';
    if(v>=100){clearInterval(iv);showToast('success','Upload complete!');}
  },60);
}

// ── TABLE ──
function toggleRow(tr){
  tr.classList.toggle('selected');
  tr.querySelector('.row-check').checked=tr.classList.contains('selected');
}
function toggleRowCheck(cb){
  cb.closest('tr').classList.toggle('selected',cb.checked);
}
function toggleAllRows(masterCb){
  document.querySelectorAll('.row-check').forEach(cb=>{
    cb.checked=masterCb.checked;
    cb.closest('tr').classList.toggle('selected',masterCb.checked);
  });
}
function filterTable(q){
  const rows=document.querySelectorAll('#tableBody tr');
  let shown=0;
  rows.forEach(r=>{
    const match=r.textContent.toLowerCase().includes(q.toLowerCase());
    r.style.display=match?'':'none';
    if(match)shown++;
  });
  document.getElementById('table-count').textContent='Showing '+shown+' of 5 users';
}

// ── CHAT ──
const replies=[
  "I can help you with that. The design system has comprehensive documentation for every component.",
  "Great question! All interactive states use Orange 500 (#FD5108) consistently.",
  "The spacing scale is based on multiples of 4px, starting at xs (4px) up to 4xl (48px).",
  "For accessibility, primary buttons always use Orange 300 (#FFAA72) — never Orange 500 on backgrounds."
];
let replyIdx=0;
function chatSend(e){
  if(e.key==='Enter'){
    const input=document.getElementById('chatInput');
    const msg=input.value.trim();
    if(!msg)return;
    const msgs=document.getElementById('chatMessages');
    // user msg
    const uDiv=document.createElement('div');
    uDiv.className='chat-msg-user';
    uDiv.innerHTML='<div class="chat-bubble-user">'+msg+'</div>';
    msgs.appendChild(uDiv);
    input.value='';
    // ai reply
    setTimeout(()=>{
      const aDiv=document.createElement('div');
      aDiv.className='chat-msg-ai';
      aDiv.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--o500)" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg><div style="font-size:14px;line-height:1.6;max-width:85%">'+replies[replyIdx%replies.length]+'</div>';
      msgs.appendChild(aDiv);
      replyIdx++;
      msgs.scrollTop=msgs.scrollHeight;
    },600);
    msgs.scrollTop=msgs.scrollHeight;
  }
}

// ── CHART LEGEND TOGGLE ──
function toggleLegend(legId,seriesClass){
  const leg=document.getElementById(legId);
  const isMuted=leg.classList.toggle('muted');
  document.querySelectorAll('.'+seriesClass).forEach(el=>{
    el.style.opacity=isMuted?'0':'1';
    el.style.transition='opacity .2s ease';
  });
}

// ═══════════════════════════════════════
// CHART RENDERING — pure SVG, responsive
// ═══════════════════════════════════════
function makeChartTooltip(parent){
  const t=document.createElement('div');
  t.className='chart-tooltip';
  t.style.opacity='0';
  t.style.position='absolute';
  parent.style.position='relative';
  parent.appendChild(t);
  return t;
}
function showTip(tip,x,y,html){
  tip.innerHTML=html;
  tip.style.left=x+'px';
  tip.style.top=y+'px';
  tip.style.opacity='1';
}
function hideTip(tip){tip.style.opacity='0';}

// Helper: build responsive SVG with fixed viewBox
function makeSVG(W,H){
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox','0 0 '+W+' '+H);
  svg.style.width='100%';
  svg.style.height='100%';
  svg.style.overflow='visible';
  svg.style.display='block';
  return svg;
}
function svgEl(tag,attrs){
  const el=document.createElementNS('http://www.w3.org/2000/svg',tag);
  for(const[k,v]of Object.entries(attrs))el.setAttribute(k,v);
  return el;
}
function drawGrid(svg,W,H,padL,padR,padT,padB,yTicks,xLabels){
  const iW=W-padL-padR,iH=H-padT-padB;
  yTicks.forEach(t=>{
    const y=padT+iH-(t.norm*iH);
    svg.appendChild(svgEl('line',{x1:padL,y1:y,x2:padL+iW,y2:y,class:'grid-line'}));
    svg.appendChild(svgEl('text',{x:padL-6,y:y+4,class:'axis-label','text-anchor':'end',fill:'#A1A8B3',stroke:'none',style:'font-size:10px;font-family:system-ui,sans-serif'})).textContent=t.label;
  });
  xLabels.forEach((label,i)=>{
    const x=padL+(i/(xLabels.length-1||1))*iW;
    svg.appendChild(svgEl('text',{x,y:H-padB+14,class:'axis-label','text-anchor':'middle',fill:'#A1A8B3',stroke:'none',style:'font-size:10px;font-family:system-ui,sans-serif'})).textContent=label;
  });
}

// LINE CHART
(function(){
  const el=document.getElementById('lineChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const data1=[42,31,58,73,49,85,67,91];
  const data2=[35,42,38,61,55,49,72,68];
  const labels=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug'];
  const max=100,iW=W-padL-padR,iH=H-padT-padB;
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0'},{norm:.25,label:'25'},{norm:.5,label:'50'},{norm:.75,label:'75'},{norm:1,label:'100'}],
    labels);
  function ptX(i){return padL+(i/(data1.length-1))*iW;}
  function ptY(v){return padT+iH-(v/max)*iH;}
  // Series 1
  const pts1=data1.map((v,i)=>ptX(i)+','+ptY(v)).join(' ');
  const poly1=svgEl('polyline',{points:pts1,fill:'none',stroke:'#FD5108','stroke-width':'2',class:'line-series-1'});
  svg.appendChild(poly1);
  data1.forEach((v,i)=>{
    const c=svgEl('circle',{cx:ptX(i),cy:ptY(v),r:'4',fill:'#FD5108',class:'data-point line-series-1',stroke:'#fff','stroke-width':'1.5'});
    c.addEventListener('mouseenter',e=>{c.setAttribute('r','6');showTip(tip,ptX(i)*el.offsetWidth/W,ptY(v)*el.offsetHeight/H,labels[i]+': '+v);});
    c.addEventListener('mouseleave',()=>{c.setAttribute('r','4');hideTip(tip);});
    svg.appendChild(c);
  });
  // Series 2
  const pts2=data2.map((v,i)=>ptX(i)+','+ptY(v)).join(' ');
  const poly2=svgEl('polyline',{points:pts2,fill:'none',stroke:'#B5BCC4','stroke-width':'2',class:'line-series-2'});
  svg.appendChild(poly2);
  data2.forEach((v,i)=>{
    const c=svgEl('circle',{cx:ptX(i),cy:ptY(v),r:'4',fill:'#B5BCC4',class:'data-point line-series-2',stroke:'#fff','stroke-width':'1.5'});
    c.addEventListener('mouseenter',e=>{c.setAttribute('r','6');showTip(tip,ptX(i)*el.offsetWidth/W,ptY(v)*el.offsetHeight/H,'Prior: '+v);});
    c.addEventListener('mouseleave',()=>{c.setAttribute('r','4');hideTip(tip);});
    svg.appendChild(c);
  });
})();

// BAR CHART
(function(){
  const el=document.getElementById('barChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const actual=[68,82,55,91];
  const target=[75,78,70,85];
  const labels=['Q1','Q2','Q3','Q4'];
  const max=100,iW=W-padL-padR,iH=H-padT-padB;
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0'},{norm:.25,label:'25M'},{norm:.5,label:'50M'},{norm:.75,label:'75M'},{norm:1,label:'100M'}],
    labels);
  const grpW=iW/labels.length;
  const barW=grpW*0.35;
  labels.forEach((lbl,i)=>{
    const gx=padL+i*grpW+grpW/2;
    [[actual[i],'#FD5108','bar-series-1'],[target[i],'#FFAA72','bar-series-2']].forEach(([v,col,cls],j)=>{
      const bh=(v/max)*iH;
      const bx=gx+(j===0?-barW-2:2);
      const by=padT+iH-bh;
      const r=svgEl('rect',{x:bx,y:by,width:barW,height:bh,fill:col,class:'data-bar '+cls});
      r.addEventListener('mouseenter',()=>{showTip(tip,bx*el.offsetWidth/W,(by)*el.offsetHeight/H,(j===0?'Actual ':'Target ')+v+'M');});
      r.addEventListener('mouseleave',()=>{hideTip(tip);});
      svg.appendChild(r);
    });
  });
})();

// AREA CHART
(function(){
  const el=document.getElementById('areaChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const data=[12,19,28,35,42,58,71,88];
  const labels=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug'];
  const max=100,iW=W-padL-padR,iH=H-padT-padB;
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0'},{norm:.25,label:'25k'},{norm:.5,label:'50k'},{norm:.75,label:'75k'},{norm:1,label:'100k'}],
    labels);
  const defs=document.createElementNS('http://www.w3.org/2000/svg','defs');
  const grad=document.createElementNS('http://www.w3.org/2000/svg','linearGradient');
  grad.setAttribute('id','areaGrad');grad.setAttribute('x1','0');grad.setAttribute('y1','0');grad.setAttribute('x2','0');grad.setAttribute('y2','1');
  const s1=document.createElementNS('http://www.w3.org/2000/svg','stop');s1.setAttribute('offset','0%');s1.setAttribute('stop-color','#FD5108');s1.setAttribute('stop-opacity','0.2');
  const s2=document.createElementNS('http://www.w3.org/2000/svg','stop');s2.setAttribute('offset','100%');s2.setAttribute('stop-color','#FD5108');s2.setAttribute('stop-opacity','0');
  grad.appendChild(s1);grad.appendChild(s2);defs.appendChild(grad);svg.appendChild(defs);
  function ptX(i){return padL+(i/(data.length-1))*iW;}
  function ptY(v){return padT+iH-(v/max)*iH;}
  const topPts=data.map((v,i)=>ptX(i)+','+ptY(v)).join(' ');
  const areaPts=topPts+' '+ptX(data.length-1)+','+(padT+iH)+' '+ptX(0)+','+(padT+iH);
  svg.appendChild(svgEl('polygon',{points:areaPts,fill:'url(#areaGrad)'}));
  svg.appendChild(svgEl('polyline',{points:topPts,fill:'none',stroke:'#FD5108','stroke-width':'2'}));
  data.forEach((v,i)=>{
    const c=svgEl('circle',{cx:ptX(i),cy:ptY(v),r:'4',fill:'#FD5108',stroke:'#fff','stroke-width':'1.5',class:'data-point'});
    c.addEventListener('mouseenter',()=>{c.setAttribute('r','6');showTip(tip,ptX(i)*el.offsetWidth/W,ptY(v)*el.offsetHeight/H,labels[i]+': '+(v+'k'));});
    c.addEventListener('mouseleave',()=>{c.setAttribute('r','4');hideTip(tip);});
    svg.appendChild(c);
  });
})();

// STACKED BAR
(function(){
  const el=document.getElementById('stackedBarChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const segs=[[45,38,52,61],[28,31,25,22],[15,18,14,10]];
  const cols=['#FD5108','#FFAA72','#CBD1D6'];
  const cls=['stack-1','stack-2','stack-3'];
  const labels=['Q1','Q2','Q3','Q4'];
  const max=100,iW=W-padL-padR,iH=H-padT-padB;
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0'},{norm:.25,label:'25'},{norm:.5,label:'50'},{norm:.75,label:'75'},{norm:1,label:'100'}],
    labels);
  const bW=iW/labels.length*0.55;
  labels.forEach((lbl,i)=>{
    const gx=padL+i*(iW/labels.length)+(iW/labels.length-bW)/2;
    let base=padT+iH;
    segs.forEach((seg,si)=>{
      const bh=(seg[i]/max)*iH;
      base-=bh;
      const r=svgEl('rect',{x:gx,y:base,width:bW,height:bh,fill:cols[si],class:'data-bar '+cls[si]});
      const segName=['Consulting','Advisory','Tax'][si];
      r.addEventListener('mouseenter',()=>{showTip(tip,gx*el.offsetWidth/W,base*el.offsetHeight/H,segName+': '+seg[i]+'%');});
      r.addEventListener('mouseleave',()=>{hideTip(tip);});
      svg.appendChild(r);
    });
  });
})();

// GROUPED BAR
(function(){
  const el=document.getElementById('groupedBarChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const actual=[65,80,58,92];const budget=[70,75,72,88];
  const labels=['Q1','Q2','Q3','Q4'];
  const max=100,iW=W-padL-padR,iH=H-padT-padB;
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0'},{norm:.25,label:'25M'},{norm:.5,label:'50M'},{norm:.75,label:'75M'},{norm:1,label:'100M'}],
    labels);
  const grpW=iW/labels.length;
  const barW=grpW*0.33;
  labels.forEach((lbl,i)=>{
    const gx=padL+i*grpW+grpW/2;
    [[actual[i],'#FD5108','grp-1','Actual'],[budget[i],'#FFAA72','grp-2','Budget']].forEach(([v,col,cls,name],j)=>{
      const bh=(v/max)*iH;
      const bx=gx+(j===0?-barW-1:1);
      const by=padT+iH-bh;
      const r=svgEl('rect',{x:bx,y:by,width:barW,height:bh,fill:col,class:'data-bar '+cls});
      r.addEventListener('mouseenter',()=>{showTip(tip,bx*el.offsetWidth/W,by*el.offsetHeight/H,name+': '+v+'M');});
      r.addEventListener('mouseleave',()=>{hideTip(tip);});
      svg.appendChild(r);
    });
  });
})();

// PIE CHART
(function(){
  const el=document.getElementById('pieChart');
  if(!el)return;
  const data=[{v:45,col:'#FD5108',cls:'pie-1',name:'Consulting'},{v:30,col:'#FFAA72',cls:'pie-2',name:'Advisory'},{v:15,col:'#CBD1D6',cls:'pie-3',name:'Tax'},{v:10,col:'#DFE3E6',cls:'pie-4',name:'Other'}];
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox','-1 -1 2 2');svg.style.width='180px';svg.style.height='180px';
  let cum=0;
  const tip=makeChartTooltip(el);
  data.forEach(d=>{
    const start=cum*2*Math.PI/100-Math.PI/2;
    cum+=d.v;
    const end=cum*2*Math.PI/100-Math.PI/2;
    const x1=Math.cos(start),y1=Math.sin(start);
    const x2=Math.cos(end),y2=Math.sin(end);
    const large=d.v>50?1:0;
    const path=svgEl('path',{d:`M 0 0 L ${x1} ${y1} A 1 1 0 ${large} 1 ${x2} ${y2} Z`,fill:d.col,class:'data-bar '+d.cls,style:'cursor:pointer;transition:transform .15s ease;transform-origin:center'});
    const mid=(start+end)/2;
    path.addEventListener('mouseenter',()=>{path.style.transform='scale(1.05)';showTip(tip,90+Math.cos(mid)*80,90+Math.sin(mid)*80,d.name+': '+d.v+'%');});
    path.addEventListener('mouseleave',()=>{path.style.transform='scale(1)';hideTip(tip);});
    svg.appendChild(path);
  });
  el.appendChild(svg);
})();

// DONUT
(function(){
  const el=document.getElementById('donutChart');
  if(!el)return;
  const data=[{v:58,col:'#FD5108',cls:'donut-1',name:'Complete'},{v:26,col:'#FFAA72',cls:'donut-2',name:'In Progress'},{v:16,col:'#CBD1D6',cls:'donut-3',name:'Pending'}];
  const R=0.7,r=0.42;
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox','-1 -1 2 2');svg.style.width='180px';svg.style.height='180px';
  let cum=0;
  const tip=makeChartTooltip(el);
  data.forEach(d=>{
    const start=cum*2*Math.PI/100-Math.PI/2;
    cum+=d.v;
    const end=cum*2*Math.PI/100-Math.PI/2;
    const x1o=Math.cos(start)*R,y1o=Math.sin(start)*R;
    const x2o=Math.cos(end)*R,y2o=Math.sin(end)*R;
    const x1i=Math.cos(end)*r,y1i=Math.sin(end)*r;
    const x2i=Math.cos(start)*r,y2i=Math.sin(start)*r;
    const large=d.v>50?1:0;
    const path=svgEl('path',{d:`M${x1o} ${y1o} A${R} ${R} 0 ${large} 1 ${x2o} ${y2o} L${x1i} ${y1i} A${r} ${r} 0 ${large} 0 ${x2i} ${y2i} Z`,fill:d.col,class:'data-bar '+d.cls,style:'cursor:pointer;transition:transform .15s ease;transform-origin:center'});
    const mid=(start+end)/2;
    path.addEventListener('mouseenter',()=>{path.style.transform='scale(1.04)';showTip(tip,90+Math.cos(mid)*80,90+Math.sin(mid)*80,d.name+': '+d.v+'%');});
    path.addEventListener('mouseleave',()=>{path.style.transform='scale(1)';hideTip(tip);});
    svg.appendChild(path);
  });
  // Centre label
  const t=document.createElementNS('http://www.w3.org/2000/svg','text');
  t.setAttribute('x','0');t.setAttribute('y','0.07');t.setAttribute('text-anchor','middle');t.setAttribute('font-size','0.28');t.setAttribute('font-weight','600');t.setAttribute('fill','#000');t.setAttribute('font-family','system-ui,sans-serif');t.textContent='58%';
  const t2=document.createElementNS('http://www.w3.org/2000/svg','text');
  t2.setAttribute('x','0');t2.setAttribute('y','0.25');t2.setAttribute('text-anchor','middle');t2.setAttribute('font-size','0.14');t2.setAttribute('fill','#A1A8B3');t2.setAttribute('font-family','system-ui,sans-serif');t2.textContent='Done';
  svg.appendChild(t);svg.appendChild(t2);
  el.appendChild(svg);
})();

// SCATTER
(function(){
  const el=document.getElementById('scatterChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const points=[
    {x:15,y:22,r:7,col:'#FD5108',name:'Fund A'},{x:28,y:45,r:10,col:'#FD5108',name:'Fund B'},
    {x:45,y:38,r:6,col:'#FFAA72',name:'Fund C'},{x:60,y:62,r:12,col:'#FFAA72',name:'Fund D'},
    {x:72,y:55,r:8,col:'#FD5108',name:'Fund E'},{x:38,y:30,r:5,col:'#CBD1D6',name:'Fund F'},
    {x:55,y:78,r:9,col:'#FFAA72',name:'Fund G'},{x:82,y:71,r:11,col:'#FD5108',name:'Fund H'},
    {x:20,y:58,r:6,col:'#CBD1D6',name:'Fund I'},{x:68,y:42,r:8,col:'#CBD1D6',name:'Fund J'}
  ];
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  const iW=W-padL-padR,iH=H-padT-padB;
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0%'},{norm:.25,label:'25%'},{norm:.5,label:'50%'},{norm:.75,label:'75%'},{norm:1,label:'100%'}],
    ['Low Risk','','','','High Risk']);
  points.forEach(p=>{
    const cx=padL+(p.x/100)*iW,cy=padT+iH-(p.y/100)*iH;
    const c=svgEl('circle',{cx,cy,r:p.r,fill:p.col,opacity:'0.8',class:'data-point',style:'cursor:pointer'});
    c.addEventListener('mouseenter',()=>{c.setAttribute('opacity','1');showTip(tip,cx*el.offsetWidth/W,(cy-p.r-4)*el.offsetHeight/H,p.name+': Risk '+p.x+'% / Return '+p.y+'%');});
    c.addEventListener('mouseleave',()=>{c.setAttribute('opacity','0.8');hideTip(tip);});
    svg.appendChild(c);
  });
})();

// RADAR
(function(){
  const el=document.getElementById('radarChart');
  if(!el)return;
  const axes=['Strategy','Execution','People','Innovation','Finance','Risk'];
  const current=[80,65,90,55,72,68];
  const target=[85,80,85,75,80,75];
  const cx=100,cy=100,R=75;
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox','0 0 200 200');svg.style.width='200px';svg.style.height='200px';
  const n=axes.length;
  function pt(i,v){const a=(i/n)*2*Math.PI-Math.PI/2;return{x:cx+Math.cos(a)*(v/100)*R,y:cy+Math.sin(a)*(v/100)*R};}
  // Grid rings
  [.25,.5,.75,1].forEach(f=>{
    const pts=axes.map((_,i)=>pt(i,f*100));
    const poly=svgEl('polygon',{points:pts.map(p=>p.x+','+p.y).join(' '),fill:'none',stroke:'#DFE3E6','stroke-width':'1'});
    svg.appendChild(poly);
  });
  // Spokes
  axes.forEach((_,i)=>{const p=pt(i,100);svg.appendChild(svgEl('line',{x1:cx,y1:cy,x2:p.x,y2:p.y,stroke:'#DFE3E6','stroke-width':'1'}));});
  // Target fill
  const tPts=target.map((_,i)=>pt(i,target[i]));
  svg.appendChild(svgEl('polygon',{points:tPts.map(p=>p.x+','+p.y).join(' '),fill:'#DFE3E6',stroke:'#B5BCC4','stroke-width':'1.5',opacity:'0.5'}));
  // Current fill
  const cPts=current.map((_,i)=>pt(i,current[i]));
  svg.appendChild(svgEl('polygon',{points:cPts.map(p=>p.x+','+p.y).join(' '),fill:'#FD5108',stroke:'#FD5108','stroke-width':'2',opacity:'0.25'}));
  svg.appendChild(svgEl('polygon',{points:cPts.map(p=>p.x+','+p.y).join(' '),fill:'none',stroke:'#FD5108','stroke-width':'2'}));
  // Labels
  axes.forEach((a,i)=>{
    const p=pt(i,115);
    const t=document.createElementNS('http://www.w3.org/2000/svg','text');
    t.setAttribute('x',p.x);t.setAttribute('y',p.y+4);t.setAttribute('text-anchor','middle');
    t.setAttribute('font-size','9');t.setAttribute('fill','#A1A8B3');t.setAttribute('font-family','system-ui,sans-serif');
    t.textContent=a;svg.appendChild(t);
  });
  el.appendChild(svg);
})();

// COMPOSED
(function(){
  const el=document.getElementById('composedChart');
  if(!el)return;
  const W=560,H=200,padL=40,padR=16,padT=12,padB=28;
  const svg=makeSVG(W,H);
  const bars=[52,68,45,78,61,85,72,90];
  const trend=[50,55,58,64,65,70,73,80];
  const labels=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug'];
  const max=100,iW=W-padL-padR,iH=H-padT-padB;
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  drawGrid(svg,W,H,padL,padR,padT,padB,
    [{norm:0,label:'0'},{norm:.25,label:'25'},{norm:.5,label:'50'},{norm:.75,label:'75'},{norm:1,label:'100'}],
    labels);
  const bW=(iW/bars.length)*0.55;
  bars.forEach((v,i)=>{
    const bx=padL+(i+0.5)*(iW/bars.length)-bW/2;
    const bh=(v/max)*iH;
    const by=padT+iH-bh;
    const r=svgEl('rect',{x:bx,y:by,width:bW,height:bh,fill:'#FFAA72',class:'data-bar comp-bars'});
    r.addEventListener('mouseenter',()=>{showTip(tip,bx*el.offsetWidth/W,by*el.offsetHeight/H,labels[i]+': '+v);});
    r.addEventListener('mouseleave',()=>{hideTip(tip);});
    svg.appendChild(r);
  });
  const tpts=trend.map((v,i)=>(padL+(i+0.5)*(iW/trend.length))+','+(padT+iH-(v/max)*iH)).join(' ');
  const tline=svgEl('polyline',{points:tpts,fill:'none',stroke:'#FD5108','stroke-width':'2.5',class:'comp-line','stroke-linecap':'round','stroke-linejoin':'round'});
  svg.appendChild(tline);
  trend.forEach((v,i)=>{
    const cx2=padL+(i+0.5)*(iW/trend.length),cy2=padT+iH-(v/max)*iH;
    const c=svgEl('circle',{cx:cx2,cy:cy2,r:'4',fill:'#FD5108',stroke:'#fff','stroke-width':'1.5',class:'data-point comp-line'});
    c.addEventListener('mouseenter',()=>{c.setAttribute('r','6');showTip(tip,cx2*el.offsetWidth/W,(cy2-8)*el.offsetHeight/H,'Trend: '+v);});
    c.addEventListener('mouseleave',()=>{c.setAttribute('r','4');hideTip(tip);});
    svg.appendChild(c);
  });
})();

// TREEMAP
(function(){
  const el=document.getElementById('treemapChart');
  if(!el)return;
  const tiles=[
    {name:'Technology',pct:42,col:'#FD5108',textCol:'#fff',w:0.58,h:1.0,x:0,y:0},
    {name:'People',pct:24,col:'#FFAA72',textCol:'#000',w:0.42,h:0.55,x:0.58,y:0},
    {name:'Travel',pct:18,col:'#FFE8D4',textCol:'#000',w:0.42,h:0.45,x:0.58,y:0.55},
    {name:'Facilities',pct:10,col:'#DFE3E6',textCol:'#000',w:0.3,h:0.35,x:0,y:1.0},
    {name:'Other',pct:6,col:'#EEEFF1',textCol:'#A1A8B3',w:0.3,h:0.35,x:0.3,y:1.0}
  ];
  const W=100,H=100;
  const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox','0 0 100 100');svg.style.width='100%';svg.style.height='100%';svg.style.display='block';
  const tip=makeChartTooltip(el);
  // Use a proper treemap layout
  const layout=[
    {x:0,y:0,w:58,h:100},{x:58,y:0,w:42,h:55},{x:58,y:55,w:42,h:45},
    {x:0,y:70,w:32,h:30},{x:32,y:70,w:26,h:30}
  ];
  tiles.forEach((t,i)=>{
    const l=layout[i];if(!l)return;
    const g=document.createElementNS('http://www.w3.org/2000/svg','g');
    g.style.cursor='pointer';
    const rect=svgEl('rect',{x:l.x+0.5,y:l.y+0.5,width:l.w-1,height:l.h-1,fill:t.col});
    const tx=document.createElementNS('http://www.w3.org/2000/svg','text');
    tx.setAttribute('x',l.x+l.w/2);tx.setAttribute('y',l.y+l.h/2-4);
    tx.setAttribute('text-anchor','middle');tx.setAttribute('font-size',l.w>30?'8':'7');
    tx.setAttribute('fill',t.textCol);tx.setAttribute('font-family','system-ui,sans-serif');tx.setAttribute('font-weight','600');
    tx.textContent=t.name;
    const tx2=document.createElementNS('http://www.w3.org/2000/svg','text');
    tx2.setAttribute('x',l.x+l.w/2);tx2.setAttribute('y',l.y+l.h/2+8);
    tx2.setAttribute('text-anchor','middle');tx2.setAttribute('font-size','7');
    tx2.setAttribute('fill',t.textCol);tx2.setAttribute('font-family','system-ui,sans-serif');tx2.setAttribute('opacity','0.8');
    tx2.textContent=t.pct+'%';
    g.appendChild(rect);g.appendChild(tx);g.appendChild(tx2);
    g.addEventListener('mouseenter',()=>{rect.setAttribute('opacity','0.85');showTip(tip,(l.x+l.w/2)*el.offsetWidth/100,(l.y)*el.offsetHeight/100,t.name+': '+t.pct+'%');});
    g.addEventListener('mouseleave',()=>{rect.setAttribute('opacity','1');hideTip(tip);});
    svg.appendChild(g);
  });
  el.appendChild(svg);
})();

// FUNNEL
(function(){
  const el=document.getElementById('funnelChart');
  if(!el)return;
  const stages=[
    {name:'Leads',val:1200,col:'#FD5108'},
    {name:'Qualified',val:940,col:'#fd6a2a'},
    {name:'Proposal',val:645,col:'#FFAA72'},
    {name:'Negotiation',val:420,col:'#ffc99a'},
    {name:'Won',val:215,col:'#22C55E'}
  ];
  const W=560,H=200,padL=60,padR=80,padT=8,padB=8;
  const svg=makeSVG(W,H);
  const tip=makeChartTooltip(el);
  el.appendChild(svg);
  const stageH=(H-padT-padB)/stages.length-3;
  const maxW=W-padL-padR;
  stages.forEach((s,i)=>{
    const ratio=s.val/stages[0].val;
    const bW=maxW*ratio;
    const bX=padL+(maxW-bW)/2;
    const by=padT+i*(stageH+3);
    const r=svgEl('rect',{x:bX,y:by,width:bW,height:stageH,fill:s.col,class:'data-bar',rx:'0'});
    const label=document.createElementNS('http://www.w3.org/2000/svg','text');
    label.setAttribute('x',padL-6);label.setAttribute('y',by+stageH/2+4);label.setAttribute('text-anchor','end');
    label.setAttribute('font-size','10');label.setAttribute('fill','#A1A8B3');label.setAttribute('font-family','system-ui,sans-serif');
    label.textContent=s.name;
    const valLabel=document.createElementNS('http://www.w3.org/2000/svg','text');
    valLabel.setAttribute('x',bX+bW+6);valLabel.setAttribute('y',by+stageH/2+4);valLabel.setAttribute('text-anchor','start');
    valLabel.setAttribute('font-size','10');valLabel.setAttribute('fill','#A1A8B3');valLabel.setAttribute('font-family','system-ui,sans-serif');
    valLabel.textContent=s.val.toLocaleString();
    r.addEventListener('mouseenter',()=>{showTip(tip,(bX+bW/2)*el.offsetWidth/W,by*el.offsetHeight/H,s.name+': '+s.val.toLocaleString()+' ('+Math.round(ratio*100)+'%)');});
    r.addEventListener('mouseleave',()=>{hideTip(tip);});
    svg.appendChild(r);svg.appendChild(label);svg.appendChild(valLabel);
  });
})();


// ══════════════════════════════════════════════
// CODE SNIPPETS — React/Recharts/PwC
// ══════════════════════════════════════════════
const CHART_CODE_TITLES = {
  'area-interactive':'Interactive Area Chart','area-stacked':'Stacked Area Chart',
  'area-simple':'Area Chart','area-step':'Step Area Chart',
  'line-multi':'Multi-Series Line Chart','line-step':'Step Line Chart',
  'line-dots':'Line Chart with Dots','line-labels':'Line Chart with Labels',
  'bar-grouped':'Grouped Bar Chart','bar-stacked':'Stacked Bar Chart',
  'bar-horizontal':'Horizontal Bar Chart','bar-labels':'Bar Chart with Labels',
  'bar-negative':'Bar Chart — Negative Values','bar-composed':'Composed Chart (Bar+Line)',
  'bar-simple':'Bar Chart','pie-simple':'Pie Chart',
  'pie-labels':'Pie Chart with Labels','donut-text':'Donut with Centre Text',
  'donut-stacked':'Stacked Donut Chart','radar-default':'Radar Chart',
  'radar-circular':'Radar — Circular Grid','radial-bar':'Radial Bar Chart',
  'radial-text':'Radial Bar with Centre Text','scatter':'Scatter Plot',
  'treemap':'Treemap','funnel':'Funnel Chart'
};

const CHART_CODES = {};

CHART_CODES['area-interactive'] = `"use client"
import * as React from "react"
import { Area, AreaChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select"

// PwC colours: Orange 500 = #FD5108 | Orange 300 = #FFAA72 | Grey 300 = #CBD1D6
const chartConfig = {
  visitors: { label: "Visitors" },
  desktop:  { label: "Desktop", color: "#FD5108" },
  mobile:   { label: "Mobile",  color: "#FFAA72" },
} satisfies ChartConfig

export function ChartAreaInteractive() {
  const [timeRange, setTimeRange] = React.useState("90d")
  const filteredData = chartData.filter((item) => {
    const date  = new Date(item.date)
    const ref   = new Date("2024-06-30")
    const days  = timeRange === "30d" ? 30 : timeRange === "7d" ? 7 : 90
    const start = new Date(ref)
    start.setDate(start.getDate() - days)
    return date >= start
  })
  return (
    <Card className="pt-0">
      <CardHeader className="flex items-center gap-2 border-b py-5 sm:flex-row">
        <div className="grid flex-1 gap-1">
          <CardTitle>Visitors</CardTitle>
          <CardDescription>Desktop vs Mobile — last 3 months</CardDescription>
        </div>
        <Select value={timeRange} onValueChange={setTimeRange}>
          <SelectTrigger className="w-[160px] rounded-none">
            <SelectValue placeholder="Last 3 months" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="90d">Last 3 months</SelectItem>
            <SelectItem value="30d">Last 30 days</SelectItem>
            <SelectItem value="7d">Last 7 days</SelectItem>
          </SelectContent>
        </Select>
      </CardHeader>
      <CardContent className="px-2 pt-4 sm:px-6 sm:pt-6">
        <ChartContainer config={chartConfig} className="aspect-auto h-[250px] w-full">
          <AreaChart data={filteredData}>
            <defs>
              <linearGradient id="fillDesktop" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%"  stopColor="#FD5108" stopOpacity={0.8} />
                <stop offset="95%" stopColor="#FD5108" stopOpacity={0.1} />
              </linearGradient>
              <linearGradient id="fillMobile" x1="0" y1="0" x2="0" y2="1">
                <stop offset="5%"  stopColor="#FFAA72" stopOpacity={0.8} />
                <stop offset="95%" stopColor="#FFAA72" stopOpacity={0.1} />
              </linearGradient>
            </defs>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="date" tickLine={false} axisLine={false} minTickGap={32}
              tickFormatter={(v) => new Date(v).toLocaleDateString("en-GB",
                { month: "short", day: "numeric" })} />
            <ChartTooltip content={<ChartTooltipContent indicator="dot" />} />
            <Area dataKey="mobile"  type="natural" fill="url(#fillMobile)"
              stroke="#FFAA72" stackId="a" />
            <Area dataKey="desktop" type="natural" fill="url(#fillDesktop)"
              stroke="#FD5108" stackId="a" />
            <ChartLegend content={<ChartLegendContent />} />
          </AreaChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['area-stacked'] = `"use client"
import { Area, AreaChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardFooter, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  mobile:  { label: "Mobile",  color: "#FFAA72" },
  desktop: { label: "Desktop", color: "#FD5108" },
} satisfies ChartConfig

const chartData = [
  { month: "January",  desktop: 186, mobile: 80  },
  { month: "February", desktop: 305, mobile: 200 },
  { month: "March",    desktop: 237, mobile: 120 },
  { month: "April",    desktop: 73,  mobile: 190 },
  { month: "May",      desktop: 209, mobile: 130 },
  { month: "June",     desktop: 214, mobile: 140 },
]

export function ChartAreaStacked() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Visitors — Stacked</CardTitle>
        <CardDescription>Desktop + Mobile Jan–Jun 2024</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <AreaChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent indicator="dot" />} />
            <Area dataKey="mobile"  type="natural" fill="#FFAA72"
              fillOpacity={0.4} stroke="#FFAA72" stackId="a" />
            <Area dataKey="desktop" type="natural" fill="#FD5108"
              fillOpacity={0.4} stroke="#FD5108" stackId="a" />
          </AreaChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['area-simple'] = `"use client"
import { Area, AreaChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Desktop", color: "#FD5108" },
} satisfies ChartConfig

const chartData = [
  { month: "January",  desktop: 186 },
  { month: "February", desktop: 305 },
  { month: "March",    desktop: 237 },
  { month: "April",    desktop: 73  },
  { month: "May",      desktop: 209 },
  { month: "June",     desktop: 214 },
]

export function ChartArea() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Area Chart</CardTitle>
        <CardDescription>January – June 2024</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <AreaChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <Area dataKey="desktop" type="natural" fill="#FD5108"
              fillOpacity={0.15} stroke="#FD5108" />
          </AreaChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['area-step'] = `"use client"
import { Area, AreaChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Desktop", color: "#FD5108" },
  mobile:  { label: "Mobile",  color: "#FFAA72" },
} satisfies ChartConfig

export function ChartAreaStep() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Step Area Chart</CardTitle>
        <CardDescription>Discrete tier data with step interpolation</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <AreaChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent indicator="line" />} />
            <Area dataKey="desktop" type="step" fill="#FD5108"
              fillOpacity={0.15} stroke="#FD5108" />
            <Area dataKey="mobile"  type="step" fill="#FFAA72"
              fillOpacity={0.15} stroke="#FFAA72" />
          </AreaChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['line-multi'] = `"use client"
import { CartesianGrid, Line, LineChart, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Current Year", color: "#FD5108" },
  mobile:  { label: "Prior Year",   color: "#CBD1D6" },
} satisfies ChartConfig

export function ChartLineMulti() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Revenue Trend</CardTitle>
        <CardDescription>Current vs previous year</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <LineChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <ChartLegend content={<ChartLegendContent />} />
            <Line dataKey="desktop" type="monotone" stroke="#FD5108"
              strokeWidth={2} dot={false} />
            <Line dataKey="mobile"  type="monotone" stroke="#CBD1D6"
              strokeWidth={1.5} strokeDasharray="4 3" dot={false} />
          </LineChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['line-step'] = `"use client"
import { CartesianGrid, Line, LineChart, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Desktop", color: "#FD5108" },
  mobile:  { label: "Mobile",  color: "#FFAA72" },
} satisfies ChartConfig

export function ChartLineStep() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Step Line Chart</CardTitle>
        <CardDescription>Staircase between data points</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <LineChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent indicator="line" />} />
            <Line dataKey="desktop" type="step" stroke="#FD5108" strokeWidth={2} dot={false} />
            <Line dataKey="mobile"  type="step" stroke="#FFAA72" strokeWidth={2} dot={false} />
          </LineChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['line-dots'] = `"use client"
import { CartesianGrid, Dot, Line, LineChart, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Desktop", color: "#FD5108" },
  mobile:  { label: "Mobile",  color: "#FFAA72" },
} satisfies ChartConfig

export function ChartLineDots() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Line — With Dots</CardTitle>
        <CardDescription>Prominent data point markers</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <LineChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <Line dataKey="desktop" type="natural" stroke="#FD5108" strokeWidth={2}
              dot={{ fill: "#FD5108", strokeWidth: 2, r: 5, stroke: "#fff" }}
              activeDot={{ r: 7 }} />
            <Line dataKey="mobile"  type="natural" stroke="#FFAA72" strokeWidth={2}
              dot={{ fill: "#FFAA72", strokeWidth: 2, r: 5, stroke: "#fff" }}
              activeDot={{ r: 7 }} />
          </LineChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['line-labels'] = `"use client"
import { CartesianGrid, LabelList, Line, LineChart, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Desktop", color: "#FD5108" },
} satisfies ChartConfig

export function ChartLineLabels() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Line — With Labels</CardTitle>
        <CardDescription>Value labels on each point</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <LineChart data={chartData} margin={{ top: 20, left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <Line dataKey="desktop" type="natural" stroke="#FD5108" strokeWidth={2}
              dot={{ fill: "#FD5108" }} activeDot={{ r: 6 }}>
              <LabelList position="top" offset={8} style={{ fill: "#000", fontSize: 11 }} />
            </Line>
          </LineChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-grouped'] = `"use client"
import { Bar, BarChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Actual",  color: "#FD5108" },
  mobile:  { label: "Budget",  color: "#FFAA72" },
} satisfies ChartConfig

const chartData = [
  { month: "Q1", desktop: 65, mobile: 70 },
  { month: "Q2", desktop: 80, mobile: 75 },
  { month: "Q3", desktop: 58, mobile: 72 },
  { month: "Q4", desktop: 92, mobile: 88 },
]

export function ChartBarGrouped() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Budget vs Actual</CardTitle>
        <CardDescription>Side-by-side per quarter</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <BarChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false} />
            <ChartTooltip content={<ChartTooltipContent indicator="dashed" />} />
            <ChartLegend content={<ChartLegendContent />} />
            <Bar dataKey="desktop" fill="#FD5108" radius={0} />
            <Bar dataKey="mobile"  fill="#FFAA72" radius={0} />
          </BarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-stacked'] = `"use client"
import { Bar, BarChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  consulting: { label: "Consulting", color: "#FD5108" },
  advisory:   { label: "Advisory",   color: "#FFAA72" },
  tax:        { label: "Tax",        color: "#CBD1D6" },
} satisfies ChartConfig

export function ChartBarStacked() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Revenue by Segment</CardTitle>
        <CardDescription>Stacked contribution per quarter</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <BarChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false} />
            <ChartTooltip content={<ChartTooltipContent indicator="line" />} />
            <ChartLegend content={<ChartLegendContent />} />
            <Bar dataKey="consulting" fill="#FD5108" stackId="a" radius={0} />
            <Bar dataKey="advisory"   fill="#FFAA72" stackId="a" radius={0} />
            <Bar dataKey="tax"        fill="#CBD1D6" stackId="a" radius={0} />
          </BarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-horizontal'] = `"use client"
import { Bar, BarChart, XAxis, YAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  revenue: { label: "Revenue", color: "#FD5108" },
} satisfies ChartConfig

const chartData = [
  { region: "UK",     revenue: 480 },
  { region: "EMEA",   revenue: 340 },
  { region: "US",     revenue: 520 },
  { region: "APAC",   revenue: 270 },
  { region: "LatAm",  revenue: 190 },
]

export function ChartBarHorizontal() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Revenue by Region</CardTitle>
        <CardDescription>Horizontal ranking view</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <BarChart data={chartData} layout="vertical" margin={{ left: 40, right: 16 }}>
            <XAxis type="number" hide />
            <YAxis dataKey="region" type="category" tickLine={false} axisLine={false}
              tick={{ fontSize: 12, fill: "#A1A8B3" }} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <Bar dataKey="revenue" fill="#FD5108" radius={0} />
          </BarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-labels'] = `"use client"
import { Bar, BarChart, CartesianGrid, LabelList, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Actual",  color: "#FD5108" },
  mobile:  { label: "Target",  color: "#FFAA72" },
} satisfies ChartConfig

export function ChartBarLabels() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Bar — With Labels</CardTitle>
        <CardDescription>Value labels on top of each bar</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[220px] w-full">
          <BarChart data={chartData} margin={{ top: 20, left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <Bar dataKey="desktop" fill="#FD5108" radius={0}>
              <LabelList position="top" style={{ fill: "#000", fontSize: 11 }} />
            </Bar>
            <Bar dataKey="mobile"  fill="#FFAA72" radius={0}>
              <LabelList position="top" style={{ fill: "#000", fontSize: 11 }} />
            </Bar>
          </BarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-negative'] = `"use client"
import { Bar, BarChart, CartesianGrid, Cell, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  variance: { label: "Variance vs Budget" },
} satisfies ChartConfig

const chartData = [
  { month: "Jan", variance: 12  },
  { month: "Feb", variance: -8  },
  { month: "Mar", variance: 22  },
  { month: "Apr", variance: -15 },
  { month: "May", variance: 18  },
  { month: "Jun", variance: -5  },
]

export function ChartBarNegative() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Variance — Positive / Negative</CardTitle>
        <CardDescription>Over / under budget per month</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <BarChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <Bar dataKey="variance" radius={0}>
              {chartData.map((entry, index) => (
                <Cell key={index}
                  fill={entry.variance >= 0 ? "#FD5108" : "#B5BCC4"} />
              ))}
            </Bar>
          </BarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-composed'] = `"use client"
import { Bar, CartesianGrid, ComposedChart, Line, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  volume: { label: "Volume", color: "#FFAA72" },
  trend:  { label: "Trend",  color: "#FD5108" },
} satisfies ChartConfig

export function ChartComposed() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Volume &amp; Trend</CardTitle>
        <CardDescription>Bars = volume, line = rolling average</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <ComposedChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false}
              tickFormatter={(v) => v.slice(0, 3)} />
            <ChartTooltip content={<ChartTooltipContent />} />
            <ChartLegend content={<ChartLegendContent />} />
            <Bar dataKey="volume" fill="#FFAA72" radius={0} />
            <Line dataKey="trend" type="monotone" stroke="#FD5108"
              strokeWidth={2} dot={false} />
          </ComposedChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['bar-simple'] = `"use client"
import { Bar, BarChart, CartesianGrid, XAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  desktop: { label: "Actual",  color: "#FD5108" },
  mobile:  { label: "Target",  color: "#FFAA72" },
} satisfies ChartConfig

export function ChartBar() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Quarterly Sales</CardTitle>
        <CardDescription>Revenue vs target</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <BarChart data={chartData} margin={{ left: 12, right: 12 }}>
            <CartesianGrid vertical={false} />
            <XAxis dataKey="month" tickLine={false} axisLine={false} />
            <ChartTooltip content={<ChartTooltipContent indicator="dashed" />} />
            <Bar dataKey="desktop" fill="#FD5108" radius={0} />
            <Bar dataKey="mobile"  fill="#FFAA72" radius={0} />
          </BarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['pie-simple'] = `"use client"
import { Pie, PieChart } from "recharts"
import { Card, CardContent, CardFooter, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartData = [
  { name: "Consulting", value: 45, fill: "#FD5108" },
  { name: "Advisory",   value: 30, fill: "#FFAA72" },
  { name: "Tax",        value: 15, fill: "#CBD1D6" },
  { name: "Other",      value: 10, fill: "#DFE3E6" },
]

const chartConfig = {
  Consulting: { label: "Consulting", color: "#FD5108" },
  Advisory:   { label: "Advisory",   color: "#FFAA72" },
  Tax:        { label: "Tax",        color: "#CBD1D6" },
  Other:      { label: "Other",      color: "#DFE3E6" },
} satisfies ChartConfig

export function ChartPie() {
  return (
    <Card className="flex flex-col">
      <CardHeader>
        <CardTitle>Revenue Mix</CardTitle>
        <CardDescription>By service line</CardDescription>
      </CardHeader>
      <CardContent className="flex-1 pb-0">
        <ChartContainer config={chartConfig} className="mx-auto aspect-square max-h-[250px]">
          <PieChart>
            <ChartTooltip content={<ChartTooltipContent hideLabel />} />
            <Pie data={chartData} dataKey="value" nameKey="name" />
            <ChartLegend content={<ChartLegendContent nameKey="name" />} />
          </PieChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['pie-labels'] = `"use client"
import { Pie, PieChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartData = [
  { name: "Consulting", value: 45, fill: "#FD5108" },
  { name: "Advisory",   value: 30, fill: "#FFAA72" },
  { name: "Tax",        value: 15, fill: "#CBD1D6" },
  { name: "Other",      value: 10, fill: "#DFE3E6" },
]

const chartConfig = {} satisfies ChartConfig

export function ChartPieLabels() {
  return (
    <Card className="flex flex-col">
      <CardHeader>
        <CardTitle>Pie — With Labels</CardTitle>
        <CardDescription>Percentage labels outside each slice</CardDescription>
      </CardHeader>
      <CardContent className="flex-1 pb-0">
        <ChartContainer config={chartConfig} className="mx-auto aspect-square max-h-[280px]">
          <PieChart>
            <ChartTooltip content={<ChartTooltipContent hideLabel />} />
            <Pie data={chartData} dataKey="value" nameKey="name"
              label={({ name, percent }) =>
                name + " " + (percent * 100).toFixed(0) + "%"}
              labelLine={true} />
          </PieChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['donut-text'] = `"use client"
import { Pie, PieChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartData = [
  { name: "Complete",    value: 58, fill: "#FD5108" },
  { name: "In Progress", value: 26, fill: "#FFAA72" },
  { name: "Pending",     value: 16, fill: "#CBD1D6" },
]

const chartConfig = {
  Complete:    { label: "Complete",    color: "#FD5108" },
  "In Progress":{ label: "In Progress",color: "#FFAA72" },
  Pending:     { label: "Pending",     color: "#CBD1D6" },
} satisfies ChartConfig

export function ChartDonutText() {
  const total = chartData.reduce((s, d) => s + d.value, 0)
  return (
    <Card className="flex flex-col">
      <CardHeader>
        <CardTitle>Project Status</CardTitle>
        <CardDescription>Portfolio completion overview</CardDescription>
      </CardHeader>
      <CardContent className="flex-1 pb-0">
        <ChartContainer config={chartConfig} className="mx-auto aspect-square max-h-[250px]">
          <PieChart>
            <ChartTooltip content={<ChartTooltipContent hideLabel />} />
            <Pie data={chartData} dataKey="value" nameKey="name"
              innerRadius={60} strokeWidth={5}>
              <text x="50%" y="50%" textAnchor="middle" dominantBaseline="middle"
                style={{ fontSize: 28, fontWeight: 700 }}>
                {chartData[0].value}%
              </text>
              <text x="50%" y="60%" textAnchor="middle" dominantBaseline="middle"
                style={{ fontSize: 12, fill: "#A1A8B3" }}>
                Complete
              </text>
            </Pie>
          </PieChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['donut-stacked'] = `"use client"
import { Pie, PieChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

// Two concentric rings — outer = current year, inner = prior year
const outerData = [
  { name: "Consulting", value: 45, fill: "#FD5108" },
  { name: "Advisory",   value: 30, fill: "#FFAA72" },
  { name: "Tax",        value: 25, fill: "#CBD1D6" },
]
const innerData = [
  { name: "Consulting", value: 40, fill: "#FD5108", fillOpacity: 0.4 },
  { name: "Advisory",   value: 35, fill: "#FFAA72", fillOpacity: 0.4 },
  { name: "Tax",        value: 25, fill: "#CBD1D6", fillOpacity: 0.4 },
]

const chartConfig = {
  Consulting: { label: "Consulting" },
  Advisory:   { label: "Advisory"   },
  Tax:        { label: "Tax"        },
} satisfies ChartConfig

export function ChartDonutStacked() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Stacked Donut</CardTitle>
        <CardDescription>Outer = current year · Inner = prior year</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="mx-auto aspect-square max-h-[250px]">
          <PieChart>
            <ChartTooltip content={<ChartTooltipContent hideLabel />} />
            <Pie data={outerData} dataKey="value" nameKey="name"
              outerRadius={80} innerRadius={55} strokeWidth={2} />
            <Pie data={innerData} dataKey="value" nameKey="name"
              outerRadius={50} innerRadius={30} strokeWidth={2} />
          </PieChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['radar-default'] = `"use client"
import { PolarAngleAxis, PolarGrid, Radar, RadarChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  current: { label: "Current", color: "#FD5108" },
  target:  { label: "Target",  color: "#CBD1D6" },
} satisfies ChartConfig

const chartData = [
  { subject: "Strategy",  current: 80, target: 85 },
  { subject: "Execution", current: 65, target: 80 },
  { subject: "People",    current: 90, target: 85 },
  { subject: "Innovation",current: 55, target: 75 },
  { subject: "Finance",   current: 72, target: 80 },
  { subject: "Risk",      current: 68, target: 75 },
]

export function ChartRadar() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Competency Radar</CardTitle>
        <CardDescription>Current vs target across six dimensions</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="mx-auto aspect-square max-h-[280px]">
          <RadarChart data={chartData}>
            <ChartTooltip content={<ChartTooltipContent indicator="line" />} />
            <PolarAngleAxis dataKey="subject"
              tick={{ fontSize: 11, fill: "#A1A8B3" }} />
            <PolarGrid stroke="#DFE3E6" />
            <Radar dataKey="target"  fill="#CBD1D6" stroke="#CBD1D6"
              fillOpacity={0.4} />
            <Radar dataKey="current" fill="#FD5108" stroke="#FD5108"
              fillOpacity={0.2} />
            <ChartLegend content={<ChartLegendContent />} />
          </RadarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['radar-circular'] = `"use client"
import { PolarAngleAxis, PolarGrid, Radar, RadarChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  current: { label: "Current", color: "#FD5108" },
  target:  { label: "Target",  color: "#CBD1D6" },
} satisfies ChartConfig

export function ChartRadarCircular() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Radar — Circular Grid</CardTitle>
        <CardDescription>Concentric circles instead of polygon grid</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="mx-auto aspect-square max-h-[280px]">
          <RadarChart data={chartData}>
            <ChartTooltip content={<ChartTooltipContent indicator="line" />} />
            <PolarAngleAxis dataKey="subject"
              tick={{ fontSize: 11, fill: "#A1A8B3" }} />
            <PolarGrid gridType="circle" stroke="#DFE3E6" />
            <Radar dataKey="target"  fill="#CBD1D6" stroke="#CBD1D6"
              fillOpacity={0.4} />
            <Radar dataKey="current" fill="#FD5108" stroke="#FD5108"
              fillOpacity={0.2} />
          </RadarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['radial-bar'] = `"use client"
import { RadialBar, RadialBarChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartLegend, ChartLegendContent, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartData = [
  { name: "Consulting", value: 80, fill: "#FD5108" },
  { name: "Advisory",   value: 65, fill: "#FFAA72" },
  { name: "Tax",        value: 45, fill: "#CBD1D6" },
  { name: "Deals",      value: 30, fill: "#DFE3E6" },
]

const chartConfig = {
  Consulting: { label: "Consulting" },
  Advisory:   { label: "Advisory"   },
  Tax:        { label: "Tax"        },
  Deals:      { label: "Deals"      },
} satisfies ChartConfig

export function ChartRadialBar() {
  return (
    <Card className="flex flex-col">
      <CardHeader>
        <CardTitle>Radial Bar Chart</CardTitle>
        <CardDescription>KPI progress per service line</CardDescription>
      </CardHeader>
      <CardContent className="flex-1 pb-0">
        <ChartContainer config={chartConfig}
          className="mx-auto aspect-square max-h-[250px]">
          <RadialBarChart data={chartData} innerRadius={30} outerRadius={100}>
            <ChartTooltip content={<ChartTooltipContent hideLabel nameKey="name" />} />
            <RadialBar dataKey="value" background />
            <ChartLegend content={<ChartLegendContent nameKey="name" />}
              wrapperStyle={{ paddingTop: 8 }} />
          </RadialBarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['radial-text'] = `"use client"
import { Label, RadialBar, RadialBarChart } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartData = [{ name: "Complete", value: 73, fill: "#FD5108" }]

const chartConfig = {
  Complete: { label: "Complete", color: "#FD5108" },
} satisfies ChartConfig

export function ChartRadialText() {
  return (
    <Card className="flex flex-col">
      <CardHeader>
        <CardTitle>Radial — Centre Text</CardTitle>
        <CardDescription>Single KPI arc with value in centre</CardDescription>
      </CardHeader>
      <CardContent className="flex-1 pb-0">
        <ChartContainer config={chartConfig}
          className="mx-auto aspect-square max-h-[250px]">
          <RadialBarChart data={chartData} startAngle={0} endAngle={250}
            innerRadius={80} outerRadius={110}>
            <RadialBar dataKey="value" background cornerRadius={10} />
            <text x="50%" y="50%" textAnchor="middle" dominantBaseline="middle">
              <tspan style={{ fontSize: 32, fontWeight: 700, fill: "#000" }}>
                {chartData[0].value}%
              </tspan>
              <tspan x="50%" dy="1.4em" style={{ fontSize: 12, fill: "#A1A8B3" }}>
                Completion
              </tspan>
            </text>
          </RadialBarChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['scatter'] = `"use client"
import { CartesianGrid, Scatter, ScatterChart, XAxis, YAxis } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {
  risk:   { label: "Risk %",   color: "#FD5108" },
  return: { label: "Return %", color: "#FFAA72" },
} satisfies ChartConfig

const chartData = [
  { risk: 12, return: 18 }, { risk: 25, return: 42 },
  { risk: 42, return: 35 }, { risk: 58, return: 60 },
  { risk: 70, return: 52 }, { risk: 35, return: 28 },
  { risk: 52, return: 75 }, { risk: 80, return: 68 },
]

export function ChartScatter() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Risk vs Return</CardTitle>
        <CardDescription>Portfolio positioning scatter plot</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <ScatterChart margin={{ left: 12, right: 12, top: 12, bottom: 12 }}>
            <CartesianGrid strokeDasharray="3 3" stroke="#DFE3E6" />
            <XAxis dataKey="risk"   type="number" name="Risk"
              unit="%" tick={{ fontSize: 10, fill: "#A1A8B3" }} />
            <YAxis dataKey="return" type="number" name="Return"
              unit="%" tick={{ fontSize: 10, fill: "#A1A8B3" }} />
            <ChartTooltip cursor={{ strokeDasharray: "3 3" }}
              content={<ChartTooltipContent indicator="line" />} />
            <Scatter data={chartData} fill="#FD5108" fillOpacity={0.75} />
          </ScatterChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;

CHART_CODES['treemap'] = `// Note: shadcn/ui does not ship a Treemap component.
// Use recharts Treemap directly with PwC colours.
"use client"
import { Treemap, ResponsiveContainer } from "recharts"

const data = [
  { name: "Technology", size: 42, fill: "#FD5108" },
  { name: "People",     size: 24, fill: "#FFAA72" },
  { name: "Travel",     size: 18, fill: "#FFE8D4" },
  { name: "Facilities", size: 10, fill: "#DFE3E6" },
  { name: "Other",      size:  6, fill: "#EEEFF1" },
]

function CustomContent({ x, y, width, height, name, size }) {
  return (
    <g>
      <rect x={x} y={y} width={width} height={height}
        style={{ fill: data.find(d=>d.name===name)?.fill, stroke:"#fff", strokeWidth:2 }} />
      {width > 60 && (
        <text x={x+width/2} y={y+height/2} textAnchor="middle"
          dominantBaseline="middle" style={{ fontSize:12, fontWeight:700, fill:"#fff" }}>
          {name} {size}%
        </text>
      )}
    </g>
  )
}

export function ChartTreemap() {
  return (
    <div style={{ height: 220 }}>
      <ResponsiveContainer width="100%" height="100%">
        <Treemap data={data} dataKey="size" content={<CustomContent />} />
      </ResponsiveContainer>
    </div>
  )
}`;

CHART_CODES['funnel'] = `// Note: Use recharts FunnelChart with PwC colours.
"use client"
import { Funnel, FunnelChart, LabelList } from "recharts"
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card"
import { ChartContainer, ChartTooltip, ChartTooltipContent, type ChartConfig } from "@/components/ui/chart"

const chartConfig = {} satisfies ChartConfig

const data = [
  { name: "Leads",       value: 1200, fill: "#FD5108" },
  { name: "Qualified",   value:  940, fill: "#fd6a2a" },
  { name: "Proposal",    value:  645, fill: "#FFAA72" },
  { name: "Negotiation", value:  420, fill: "#ffc89a" },
  { name: "Won",         value:  215, fill: "#22C55E" },
]

export function ChartFunnel() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Sales Pipeline</CardTitle>
        <CardDescription>Conversion: 17.9%</CardDescription>
      </CardHeader>
      <CardContent>
        <ChartContainer config={chartConfig} className="h-[200px] w-full">
          <FunnelChart>
            <ChartTooltip content={<ChartTooltipContent />} />
            <Funnel dataKey="value" data={data} isAnimationActive>
              <LabelList position="right" fill="#A1A8B3" stroke="none"
                dataKey="name" style={{ fontSize: 12 }} />
            </Funnel>
          </FunnelChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}`;


// ══════════════════════════════════════════════
// COMPONENT CODE TITLES & SNIPPETS
// ══════════════════════════════════════════════
const COMPONENT_CODE_TITLES = {
  'btn-variants':          'Button Variants',
  'btn-sizes':             'Button Sizes',
  'btn-icons':             'Buttons with Icons & Loading',
  'btn-icon-only':         'Icon Buttons',
  'form-input':            'Text Input',
  'form-textarea':         'Textarea & Search',
  'form-dropdown':         'Dropdown Select',
  'form-checkbox':         'Checkboxes & Radio',
  'form-toggle':           'Toggle Switch',
  'form-slider':           'Range Slider',
  'card-standard':         'Standard Card',
  'card-panel':            'Panel with Header',
  'card-stat':             'Stat Card',
  'modal-dialog':          'Modal Dialog',
  'modal-confirm':         'Confirm / Destructive Dialog',
  'modal-drawer':          'Side Panel / Drawer',
  'nav-tabs-underline':    'Underline Tabs',
  'nav-tabs-pill':         'Pill Tabs',
  'nav-breadcrumb':        'Breadcrumbs',
  'nav-pagination':        'Pagination',
  'nav-accordion':         'Accordion',
  'nav-sidebar':           'Sidebar Navigation',
  'nav-avatar':            'Avatar',
  'feedback-alerts':       'Alert Banners',
  'feedback-badges':       'Badges & Tags',
  'feedback-tooltip':      'Tooltip',
  'feedback-toast':        'Toast Notifications',
  'feedback-empty':        'Empty State',
  'progress-linear':       'Linear Progress',
  'progress-stepped':      'Stepped Progress',
  'progress-spinner':      'Spinner',
  'progress-skeleton':     'Skeleton Loading',
  'data-table':            'Data Table',
  'chat-fab':              'FAB — Chat Trigger',
  'chat-panel':            'Chat Panel',
  'foundations-colors':    'Colour Palette Tokens',
  'foundations-typography':'Typography Scale',
  'foundations-spacing':   'Spacing Scale',
  'foundations-animations':'Animation Keyframes',
};

const COMPONENT_CODES = {};

COMPONENT_CODES['btn-variants'] = `import { Button } from "@/components/ui/button";

// PwC Button Variants
// Primary: Orange 300 background, black text
// Secondary: transparent, black border
// Tertiary: orange text, underline
// Destructive: red border, red text

export function ButtonVariants() {
  return (
    <div className="flex flex-wrap gap-4 items-center">
      {/* Primary */}
      <Button
        className="rounded-none bg-[#FFAA72] text-black font-semibold
                   hover:bg-[#f09a5e] focus-visible:ring-[#FD5108]"
      >
        Primary
      </Button>

      {/* Secondary */}
      <Button
        variant="outline"
        className="rounded-none border-black text-black
                   hover:bg-[#EEEFF1] focus-visible:ring-[#FD5108]"
      >
        Secondary
      </Button>

      {/* Tertiary / Link */}
      <Button
        variant="link"
        className="rounded-none text-[#FD5108] underline p-0
                   hover:text-[#d94000]"
      >
        Tertiary
      </Button>

      {/* Destructive */}
      <Button
        variant="outline"
        className="rounded-none border-red-500 text-red-500
                   hover:bg-red-50 focus-visible:ring-red-500"
      >
        Destructive
      </Button>

      {/* Disabled */}
      <Button disabled className="rounded-none opacity-40 cursor-not-allowed">
        Disabled
      </Button>
    </div>
  );
}`;

COMPONENT_CODES['btn-sizes'] = `import { Button } from "@/components/ui/button";

// PwC Button Sizes
// Small: py-1.5 px-3.5 text-xs
// Medium (default): py-2.5 px-5 text-sm
// Large: py-3.5 px-7 text-base

export function ButtonSizes() {
  return (
    <div className="flex flex-wrap gap-4 items-center">
      <Button
        size="sm"
        className="rounded-none bg-[#FFAA72] text-black font-semibold
                   py-1.5 px-3.5 text-xs hover:bg-[#f09a5e]"
      >
        Small
      </Button>

      <Button
        className="rounded-none bg-[#FFAA72] text-black font-semibold
                   py-2.5 px-5 text-sm hover:bg-[#f09a5e]"
      >
        Medium
      </Button>

      <Button
        size="lg"
        className="rounded-none bg-[#FFAA72] text-black font-semibold
                   py-3.5 px-7 text-base hover:bg-[#f09a5e]"
      >
        Large
      </Button>
    </div>
  );
}`;

COMPONENT_CODES['btn-icons'] = `import { Button } from "@/components/ui/button";
import { Plus, Download, Loader2 } from "lucide-react";
import { useState } from "react";

export function ButtonsWithIcons() {
  const [loading, setLoading] = useState(false);

  const handleLoad = () => {
    setLoading(true);
    setTimeout(() => setLoading(false), 2000);
  };

  return (
    <div className="flex flex-wrap gap-4 items-center">
      <Button className="rounded-none bg-[#FFAA72] text-black font-semibold hover:bg-[#f09a5e] gap-2">
        <Plus className="h-4 w-4" />
        Add Item
      </Button>

      <Button
        variant="outline"
        className="rounded-none border-black text-black hover:bg-[#EEEFF1] gap-2"
      >
        <Download className="h-4 w-4" />
        Download
      </Button>

      <Button
        className="rounded-none bg-[#FFAA72] text-black font-semibold hover:bg-[#f09a5e]"
        onClick={handleLoad}
        disabled={loading}
      >
        {loading ? (
          <>
            <Loader2 className="h-4 w-4 animate-spin mr-2" />
            Loading...
          </>
        ) : (
          "Click to Load"
        )}
      </Button>
    </div>
  );
}`;

COMPONENT_CODES['btn-icon-only'] = `import { Button } from "@/components/ui/button";
import { Plus, Pencil, Trash2, Share2, Settings, MoreVertical } from "lucide-react";

export function IconButtons() {
  return (
    <div className="flex flex-wrap gap-3 items-center">
      {[
        { icon: Plus,         label: "Add" },
        { icon: Pencil,       label: "Edit" },
        { icon: Trash2,       label: "Delete" },
        { icon: Share2,       label: "Share" },
        { icon: Settings,     label: "Settings" },
        { icon: MoreVertical, label: "More" },
      ].map(({ icon: Icon, label }) => (
        <Button
          key={label}
          variant="ghost"
          size="icon"
          aria-label={label}
          className="rounded-none h-9 w-9 text-[#A1A8B3]
                     hover:bg-[#EEEFF1] hover:text-black"
        >
          <Icon className="h-4.5 w-4.5" />
        </Button>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['form-input'] = `import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";

// PwC Text Input
// Focus ring: Orange 500 (#FD5108)
// Border: Grey 200 → Orange 500 on focus

export function TextInput() {
  return (
    <div className="space-y-4 max-w-sm">
      <div className="space-y-1.5">
        <Label htmlFor="name" className="text-sm font-medium">
          Full Name
        </Label>
        <Input
          id="name"
          placeholder="Enter your full name"
          className="rounded-sm border-[#DFE3E6]
                     focus-visible:ring-[#FD5108] focus-visible:border-[#FD5108]"
        />
        <p className="text-xs text-[#A1A8B3]">This will appear on your profile</p>
      </div>

      <div className="space-y-1.5">
        <Label htmlFor="email" className="text-sm font-medium">
          Email Address
        </Label>
        <Input
          id="email"
          type="email"
          placeholder="you@pwc.com"
          className="rounded-sm border-[#DFE3E6]
                     focus-visible:ring-[#FD5108] focus-visible:border-[#FD5108]"
        />
      </div>

      <div className="space-y-1.5">
        <Label htmlFor="disabled" className="text-sm font-medium">
          Disabled Field
        </Label>
        <Input
          id="disabled"
          value="Cannot edit this"
          disabled
          className="rounded-sm bg-[#EEEFF1] text-[#B5BCC4] cursor-not-allowed"
        />
      </div>
    </div>
  );
}`;


COMPONENT_CODES['form-textarea'] = `import { Textarea } from "@/components/ui/textarea";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Search } from "lucide-react";

export function TextareaAndSearch() {
  return (
    <div className="space-y-4 max-w-sm">
      <div className="space-y-1.5">
        <Label htmlFor="message" className="text-sm font-medium">Message</Label>
        <Textarea
          id="message"
          placeholder="Describe the issue in detail..."
          className="rounded-sm border-[#DFE3E6] min-h-[100px]
                     focus-visible:ring-[#FD5108] focus-visible:border-[#FD5108]"
        />
        <p className="text-xs text-[#A1A8B3]">Maximum 500 characters</p>
      </div>

      <div className="space-y-1.5">
        <Label className="text-sm font-medium">Search</Label>
        <div className="relative">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[#B5BCC4]" />
          <Input
            placeholder="Search components..."
            className="rounded-sm pl-9 border-[#DFE3E6]
                       focus-visible:ring-[#FD5108] focus-visible:border-[#FD5108]"
          />
        </div>
      </div>
    </div>
  );
}`;

COMPONENT_CODES['form-dropdown'] = `import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Label } from "@/components/ui/label";

export function DropdownSelect() {
  return (
    <div className="space-y-4 max-w-xs">
      <div className="space-y-1.5">
        <Label className="text-sm font-medium">Service Line</Label>
        <Select>
          <SelectTrigger className="rounded-sm border-[#DFE3E6] focus:ring-[#FD5108]">
            <SelectValue placeholder="Select service line" />
          </SelectTrigger>
          <SelectContent className="rounded-sm">
            <SelectItem value="consulting">Consulting</SelectItem>
            <SelectItem value="advisory">Advisory</SelectItem>
            <SelectItem value="tax">Tax & Legal</SelectItem>
            <SelectItem value="assurance">Assurance</SelectItem>
          </SelectContent>
        </Select>
      </div>

      <div className="space-y-1.5">
        <Label className="text-sm font-medium">Region</Label>
        <Select>
          <SelectTrigger className="rounded-sm border-[#DFE3E6] focus:ring-[#FD5108]">
            <SelectValue placeholder="Select region" />
          </SelectTrigger>
          <SelectContent className="rounded-sm">
            <SelectItem value="emea">EMEA</SelectItem>
            <SelectItem value="americas">Americas</SelectItem>
            <SelectItem value="apac">Asia Pacific</SelectItem>
          </SelectContent>
        </Select>
      </div>
    </div>
  );
}`;

COMPONENT_CODES['form-checkbox'] = `import { Checkbox } from "@/components/ui/checkbox";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";
import { Label } from "@/components/ui/label";
import { useState } from "react";

export function CheckboxAndRadio() {
  const [notifications, setNotifications] = useState({
    email: true, sms: false, inapp: true,
  });

  return (
    <div className="space-y-6">
      {/* Checkboxes */}
      <div className="space-y-3">
        <p className="text-sm font-medium">Notifications</p>
        {[
          { id: "email", label: "Email notifications" },
          { id: "sms",   label: "SMS notifications" },
          { id: "inapp", label: "In-app alerts" },
        ].map(({ id, label }) => (
          <div key={id} className="flex items-center gap-3">
            <Checkbox
              id={id}
              checked={notifications[id]}
              onCheckedChange={(v) =>
                setNotifications((p) => ({ ...p, [id]: !!v }))
              }
              className="rounded-none border-[#DFE3E6]
                         data-[state=checked]:bg-[#FD5108]
                         data-[state=checked]:border-[#FD5108]"
            />
            <Label htmlFor={id} className="text-sm font-normal cursor-pointer">
              {label}
            </Label>
          </div>
        ))}
      </div>

      {/* Radio */}
      <div className="space-y-3">
        <p className="text-sm font-medium">Priority</p>
        <RadioGroup defaultValue="high" className="space-y-2">
          {["High priority", "Medium priority", "Low priority"].map((opt, i) => (
            <div key={i} className="flex items-center gap-3">
              <RadioGroupItem
                value={opt.toLowerCase().split(" ")[0]}
                id={\`r-\${i}\`}
                className="border-[#DFE3E6] text-[#FD5108]"
              />
              <Label htmlFor={\`r-\${i}\`} className="text-sm font-normal cursor-pointer">
                {opt}
              </Label>
            </div>
          ))}
        </RadioGroup>
      </div>
    </div>
  );
}`;

COMPONENT_CODES['form-toggle'] = `import { Switch } from "@/components/ui/switch";
import { Label } from "@/components/ui/label";
import { useState } from "react";

const toggles = [
  { id: "dark-mode",  label: "Dark mode",  default: true },
  { id: "analytics",  label: "Analytics",  default: false },
  { id: "auto-save",  label: "Auto-save",  default: true },
];

export function ToggleSwitches() {
  const [states, setStates] = useState(
    Object.fromEntries(toggles.map((t) => [t.id, t.default]))
  );

  return (
    <div className="space-y-4">
      {toggles.map(({ id, label }) => (
        <div key={id} className="flex items-center justify-between gap-4">
          <Label htmlFor={id} className="text-sm cursor-pointer">
            {label} — {states[id] ? "On" : "Off"}
          </Label>
          <Switch
            id={id}
            checked={states[id]}
            onCheckedChange={(v) => setStates((p) => ({ ...p, [id]: v }))}
            className="data-[state=checked]:bg-[#FD5108]"
          />
        </div>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['form-slider'] = `import { Slider } from "@/components/ui/slider";
import { Label } from "@/components/ui/label";
import { useState } from "react";

export function RangeSliders() {
  const [budget, setBudget]  = useState([65]);
  const [risk, setRisk]      = useState([30]);

  return (
    <div className="space-y-6 max-w-sm">
      <div className="space-y-2">
        <Label className="text-sm">
          Budget allocation — <span className="font-semibold">{budget[0]}%</span>
        </Label>
        <Slider
          value={budget}
          onValueChange={setBudget}
          min={0} max={100}
          className="[&_[role=slider]]:rounded-none
                     [&_[role=slider]]:border-[#FD5108]
                     [&_.range]:bg-[#FD5108]"
        />
      </div>

      <div className="space-y-2">
        <Label className="text-sm">
          Risk tolerance — <span className="font-semibold">{risk[0]}%</span>
        </Label>
        <Slider
          value={risk}
          onValueChange={setRisk}
          min={0} max={100}
          className="[&_[role=slider]]:rounded-none
                     [&_[role=slider]]:border-[#FD5108]
                     [&_.range]:bg-[#FD5108]"
        />
      </div>
    </div>
  );
}`;


COMPONENT_CODES['card-standard'] = `import { Card, CardContent, CardFooter } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

export function StandardCard() {
  return (
    <Card className="rounded-none border-[#DFE3E6] shadow-sm max-w-xs">
      <CardContent className="p-6">
        <h3 className="text-[15px] font-semibold mb-2">Card Title</h3>
        <p className="text-sm text-[#A1A8B3] leading-relaxed">
          Card content with 24px padding. Sharp corners reflect
          PwC brand identity throughout.
        </p>
      </CardContent>
      <CardFooter className="px-6 pb-6 pt-0">
        <Button className="rounded-none bg-[#FFAA72] text-black text-xs font-semibold
                           py-1.5 px-3.5 hover:bg-[#f09a5e]">
          View Details
        </Button>
      </CardFooter>
    </Card>
  );
}`;

COMPONENT_CODES['card-panel'] = `import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

export function PanelWithHeader() {
  return (
    <Card className="rounded-none border-[#DFE3E6] max-w-sm">
      {/* Header */}
      <div className="flex items-center justify-between px-5 py-4 border-b border-[#DFE3E6]">
        <span className="text-sm font-semibold">Panel Title</span>
        <Button variant="outline" size="sm"
          className="rounded-none border-black text-xs font-semibold h-7">
          Action
        </Button>
      </div>

      {/* Body */}
      <div className="p-5 text-sm text-[#A1A8B3] leading-relaxed">
        Panel body with 20px padding. Header uses 1px divider at Grey 200.
      </div>

      {/* Footer */}
      <div className="flex justify-end gap-2 px-5 py-3 border-t border-[#DFE3E6]">
        <Button variant="outline" size="sm"
          className="rounded-none border-black text-xs font-semibold h-7">
          Cancel
        </Button>
        <Button size="sm"
          className="rounded-none bg-[#FFAA72] text-black text-xs font-semibold h-7 hover:bg-[#f09a5e]">
          Save
        </Button>
      </div>
    </Card>
  );
}`;

COMPONENT_CODES['card-stat'] = `import { Card, CardContent } from "@/components/ui/card";
import { TrendingUp, Users, FileText, Clock, Activity } from "lucide-react";

const stats = [
  { label: "Total Revenue",  value: "$45,231",  change: "↑ 12.5%", trend: "up",  icon: TrendingUp },
  { label: "Active Users",   value: "2,345",    change: "↑ 8.2%",  trend: "up",  icon: Users },
  { label: "Documents",      value: "1,234",    change: "↓ 2.4%",  trend: "down",icon: FileText },
  { label: "Avg. Response",  value: "4m 32s",   change: "→ No change",trend: "neutral",icon: Clock },
  { label: "Uptime",         value: "99.9%",    change: "↑ 0.1%",  trend: "up",  icon: Activity },
];

export function StatCards() {
  return (
    <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
      {stats.map(({ label, value, change, trend, icon: Icon }) => (
        <Card key={label} className="rounded-none border-[#DFE3E6]">
          <CardContent className="p-5">
            <div className="w-8 h-8 bg-[#FFE8D4] flex items-center justify-center mb-3">
              <Icon className="h-4 w-4 text-[#FD5108]" />
            </div>
            <p className="text-xs text-[#A1A8B3] uppercase tracking-wide mb-1">{label}</p>
            <p className="text-xl font-semibold mb-2">{value}</p>
            <p className={
              "text-xs font-medium " +
              (trend === "up" ? "text-green-600" : trend === "down" ? "text-red-500" : "text-[#A1A8B3]")
            }>
              {change}
            </p>
          </CardContent>
        </Card>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['modal-dialog'] = `import {
  Dialog, DialogContent, DialogHeader,
  DialogTitle, DialogFooter,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Textarea } from "@/components/ui/textarea";
import { Label } from "@/components/ui/label";
import { useState } from "react";

export function ModalDialog() {
  const [open, setOpen] = useState(false);

  return (
    <>
      <Button
        className="rounded-none bg-[#FFAA72] text-black font-semibold hover:bg-[#f09a5e]"
        onClick={() => setOpen(true)}
      >
        Open Modal
      </Button>

      <Dialog open={open} onOpenChange={setOpen}>
        <DialogContent className="rounded-none border-[#DFE3E6] max-w-md gap-0 p-0">
          <DialogHeader className="px-6 py-5 border-b border-[#DFE3E6]">
            <DialogTitle className="text-[17px] font-semibold">Edit Project</DialogTitle>
          </DialogHeader>

          <div className="px-6 py-5 space-y-4">
            <div className="space-y-1.5">
              <Label className="text-sm">Project Name</Label>
              <Input defaultValue="Digital Transformation Q3"
                className="rounded-sm border-[#DFE3E6] focus-visible:ring-[#FD5108]" />
            </div>
            <div className="space-y-1.5">
              <Label className="text-sm">Description</Label>
              <Textarea defaultValue="Initiatives for the third quarter digital programme."
                className="rounded-sm border-[#DFE3E6] focus-visible:ring-[#FD5108] min-h-[80px]" />
            </div>
          </div>

          <DialogFooter className="px-6 py-4 border-t border-[#DFE3E6]">
            <Button variant="outline" onClick={() => setOpen(false)}
              className="rounded-none border-black text-sm font-semibold">Cancel</Button>
            <Button onClick={() => setOpen(false)}
              className="rounded-none bg-[#FFAA72] text-black text-sm font-semibold hover:bg-[#f09a5e]">
              Save Changes
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </>
  );
}`;

COMPONENT_CODES['modal-confirm'] = `import {
  AlertDialog, AlertDialogAction, AlertDialogCancel,
  AlertDialogContent, AlertDialogDescription,
  AlertDialogFooter, AlertDialogHeader, AlertDialogTitle,
  AlertDialogTrigger,
} from "@/components/ui/alert-dialog";
import { Button } from "@/components/ui/button";
import { AlertTriangle } from "lucide-react";

export function ConfirmDialog() {
  return (
    <AlertDialog>
      <AlertDialogTrigger asChild>
        <Button variant="outline"
          className="rounded-none border-red-500 text-red-500 hover:bg-red-50">
          Delete Project
        </Button>
      </AlertDialogTrigger>

      <AlertDialogContent className="rounded-none border-[#DFE3E6] max-w-md">
        <AlertDialogHeader>
          <div className="flex gap-4 mb-2">
            <div className="w-10 h-10 bg-red-50 flex items-center justify-center flex-shrink-0">
              <AlertTriangle className="h-5 w-5 text-red-500" />
            </div>
            <div>
              <AlertDialogTitle className="text-[15px] font-semibold mb-1">
                Delete Project?
              </AlertDialogTitle>
              <AlertDialogDescription className="text-sm text-[#A1A8B3]">
                This will permanently delete <strong className="text-black">Digital Transformation Q3</strong>{" "}
                and all associated data. This action cannot be undone.
              </AlertDialogDescription>
            </div>
          </div>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel className="rounded-none border-black font-semibold">
            Cancel
          </AlertDialogCancel>
          <AlertDialogAction className="rounded-none bg-red-500 text-white font-semibold hover:bg-red-600">
            Delete Project
          </AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  );
}`;

COMPONENT_CODES['modal-drawer'] = `import {
  Sheet, SheetContent, SheetHeader, SheetTitle,
} from "@/components/ui/sheet";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useState } from "react";

export function SideDrawer() {
  const [open, setOpen] = useState(false);

  return (
    <>
      <Button
        className="rounded-none bg-[#FFAA72] text-black font-semibold hover:bg-[#f09a5e]"
        onClick={() => setOpen(true)}
      >
        Open Drawer
      </Button>

      <Sheet open={open} onOpenChange={setOpen}>
        <SheetContent
          side="right"
          className="rounded-none border-l border-[#DFE3E6] w-80 p-0"
        >
          <SheetHeader className="px-5 py-4 border-b border-[#DFE3E6]">
            <SheetTitle className="text-[15px] font-semibold">Project Details</SheetTitle>
          </SheetHeader>

          <div className="p-4 space-y-4 flex-1 overflow-y-auto">
            <div className="space-y-1.5">
              <Label className="text-xs font-medium">Project Name</Label>
              <Input defaultValue="Digital Transformation Q3"
                className="rounded-sm text-sm border-[#DFE3E6] focus-visible:ring-[#FD5108]" />
            </div>
            <div className="space-y-1.5">
              <Label className="text-xs font-medium">Owner</Label>
              <Input defaultValue="Sarah Chen"
                className="rounded-sm text-sm border-[#DFE3E6] focus-visible:ring-[#FD5108]" />
            </div>
          </div>

          <div className="flex justify-end gap-2 px-4 py-3 border-t border-[#DFE3E6]">
            <Button variant="outline" size="sm" onClick={() => setOpen(false)}
              className="rounded-none border-black text-xs font-semibold h-7">Cancel</Button>
            <Button size="sm" onClick={() => setOpen(false)}
              className="rounded-none bg-[#FFAA72] text-black text-xs font-semibold h-7 hover:bg-[#f09a5e]">
              Save
            </Button>
          </div>
        </SheetContent>
      </Sheet>
    </>
  );
}`;


COMPONENT_CODES['nav-tabs-underline'] = `import { useState } from "react";
import { cn } from "@/lib/utils";

const tabs = [
  { label: "Overview" },
  { label: "Analytics", count: 12 },
  { label: "Reports" },
  { label: "Settings" },
];

export function UnderlineTabs() {
  const [active, setActive] = useState(0);

  return (
    <div>
      <div className="flex border-b border-[#DFE3E6]">
        {tabs.map((tab, i) => (
          <button
            key={i}
            onClick={() => setActive(i)}
            className={cn(
              "px-4 py-2.5 text-sm font-medium border-b-2 -mb-px transition-colors",
              active === i
                ? "border-[#FD5108] text-[#FD5108]"
                : "border-transparent text-[#A1A8B3] hover:text-black hover:border-[#DFE3E6]"
            )}
          >
            {tab.label}
            {tab.count && (
              <span className="ml-1.5 text-xs bg-[#EEEFF1] text-[#A1A8B3] px-1.5 py-0.5">
                {tab.count}
              </span>
            )}
          </button>
        ))}
      </div>
      <div className="pt-4 text-sm text-[#A1A8B3]">
        Showing: {tabs[active].label} content area
      </div>
    </div>
  );
}`;

COMPONENT_CODES['nav-tabs-pill'] = `import { useState } from "react";
import { cn } from "@/lib/utils";

const tabs = ["All", "Active", "Pending", "Archived"];

export function PillTabs() {
  const [active, setActive] = useState("All");

  return (
    <div className="flex gap-1 bg-[#EEEFF1] p-1 w-fit">
      {tabs.map((tab) => (
        <button
          key={tab}
          onClick={() => setActive(tab)}
          className={cn(
            "px-4 py-1.5 text-sm font-medium transition-colors",
            active === tab
              ? "bg-white text-black shadow-sm"
              : "text-[#A1A8B3] hover:text-black"
          )}
        >
          {tab}
        </button>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['nav-breadcrumb'] = `import {
  Breadcrumb, BreadcrumbItem, BreadcrumbLink,
  BreadcrumbList, BreadcrumbPage, BreadcrumbSeparator,
} from "@/components/ui/breadcrumb";
import { ChevronRight } from "lucide-react";

export function BreadcrumbNav() {
  return (
    <Breadcrumb>
      <BreadcrumbList>
        <BreadcrumbItem>
          <BreadcrumbLink href="#"
            className="text-[#A1A8B3] hover:text-[#FD5108] text-sm">Home</BreadcrumbLink>
        </BreadcrumbItem>
        <BreadcrumbSeparator><ChevronRight className="h-3.5 w-3.5" /></BreadcrumbSeparator>
        <BreadcrumbItem>
          <BreadcrumbLink href="#"
            className="text-[#A1A8B3] hover:text-[#FD5108] text-sm">Projects</BreadcrumbLink>
        </BreadcrumbItem>
        <BreadcrumbSeparator><ChevronRight className="h-3.5 w-3.5" /></BreadcrumbSeparator>
        <BreadcrumbItem>
          <BreadcrumbLink href="#"
            className="text-[#A1A8B3] hover:text-[#FD5108] text-sm">Digital</BreadcrumbLink>
        </BreadcrumbItem>
        <BreadcrumbSeparator><ChevronRight className="h-3.5 w-3.5" /></BreadcrumbSeparator>
        <BreadcrumbItem>
          <BreadcrumbPage className="text-black font-medium text-sm">
            Q3 Transformation
          </BreadcrumbPage>
        </BreadcrumbItem>
      </BreadcrumbList>
    </Breadcrumb>
  );
}`;

COMPONENT_CODES['nav-pagination'] = `import {
  Pagination, PaginationContent, PaginationItem,
  PaginationLink, PaginationNext, PaginationPrevious,
} from "@/components/ui/pagination";
import { useState } from "react";

export function PaginationNav() {
  const [page, setPage] = useState(1);
  const total = 5;

  return (
    <Pagination>
      <PaginationContent>
        <PaginationItem>
          <PaginationPrevious
            href="#"
            onClick={() => setPage((p) => Math.max(1, p - 1))}
            className={page === 1 ? "pointer-events-none opacity-40" : ""}
          />
        </PaginationItem>
        {Array.from({ length: total }, (_, i) => i + 1).map((n) => (
          <PaginationItem key={n}>
            <PaginationLink
              href="#"
              isActive={n === page}
              onClick={() => setPage(n)}
              className={n === page
                ? "rounded-none bg-black text-white border-black hover:bg-black"
                : "rounded-none border-[#DFE3E6] hover:bg-[#EEEFF1]"}
            >
              {n}
            </PaginationLink>
          </PaginationItem>
        ))}
        <PaginationItem>
          <PaginationNext
            href="#"
            onClick={() => setPage((p) => Math.min(total, p + 1))}
            className={page === total ? "pointer-events-none opacity-40" : ""}
          />
        </PaginationItem>
      </PaginationContent>
    </Pagination>
  );
}`;

COMPONENT_CODES['nav-accordion'] = `import {
  Accordion, AccordionContent,
  AccordionItem, AccordionTrigger,
} from "@/components/ui/accordion";

const items = [
  {
    value: "start",
    title: "Getting Started",
    content: "Begin by installing the design system package and importing the required CSS tokens. Works across React, Angular, Vue, and plain HTML.",
  },
  {
    value: "config",
    title: "Configuration Options",
    content: "Configure theme tokens, spacing scale, and component overrides via CSS custom properties. Dark mode supported via class toggle.",
  },
  {
    value: "advanced",
    title: "Advanced Features",
    content: "Advanced usage includes composable chart primitives, data table virtualisation, and integration with authentication services.",
  },
];

export function AccordionNav() {
  return (
    <Accordion type="single" collapsible defaultValue="start"
      className="border border-[#DFE3E6]">
      {items.map(({ value, title, content }) => (
        <AccordionItem key={value} value={value}
          className="border-b border-[#DFE3E6] last:border-b-0 px-5">
          <AccordionTrigger
            className="text-sm font-medium py-4
                       hover:no-underline hover:text-[#FD5108]
                       [&[data-state=open]>svg]:text-[#FD5108]">
            {title}
          </AccordionTrigger>
          <AccordionContent className="text-sm text-[#A1A8B3] pb-4 leading-relaxed">
            {content}
          </AccordionContent>
        </AccordionItem>
      ))}
    </Accordion>
  );
}`;

COMPONENT_CODES['nav-sidebar'] = `import { cn } from "@/lib/utils";
import { LayoutDashboard, Users, FileText, Activity, Settings } from "lucide-react";
import { useState } from "react";

const navItems = [
  { icon: LayoutDashboard, label: "Dashboard" },
  { icon: Users,           label: "Users" },
  { icon: FileText,        label: "Documents" },
  { icon: Activity,        label: "Analytics" },
  { icon: Settings,        label: "Settings" },
];

export function SidebarNav() {
  const [active, setActive] = useState("Dashboard");

  return (
    <nav className="w-56 border-r border-[#DFE3E6] flex flex-col py-2">
      {navItems.map(({ icon: Icon, label }) => (
        <button
          key={label}
          onClick={() => setActive(label)}
          className={cn(
            "flex items-center gap-2.5 px-6 py-2 text-sm transition-colors border-l-2",
            active === label
              ? "text-[#FD5108] font-semibold border-[#FD5108] bg-[#FFE8D4]"
              : "text-[#A1A8B3] border-transparent hover:text-black hover:bg-[#EEEFF1]"
          )}
        >
          <Icon className="h-4 w-4 flex-shrink-0" />
          {label}
        </button>
      ))}
    </nav>
  );
}`;

COMPONENT_CODES['nav-avatar'] = `// PwC Avatar — circular, Orange 100 background, Orange 500 icon
// Three standard sizes: 28px, 36px, 48px

export function Avatar({ size = "md" }: { size?: "sm" | "md" | "lg" }) {
  const dims = { sm: "w-7 h-7", md: "w-9 h-9", lg: "w-12 h-12" };
  const icons = { sm: 14, md: 18, lg: 24 };
  const dim = dims[size];
  const iconSize = icons[size];

  return (
    <div className={\`\${dim} rounded-full bg-[#FFE8D4] flex items-center justify-center flex-shrink-0\`}>
      <svg
        width={iconSize} height={iconSize}
        viewBox="0 0 24 24" fill="none"
        stroke="#FD5108" strokeWidth="2"
      >
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
    </div>
  );
}

// Usage
// <Avatar size="sm" />   // 28px
// <Avatar size="md" />   // 36px (default)
// <Avatar size="lg" />   // 48px`;


COMPONENT_CODES['feedback-alerts'] = `import { AlertCircle, CheckCircle2, Info, XCircle, X } from "lucide-react";
import { useState } from "react";

const variants = [
  { type: "success", title: "Changes saved",   msg: "Your project settings have been updated successfully.", icon: CheckCircle2, color: "#22C55E", bg: "#DCFCE7" },
  { type: "error",   title: "Upload failed",   msg: "File size exceeds the 10MB limit. Please compress and retry.", icon: XCircle, color: "#EF4444", bg: "#FEE2E2" },
  { type: "warning", title: "Session expiring",msg: "Your session will expire in 5 minutes. Save your work.", icon: AlertCircle, color: "#EAB308", bg: "#FEF3C7" },
  { type: "info",    title: "Update available",msg: "Version 2.4.1 is ready. Refresh to apply the update.", icon: Info, color: "#3B82F6", bg: "#DBEAFE" },
];

export function AlertBanners() {
  const [dismissed, setDismissed] = useState<string[]>([]);

  return (
    <div className="space-y-2">
      {variants.filter((v) => !dismissed.includes(v.type)).map(({ type, title, msg, icon: Icon, color, bg }) => (
        <div key={type}
          className="flex items-start gap-3 p-3.5 pr-4"
          style={{ backgroundColor: bg, borderLeft: \`3px solid \${color}\` }}>
          <Icon className="h-4.5 w-4.5 flex-shrink-0 mt-0.5" style={{ color }} />
          <div className="flex-1 min-w-0">
            <p className="text-sm font-semibold">{title}</p>
            <p className="text-xs text-[#A1A8B3] mt-0.5">{msg}</p>
          </div>
          <button onClick={() => setDismissed((d) => [...d, type])}
            className="text-[#A1A8B3] hover:text-black flex-shrink-0">
            <X className="h-3.5 w-3.5" />
          </button>
        </div>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['feedback-badges'] = `// PwC Badge variants
// Uses semantic colours + brand orange

const badges = [
  { label: "Brand New", bg: "#FFE8D4", color: "#FD5108" },
  { label: "Active",    bg: "#DCFCE7", color: "#16A34A" },
  { label: "Pending",   bg: "#FEF3C7", color: "#CA8A04" },
  { label: "Urgent",    bg: "#FEE2E2", color: "#DC2626" },
  { label: "Info",      bg: "#DBEAFE", color: "#2563EB" },
  { label: "Default",   bg: "#EEEFF1", color: "#A1A8B3" },
  { label: "Draft",     bg: "#EEEFF1", color: "#A1A8B3" },
  { label: "Approved",  bg: "#DCFCE7", color: "#16A34A" },
];

export function BadgesAndTags() {
  return (
    <div className="flex flex-wrap gap-2">
      {badges.map(({ label, bg, color }) => (
        <span
          key={label}
          className="inline-flex items-center px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide"
          style={{ backgroundColor: bg, color }}
        >
          {label}
        </span>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['feedback-tooltip'] = `import {
  Tooltip, TooltipContent,
  TooltipProvider, TooltipTrigger,
} from "@/components/ui/tooltip";
import { Button } from "@/components/ui/button";
import { Info } from "lucide-react";

export function TooltipDemo() {
  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline"
            className="rounded-none border-[#DFE3E6] text-sm gap-2">
            <Info className="h-3.5 w-3.5" />
            Hover for tooltip
          </Button>
        </TooltipTrigger>
        <TooltipContent
          className="rounded-none bg-black text-white text-xs px-3 py-1.5 border-0">
          Appears above the trigger element
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
}`;

COMPONENT_CODES['feedback-toast'] = `import { useToast } from "@/hooks/use-toast";
import { Button } from "@/components/ui/button";
import { Toaster } from "@/components/ui/toaster";

// Add <Toaster /> once to your app root (e.g., layout.tsx)

export function ToastDemo() {
  const { toast } = useToast();

  const show = (variant: "success" | "error" | "warning" | "info", msg: string) => {
    toast({
      title: variant.charAt(0).toUpperCase() + variant.slice(1),
      description: msg,
      className: "rounded-none border-l-4 " + {
        success: "border-l-green-500",
        error:   "border-l-red-500",
        warning: "border-l-yellow-500",
        info:    "border-l-blue-500",
      }[variant],
    });
  };

  return (
    <>
      <Toaster />
      <div className="flex flex-wrap gap-2">
        <Button variant="outline" size="sm" onClick={() => show("success", "Changes saved successfully!")}
          className="rounded-none border-[#DFE3E6]">Success</Button>
        <Button variant="outline" size="sm" onClick={() => show("error", "Upload failed. Try again.")}
          className="rounded-none border-[#DFE3E6]">Error</Button>
        <Button variant="outline" size="sm" onClick={() => show("warning", "Session expires in 5 min.")}
          className="rounded-none border-[#DFE3E6]">Warning</Button>
        <Button variant="outline" size="sm" onClick={() => show("info", "Version 2.4.1 available.")}
          className="rounded-none border-[#DFE3E6]">Info</Button>
      </div>
    </>
  );
}`;

COMPONENT_CODES['feedback-empty'] = `import { Folder } from "lucide-react";
import { Button } from "@/components/ui/button";

export function EmptyState({
  title       = "No projects yet",
  description = "Get started by creating your first project. It only takes a moment.",
  action      = "Create Project",
  onAction,
}: {
  title?:       string;
  description?: string;
  action?:      string;
  onAction?:    () => void;
}) {
  return (
    <div className="flex flex-col items-center justify-center py-16 px-6 text-center">
      <div className="w-14 h-14 bg-[#EEEFF1] flex items-center justify-center mb-5">
        <Folder className="h-6 w-6 text-[#B5BCC4]" />
      </div>
      <h3 className="text-[15px] font-semibold mb-2">{title}</h3>
      <p className="text-sm text-[#A1A8B3] max-w-xs mb-6 leading-relaxed">{description}</p>
      {action && (
        <Button
          onClick={onAction}
          className="rounded-none bg-[#FFAA72] text-black font-semibold hover:bg-[#f09a5e] text-sm"
        >
          {action}
        </Button>
      )}
    </div>
  );
}`;


COMPONENT_CODES['progress-linear'] = `import { useState, useEffect } from "react";

export function LinearProgress({ value, label, color = "#FD5108" }:
  { value: number; label: string; color?: string }) {
  return (
    <div>
      <div className="flex justify-between mb-2">
        <span className="text-sm">{label}</span>
        <span className="text-sm text-[#A1A8B3]">{value}%</span>
      </div>
      <div className="h-1.5 bg-[#EEEFF1] w-full overflow-hidden">
        <div
          className="h-full transition-all duration-500"
          style={{ width: \`\${value}%\`, backgroundColor: color }}
        />
      </div>
    </div>
  );
}

export function ProgressBars() {
  const [upload, setUpload] = useState(68);

  const simulate = () => {
    setUpload(0);
    let v = 0;
    const id = setInterval(() => {
      v += Math.random() * 15;
      if (v >= 100) { v = 100; clearInterval(id); }
      setUpload(Math.round(v));
    }, 300);
  };

  return (
    <div className="space-y-5 max-w-sm">
      <LinearProgress value={upload} label="Uploading files" />
      <LinearProgress value={35}     label="Processing data" />
      <LinearProgress value={100}    label="Complete" color="#22C55E" />
      <button
        onClick={simulate}
        className="text-xs font-semibold border border-[#DFE3E6]
                   px-3 py-1.5 hover:bg-[#EEEFF1] transition-colors"
      >
        Simulate Upload
      </button>
    </div>
  );
}`;

COMPONENT_CODES['progress-stepped'] = `import { Check } from "lucide-react";
import { cn } from "@/lib/utils";

type StepState = "done" | "active" | "future";

const steps: { label: string; state: StepState }[] = [
  { label: "Account",  state: "done" },
  { label: "Profile",  state: "active" },
  { label: "Settings", state: "future" },
  { label: "Review",   state: "future" },
];

export function SteppedProgress() {
  return (
    <div className="flex items-center gap-0">
      {steps.map(({ label, state }, i) => (
        <div key={label} className="flex items-center">
          {/* Connector line */}
          {i > 0 && (
            <div className={\`h-0.5 w-12 \${state === "done" ? "bg-[#FD5108]" : "bg-[#DFE3E6]"}\`} />
          )}
          {/* Step */}
          <div className="flex flex-col items-center gap-1.5">
            <div className={cn(
              "w-7 h-7 flex items-center justify-center text-xs font-semibold",
              state === "done"   && "bg-[#FD5108] text-white",
              state === "active" && "border-2 border-[#FD5108] text-[#FD5108]",
              state === "future" && "border border-[#DFE3E6] text-[#A1A8B3]",
            )}>
              {state === "done" ? <Check className="h-3.5 w-3.5" /> : i + 1}
            </div>
            <span className={cn(
              "text-xs font-medium",
              state === "done"   && "text-[#FD5108]",
              state === "active" && "text-[#FD5108]",
              state === "future" && "text-[#A1A8B3]",
            )}>
              {label}
            </span>
          </div>
        </div>
      ))}
    </div>
  );
}`;

COMPONENT_CODES['progress-spinner'] = `// PwC Spinner — SVG arc, Orange 500 on Grey 200 track

export function Spinner({ size = 24 }: { size?: number }) {
  const r = 10;
  const circ = 2 * Math.PI * r; // 62.83

  return (
    <svg
      width={size} height={size}
      viewBox="0 0 24 24"
      className="animate-spin"
      style={{ animation: "spin 1s linear infinite" }}
    >
      {/* Track */}
      <circle cx="12" cy="12" r={r} stroke="#DFE3E6" strokeWidth="3" fill="none" />
      {/* Arc */}
      <circle
        cx="12" cy="12" r={r}
        stroke="#FD5108" strokeWidth="3" fill="none"
        strokeDasharray={circ}
        strokeDashoffset={circ * 0.75}
        strokeLinecap="round"
        transform="rotate(-90 12 12)"
      />
    </svg>
  );
}

// Usage at different sizes:
// <Spinner size={16} />
// <Spinner size={24} />
// <Spinner size={32} />
// <Spinner size={48} />`;

COMPONENT_CODES['progress-skeleton'] = `// PwC Skeleton — pulses on Grey 100 background

import { cn } from "@/lib/utils";

export function Skeleton({ className }: { className?: string }) {
  return (
    <div
      className={cn(
        "animate-pulse bg-[#EEEFF1]",
        className
      )}
    />
  );
}

// Card skeleton example:
export function CardSkeleton() {
  return (
    <div className="p-5 border border-[#DFE3E6] space-y-4">
      {/* Avatar + name row */}
      <div className="flex items-center gap-3">
        <Skeleton className="w-11 h-11 rounded-full flex-shrink-0" />
        <div className="flex-1 space-y-1.5">
          <Skeleton className="h-3.5 w-2/5" />
          <Skeleton className="h-3 w-3/5" />
        </div>
      </div>
      {/* Body lines */}
      <Skeleton className="h-3 w-full" />
      <Skeleton className="h-3 w-11/12" />
      <Skeleton className="h-3 w-4/5" />
      {/* Grid blocks */}
      <div className="grid grid-cols-3 gap-2 pt-1">
        <Skeleton className="h-16" />
        <Skeleton className="h-16" />
        <Skeleton className="h-16" />
      </div>
    </div>
  );
}`;

COMPONENT_CODES['data-table'] = `import {
  Table, TableBody, TableCell,
  TableHead, TableHeader, TableRow,
} from "@/components/ui/table";
import { Checkbox } from "@/components/ui/checkbox";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { MoreVertical, Plus, Search } from "lucide-react";
import { useState } from "react";

const users = [
  { name: "Sarah Chen",    email: "s.chen@pwc.com",    role: "Partner",         status: "Active",   joined: "Jan 2022" },
  { name: "James Okafor",  email: "j.okafor@pwc.com",  role: "Senior Manager",  status: "Active",   joined: "Mar 2021" },
  { name: "Priya Nair",    email: "p.nair@pwc.com",    role: "Manager",         status: "Pending",  joined: "Aug 2023" },
  { name: "Tom Willis",    email: "t.willis@pwc.com",  role: "Associate",       status: "Inactive", joined: "Nov 2020" },
  { name: "Elena Vasquez", email: "e.vasquez@pwc.com", role: "Director",        status: "Active",   joined: "Jun 2019" },
];

const statusStyle: Record<string, string> = {
  Active:   "bg-[#DCFCE7] text-[#16A34A]",
  Pending:  "bg-[#FEF3C7] text-[#CA8A04]",
  Inactive: "bg-[#EEEFF1] text-[#A1A8B3]",
};

export function DataTable() {
  const [query, setQuery] = useState("");
  const [selected, setSelected] = useState<string[]>([]);

  const rows = users.filter((u) =>
    u.name.toLowerCase().includes(query.toLowerCase())
  );

  const toggle = (name: string) =>
    setSelected((s) => s.includes(name) ? s.filter((n) => n !== name) : [...s, name]);

  return (
    <div className="space-y-3">
      {/* Toolbar */}
      <div className="flex justify-between items-center">
        <div className="relative w-64">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-[#B5BCC4]" />
          <Input
            placeholder="Search users..."
            value={query}
            onChange={(e) => setQuery(e.target.value)}
            className="rounded-none pl-8 h-8 text-sm border-[#DFE3E6]"
          />
        </div>
        <div className="flex gap-2">
          <Button variant="outline" size="sm"
            className="rounded-none border-[#DFE3E6] text-xs h-8">Export</Button>
          <Button size="sm"
            className="rounded-none bg-[#FFAA72] text-black text-xs font-semibold h-8 gap-1.5 hover:bg-[#f09a5e]">
            <Plus className="h-3.5 w-3.5" /> Add User
          </Button>
        </div>
      </div>

      {/* Table */}
      <div className="border border-[#DFE3E6]">
        <Table>
          <TableHeader>
            <TableRow className="bg-[#EEEFF1] hover:bg-[#EEEFF1]">
              <TableHead className="w-10">
                <Checkbox className="rounded-none border-[#DFE3E6]" />
              </TableHead>
              <TableHead className="text-xs font-semibold text-black uppercase tracking-wide">Name</TableHead>
              <TableHead className="text-xs font-semibold text-black uppercase tracking-wide">Email</TableHead>
              <TableHead className="text-xs font-semibold text-black uppercase tracking-wide">Role</TableHead>
              <TableHead className="text-xs font-semibold text-black uppercase tracking-wide">Status</TableHead>
              <TableHead className="text-xs font-semibold text-black uppercase tracking-wide">Joined</TableHead>
              <TableHead className="w-10" />
            </TableRow>
          </TableHeader>
          <TableBody>
            {rows.map((user) => (
              <TableRow
                key={user.name}
                data-selected={selected.includes(user.name)}
                className="cursor-pointer border-b border-[#DFE3E6]
                           data-[selected=true]:bg-[#FFE8D4]
                           hover:bg-[#EEEFF1]"
                onClick={() => toggle(user.name)}
              >
                <TableCell>
                  <Checkbox
                    checked={selected.includes(user.name)}
                    className="rounded-none border-[#DFE3E6]
                               data-[state=checked]:bg-[#FD5108]
                               data-[state=checked]:border-[#FD5108]"
                    onClick={(e) => e.stopPropagation()}
                    onCheckedChange={() => toggle(user.name)}
                  />
                </TableCell>
                <TableCell className="text-sm font-medium">{user.name}</TableCell>
                <TableCell className="text-sm text-[#A1A8B3]">{user.email}</TableCell>
                <TableCell className="text-sm">{user.role}</TableCell>
                <TableCell>
                  <span className={\`text-[11px] font-semibold px-2 py-0.5 uppercase \${statusStyle[user.status]}\`}>
                    {user.status}
                  </span>
                </TableCell>
                <TableCell className="text-sm text-[#A1A8B3]">{user.joined}</TableCell>
                <TableCell>
                  <Button variant="ghost" size="icon"
                    className="h-7 w-7 text-[#A1A8B3] hover:text-black">
                    <MoreVertical className="h-3.5 w-3.5" />
                  </Button>
                </TableCell>
              </TableRow>
            ))}
          </TableBody>
        </Table>
      </div>
    </div>
  );
}`;


COMPONENT_CODES['chat-fab'] = `import { MessageCircle, X } from "lucide-react";
import { useState } from "react";

// PwC FAB — Fixed action button to trigger chat panel
// Orange 500 background, white icon, sharp corners

export function ChatFAB({ onOpen }: { onOpen: () => void }) {
  return (
    <button
      onClick={onOpen}
      aria-label="Open chat"
      className="fixed bottom-6 right-6 w-14 h-14 bg-[#FD5108]
                 flex items-center justify-center shadow-lg
                 hover:bg-[#d94000] transition-colors z-50"
      style={{ borderRadius: 0 }}
    >
      <MessageCircle className="h-6 w-6 text-white" stroke="white" strokeWidth={2} />
    </button>
  );
}

// Wrap in your layout:
// <ChatFAB onOpen={() => setOpen(true)} />`;

COMPONENT_CODES['chat-panel'] = `import { MessageCircle, Paperclip, Mic, MoreHorizontal, X } from "lucide-react";
import { useState, useRef, useEffect } from "react";

type Message = { role: "ai" | "user"; text: string };

const INITIAL: Message[] = [
  { role: "ai",   text: "Hello! I'm your PwC digital assistant. How can I help you today?" },
  { role: "user", text: "Can you show me the design system components?" },
  { role: "ai",   text: "Of course! The catalogue covers buttons, forms, navigation, charts, and more — all following PwC brand standards. Use the sidebar to navigate." },
];

export function ChatPanel({ onClose }: { onClose?: () => void }) {
  const [msgs, setMsgs] = useState<Message[]>(INITIAL);
  const [input, setInput] = useState("");
  const bottomRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    bottomRef.current?.scrollIntoView({ behavior: "smooth" });
  }, [msgs]);

  const send = () => {
    const text = input.trim();
    if (!text) return;
    setMsgs((m) => [...m, { role: "user", text }]);
    setInput("");
    setTimeout(() => {
      setMsgs((m) => [...m, { role: "ai", text: "I'm processing your request. In production this would call your AI backend." }]);
    }, 600);
  };

  return (
    <div className="flex flex-col border border-[#DFE3E6] w-80 h-[480px] shadow-lg">
      {/* Header */}
      <div className="flex items-center justify-between px-4 py-3 border-b border-[#DFE3E6] flex-shrink-0">
        <div className="flex items-center gap-2">
          <MessageCircle className="h-4 w-4 text-[#FD5108]" />
          <span className="text-sm font-semibold">PwC Assistant</span>
          <span className="text-[10px] font-semibold bg-[#DCFCE7] text-[#16A34A] px-1.5 py-0.5 uppercase">
            Online
          </span>
        </div>
        <div className="flex gap-1">
          <button className="h-7 w-7 flex items-center justify-center text-[#A1A8B3] hover:text-black">
            <MoreHorizontal className="h-4 w-4" />
          </button>
          {onClose && (
            <button onClick={onClose} className="h-7 w-7 flex items-center justify-center text-[#A1A8B3] hover:text-black">
              <X className="h-4 w-4" />
            </button>
          )}
        </div>
      </div>

      {/* Messages */}
      <div className="flex-1 overflow-y-auto p-4 space-y-4">
        {msgs.map((m, i) =>
          m.role === "ai" ? (
            <div key={i} className="flex items-start gap-2">
              <MessageCircle className="h-4 w-4 text-[#FD5108] flex-shrink-0 mt-0.5" />
              <p className="text-sm leading-relaxed max-w-[85%]">{m.text}</p>
            </div>
          ) : (
            <div key={i} className="flex justify-end">
              <div className="text-sm leading-relaxed bg-[#EEEFF1] px-3 py-2 max-w-[85%]">
                {m.text}
              </div>
            </div>
          )
        )}
        <div ref={bottomRef} />
      </div>

      {/* Input */}
      <div className="flex-shrink-0 p-3 border-t border-[#DFE3E6]">
        <div className="flex items-center gap-2 border border-[#DFE3E6] px-3 py-2">
          <Paperclip className="h-4 w-4 text-[#B5BCC4] flex-shrink-0" />
          <input
            value={input}
            onChange={(e) => setInput(e.target.value)}
            onKeyDown={(e) => e.key === "Enter" && send()}
            placeholder="Type a message..."
            className="flex-1 text-sm outline-none bg-transparent min-w-0"
          />
          <Mic className="h-4 w-4 text-[#B5BCC4] flex-shrink-0" />
        </div>
      </div>
    </div>
  );
}`;

COMPONENT_CODES['foundations-colors'] = `/* ═══════════════════════════════════════════════
   PwC Digital Design System — Colour Tokens
   Add to your global CSS or tailwind.config.ts
═══════════════════════════════════════════════ */

:root {
  /* ── Brand Oranges ── */
  --o500: #FD5108;   /* Primary interactive / active state */
  --o300: #FFAA72;   /* Primary button background (WCAG AA) */
  --o100: #FFE8D4;   /* Hover backgrounds / selected rows */

  /* ── Neutral Greys ── */
  --black: #000000;
  --white: #ffffff;
  --g100:  #EEEFF1;  /* Page background / skeleton */
  --g200:  #DFE3E6;  /* Border / divider */
  --g300:  #CBD1D6;  /* Inactive elements */
  --g400:  #B5BCC4;  /* Placeholder text */
  --g500:  #A1A8B3;  /* Secondary text */

  /* ── Semantic ── */
  --success:    #22C55E;
  --successBg:  #DCFCE7;
  --warning:    #EAB308;
  --warningBg:  #FEF3C7;
  --error:      #EF4444;
  --errorBg:    #FEE2E2;
  --info:       #3B82F6;
  --infoBg:     #DBEAFE;
}

/* Tailwind mapping (tailwind.config.ts):
extend: {
  colors: {
    brand: {
      500: '#FD5108',
      300: '#FFAA72',
      100: '#FFE8D4',
    },
    grey: {
      100: '#EEEFF1',
      200: '#DFE3E6',
      300: '#CBD1D6',
      400: '#B5BCC4',
      500: '#A1A8B3',
    },
  },
}
*/`;

COMPONENT_CODES['foundations-typography'] = `/* ═══════════════════════════════════════════════
   PwC Digital Design System — Typography Scale
═══════════════════════════════════════════════ */

/* Base: system-ui stack, 14px body, 1.6 line-height */
body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #000;
}

/* Headings */
h1 { font-size: 32px; font-weight: 600; line-height: 1.2; }
h2 { font-size: 24px; font-weight: 600; line-height: 1.3; }
h3 { font-size: 18px; font-weight: 600; line-height: 1.4; }
h4 { font-size: 16px; font-weight: 600; line-height: 1.4; }

/* Body variants */
.body     { font-size: 14px; font-weight: 400; line-height: 1.6; }
.label    { font-size: 14px; font-weight: 500; }
.caption  { font-size: 12px; font-weight: 400; color: #A1A8B3; }
.micro    { font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.06em; }

/* Tailwind classes mapping:
   H1:       text-[32px] font-semibold
   H2:       text-2xl font-semibold
   H3:       text-lg font-semibold
   H4:       text-base font-semibold
   Body:     text-sm leading-relaxed
   Label:    text-sm font-medium
   Caption:  text-xs text-[#A1A8B3]
   Micro:    text-[11px] font-semibold uppercase tracking-wide
*/`;

COMPONENT_CODES['foundations-spacing'] = `/* ═══════════════════════════════════════════════
   PwC Digital Design System — Spacing Scale (8px grid)
═══════════════════════════════════════════════ */

/* All spacing is based on an 8px grid */
:root {
  --space-xs:  4px;   /*  0.5 × 8 */
  --space-sm:  8px;   /*  1   × 8 */
  --space-md: 12px;   /*  1.5 × 8 */
  --space-lg: 16px;   /*  2   × 8 */
  --space-xl: 20px;   /*  2.5 × 8 */
  --space-2xl:24px;   /*  3   × 8 */
  --space-3xl:32px;   /*  4   × 8 */
  --space-4xl:48px;   /*  6   × 8 */
  --space-5xl:64px;   /*  8   × 8 */
}

/* Component padding standards:
   Buttons:        10px 20px (md)  |  6px 14px (sm)  |  14px 28px (lg)
   Cards:          24px all sides
   Panel header:   16px–20px top/bottom, 20px–24px left/right
   Section header: 48px margin-bottom
   Section gap:    80px between sections
   Input:          10px 12px (md)  |  8px 10px (sm)
*/

/* Tailwind spacing usage:
   p-1   =  4px    gap-1  =  4px
   p-2   =  8px    gap-2  =  8px
   p-3   = 12px    gap-3  = 12px
   p-4   = 16px    gap-4  = 16px
   p-5   = 20px    gap-5  = 20px
   p-6   = 24px    gap-6  = 24px
   p-8   = 32px    gap-8  = 32px
   p-12  = 48px    gap-12 = 48px
*/`;

COMPONENT_CODES['foundations-animations'] = `/* ═══════════════════════════════════════════════
   PwC Digital Design System — Animation Keyframes
═══════════════════════════════════════════════ */

/* spin — used on loading spinners */
@keyframes spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
.animate-spin { animation: spin 1s linear infinite; }

/* pulse — used on skeleton loading blocks */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0.45; }
}
.animate-pulse { animation: pulse 1.5s ease-in-out infinite; }

/* fadeIn — used on section/panel entrance */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
.animate-fade-in { animation: fadeIn 0.3s ease forwards; }

/* shimmer — alternative skeleton effect */
@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position:  200% 0; }
}
.animate-shimmer {
  background: linear-gradient(90deg, #EEEFF1 25%, #DFE3E6 50%, #EEEFF1 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Tailwind config (tailwind.config.ts):
extend: {
  animation: {
    'fade-in': 'fadeIn 0.3s ease forwards',
    'shimmer':  'shimmer 1.5s ease-in-out infinite',
  },
  keyframes: {
    fadeIn:  { from: { opacity: '0', transform: 'translateY(6px)' }, to: { opacity: '1', transform: 'translateY(0)' } },
    shimmer: { '0%': { backgroundPosition: '-200% 0' }, '100%': { backgroundPosition: '200% 0' } },
  },
}
*/`;

COMPONENT_CODES['brand-logo'] = `// PwC Logo — inline SVG component (React + TypeScript)
// Use inline SVG for full colour control; never rasterise below 32px wide.

interface PwCLogoProps {
  /** Width in pixels — height scales proportionally (aspect ≈ 2.08:1) */
  width?: number;
  /** White text + orange chevrons for dark backgrounds */
  inverse?: boolean;
  className?: string;
}

export function PwCLogo({ width = 160, inverse = false, className }: PwCLogoProps) {
  const h = Math.round(width / 2.075);
  return (
    <svg
      width={width}
      height={h}
      viewBox="30 143 440 212"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      aria-label="PwC"
      role="img"
    >
      {/* Wordmark — black or white */}
      <path
        d="M355.041 233.765C339.717 236.206 331.925 247.425 331.925 267.214C331.925 287.003 342.331 300.403 358.334 300.403C365.762 300.403 372.508 297.962 386.732 291.054V307.155C369.682 314.894 359.642 317.335 345.94 317.335C331.088 317.335 320.629 313.44 312.052 304.766C303.319 296.092 298.926 284.561 298.926 271.784C298.926 243.322 320.158 224.104 351.118 224.104C371.67 224.104 385.842 233.453 385.842 247.165C385.842 255.995 379.252 262.072 369.473 262.072C364.454 262.072 360.323 260.773 355.041 257.709V233.869V233.765ZM279.472 271.732C293.173 254.54 298.037 247.632 298.037 239.166C298.037 230.7 291.343 224 282.348 224C276.805 224 271.837 226.597 269.431 229.298V264.305L246.944 294.066V226.234H225.555L190.045 284.717V226.234H177.756L145.489 234.024V242.231L163.061 243.997V315.725H185.809L219.907 260.098V315.725H244.8L279.42 271.732H279.472ZM77.6086 244.464C82.8381 243.841 85.4532 243.529 87.9111 243.529C102.763 243.529 110.764 253.294 110.764 271.732C110.764 293.495 100.933 304.818 82.6291 304.818C81.1125 304.818 80.0143 304.818 77.6086 304.714V244.464ZM77.6086 314.894C83.518 315.569 89.2708 315.777 92.7223 315.777C123.211 315.777 142.508 296.404 142.508 267.629C142.508 242.75 128.022 224.727 108.359 224.727C99.8346 224.727 94.1867 226.441 77.6086 236.258V224.26H68.4046L33 234.959V243.581H47.6429V343.928L34.4643 347.2V355.511H92.304V347.2L77.5564 343.928V314.894H77.6086Z"
        fill={inverse ? "#ffffff" : "#000000"}
      />
      {/* Momentum chevrons — always Orange 500 */}
      <path
        d="M338.568 199.173H242.029L258.45 172.112H354.99L338.568 199.173ZM468 145H371.463L355.042 172.06H451.579L468 145Z"
        fill="#FD5108"
      />
    </svg>
  );
}

// Usage
<PwCLogo />                        // Standard — black wordmark
<PwCLogo inverse />                // Reversed — white wordmark (dark bg)
<PwCLogo width={240} />            // Larger
<PwCLogo width={96} inverse />     // Small reversed`;

COMPONENT_CODES['brand-momentum'] = `// PwC Momentum Mark — the dual-chevron brand device
// Standalone usage; always maintain ≥ 16px height minimum.

interface MomentumMarkProps {
  /** Fill colour — default Orange 500 (#FD5108) */
  color?: string;
  /** Width in pixels — height scales proportionally (aspect ≈ 4.75:1) */
  width?: number;
  className?: string;
}

export function MomentumMark({
  color = "#FD5108",
  width = 192,
  className,
}: MomentumMarkProps) {
  const h = Math.round(width / 4.75);
  return (
    <svg
      width={width}
      height={h}
      viewBox="0 0 342 72"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      aria-hidden="true"
    >
      <path
        d="M149.2854,72H.12l21.7146-36h149.1654l-21.7146,36ZM341.88,0h-149.1654l-21.7146,36h149.1654L341.88,0Z"
        fill={color}
      />
    </svg>
  );
}

// Usage
<MomentumMark />                          // Orange (default)
<MomentumMark color="#ffffff" />          // White — reversed on dark bg
<MomentumMark color="#000000" />          // Black — on light neutral bg
<MomentumMark width={96} />               // Small
<MomentumMark width={320} color="#FD5108" className="my-8" />  // Large hero`;


// ══════════════════════════════════════════════
// CODE MODAL FUNCTIONS
// ══════════════════════════════════════════════
function showCode(name) {
  const code = CHART_CODES[name] || COMPONENT_CODES[name] || '// Code snippet not available for: ' + name;
  const title = CHART_CODE_TITLES[name] || COMPONENT_CODE_TITLES[name] || name;
  document.getElementById('codeModalTitle').textContent = title;
  document.getElementById('codeModalContent').textContent = code;
  document.getElementById('codeOverlay').style.display = 'flex';
  document.getElementById('codeCopyBtn').textContent = 'Copy';
  document.getElementById('codeCopyBtn').classList.remove('ok');
  document.body.style.overflow = 'hidden';
}
function closeCodeModal() {
  document.getElementById('codeOverlay').style.display = 'none';
  document.body.style.overflow = '';
}
function copyModalCode() {
  const code = document.getElementById('codeModalContent').textContent;
  if (navigator.clipboard && navigator.clipboard.writeText) {
    navigator.clipboard.writeText(code).then(() => {
      const btn = document.getElementById('codeCopyBtn');
      btn.textContent = 'Copied!';
      btn.classList.add('ok');
      setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('ok'); }, 2200);
    });
  } else {
    // Fallback for older browsers
    const ta = document.createElement('textarea');
    ta.value = code;
    ta.style.position = 'fixed';
    ta.style.left = '-9999px';
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    document.body.removeChild(ta);
    const btn = document.getElementById('codeCopyBtn');
    btn.textContent = 'Copied!';
    btn.classList.add('ok');
    setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('ok'); }, 2200);
  }
}
// Close modal on Escape
document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeCodeModal();
});

// ══════════════════════════════════════════════
// REACT + RECHARTS CHART MOUNTS
// ══════════════════════════════════════════════
(function () {
  'use strict';
  if (typeof React === 'undefined' || typeof ReactDOM === 'undefined' || typeof Recharts === 'undefined') return;

  const h = React.createElement;
  const { useState, useMemo } = React;
  const {
    AreaChart, Area, BarChart, Bar, LineChart, Line,
    PieChart, Pie, RadarChart, Radar, RadialBarChart, RadialBar,
    ScatterChart, Scatter, Treemap, FunnelChart, Funnel,
    CartesianGrid, XAxis, YAxis, Tooltip, Legend,
    ResponsiveContainer, Cell, LabelList, Sector,
    PolarGrid, PolarAngleAxis, PolarRadiusAxis, ZAxis
  } = Recharts;

  // ── PwC Brand Colours ──
  const C1 = '#FD5108';
  const C2 = '#FFAA72';
  const C3 = '#CBD1D6';
  const C4 = '#B5BCC4';
  const C5 = '#DFE3E6';
  const GRID_COLOR = '#DFE3E6';
  const TICK_COLOR = '#A1A8B3';
  const FONT = 'system-ui,-apple-system,sans-serif';

  function CardWrap({ children }) {
    return h('div', { style: { fontFamily: FONT, fontSize: '14px', lineHeight: 1.5 } }, children);
  }
  function CardHd({ children }) {
    return h('div', { style: { padding: '16px 20px', borderBottom: '1px solid #DFE3E6' } }, children);
  }
  function CardHdRow({ left, right }) {
    return h(CardHd, null,
      h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', gap: '8px', flexWrap: 'wrap' } },
        h('div', null, left), right || null
      )
    );
  }
  function CardTitle({ children }) {
    return h('div', { style: { fontSize: '14px', fontWeight: 600, color: '#000', marginBottom: '2px' } }, children);
  }
  function CardDesc({ children }) {
    return h('div', { style: { fontSize: '12px', color: '#A1A8B3' } }, children);
  }
  function CardBody({ children, style }) {
    return h('div', { style: { padding: '16px 20px', ...style } }, children);
  }
  function CardFoot({ children }) {
    return h('div', { style: { padding: '12px 20px 16px', fontSize: '12px', color: '#A1A8B3', borderTop: '1px solid #DFE3E6' } }, children);
  }

  function RcTooltip({ active, payload, label, fmt }) {
    if (!active || !payload || !payload.length) return null;
    const lbl = fmt ? fmt(label) : label;
    return h('div', { style: { background: '#fff', border: '1px solid #DFE3E6', padding: '8px 12px', fontSize: '12px', borderRadius: '4px', boxShadow: '0 2px 8px rgba(0,0,0,.08)' } },
      lbl && h('div', { style: { color: '#A1A8B3', marginBottom: '4px', fontWeight: 600 } }, lbl),
      payload.map((e, i) =>
        h('div', { key: i, style: { display: 'flex', alignItems: 'center', gap: '6px', color: '#000', marginBottom: '1px' } },
          h('span', { style: { width: '8px', height: '8px', borderRadius: '50%', background: e.color || e.fill || C1, flexShrink: 0, display: 'inline-block' } }),
          h('span', null, (e.name || e.dataKey) + ': ' + (typeof e.value === 'number' ? e.value.toLocaleString() : e.value))
        )
      )
    );
  }

  function RangeBtn({ label, active, onClick }) {
    return h('button', {
      onClick,
      style: {
        padding: '3px 10px', fontSize: '11px', cursor: 'pointer', fontFamily: FONT,
        background: active ? '#000' : '#EEEFF1',
        color: active ? '#fff' : '#A1A8B3',
        border: active ? '1px solid #000' : '1px solid #DFE3E6'
      }
    }, label);
  }

  function TabBtn({ label, value, total, active, color, onClick }) {
    return h('button', {
      onClick,
      style: {
        flex: 1, padding: '12px 16px', cursor: 'pointer', fontFamily: FONT, textAlign: 'left',
        background: active ? '#EEEFF1' : '#fff', border: 'none', borderLeft: '1px solid #DFE3E6'
      }
    },
      h('div', { style: { fontSize: '11px', color: '#A1A8B3', marginBottom: '2px' } }, label),
      h('div', { style: { fontSize: '22px', fontWeight: 700, color: active ? color : '#000' } }, total.toLocaleString())
    );
  }

  function TrendFoot() {
    return h(CardFoot, null,
      h('div', { style: { fontWeight: 600, color: '#000', marginBottom: '2px' } }, '\u2191 Trending up by 5.2% this month'),
      h('div', null, 'January \u2013 June 2024')
    );
  }

  const MONTHLY6 = [
    { month: 'Jan', desktop: 186, mobile: 80, visitors: 186 },
    { month: 'Feb', desktop: 305, mobile: 200, visitors: 305 },
    { month: 'Mar', desktop: 237, mobile: 120, visitors: 237 },
    { month: 'Apr', desktop: 73,  mobile: 190, visitors: 73  },
    { month: 'May', desktop: 209, mobile: 130, visitors: 209 },
    { month: 'Jun', desktop: 214, mobile: 140, visitors: 214 },
  ];
  const MONTHLY6_NEG = [
    { month: 'Jan', visitors:  186 },
    { month: 'Feb', visitors:  205 },
    { month: 'Mar', visitors: -207 },
    { month: 'Apr', visitors:  173 },
    { month: 'May', visitors: -209 },
    { month: 'Jun', visitors:  214 },
  ];
  const TIME90 = [
    {date:'2024-04-01',desktop:222,mobile:150},{date:'2024-04-02',desktop:97,mobile:180},
    {date:'2024-04-03',desktop:167,mobile:120},{date:'2024-04-04',desktop:242,mobile:260},
    {date:'2024-04-05',desktop:373,mobile:290},{date:'2024-04-06',desktop:301,mobile:340},
    {date:'2024-04-07',desktop:245,mobile:180},{date:'2024-04-08',desktop:409,mobile:320},
    {date:'2024-04-09',desktop:59, mobile:110},{date:'2024-04-10',desktop:261,mobile:190},
    {date:'2024-04-11',desktop:327,mobile:350},{date:'2024-04-12',desktop:292,mobile:210},
    {date:'2024-04-13',desktop:342,mobile:380},{date:'2024-04-14',desktop:137,mobile:220},
    {date:'2024-04-15',desktop:120,mobile:170},{date:'2024-04-16',desktop:138,mobile:190},
    {date:'2024-04-17',desktop:446,mobile:360},{date:'2024-04-18',desktop:364,mobile:410},
    {date:'2024-04-19',desktop:243,mobile:180},{date:'2024-04-20',desktop:89, mobile:150},
    {date:'2024-04-21',desktop:137,mobile:200},{date:'2024-04-22',desktop:224,mobile:170},
    {date:'2024-04-23',desktop:138,mobile:230},{date:'2024-04-24',desktop:387,mobile:290},
    {date:'2024-04-25',desktop:215,mobile:250},{date:'2024-04-26',desktop:75, mobile:130},
    {date:'2024-04-27',desktop:383,mobile:420},{date:'2024-04-28',desktop:122,mobile:180},
    {date:'2024-04-29',desktop:315,mobile:240},{date:'2024-04-30',desktop:454,mobile:380},
    {date:'2024-05-01',desktop:165,mobile:220},{date:'2024-05-02',desktop:293,mobile:310},
    {date:'2024-05-03',desktop:247,mobile:190},{date:'2024-05-04',desktop:385,mobile:420},
    {date:'2024-05-05',desktop:481,mobile:390},{date:'2024-05-06',desktop:498,mobile:520},
    {date:'2024-05-07',desktop:388,mobile:300},{date:'2024-05-08',desktop:149,mobile:210},
    {date:'2024-05-09',desktop:227,mobile:180},{date:'2024-05-10',desktop:293,mobile:330},
    {date:'2024-05-11',desktop:335,mobile:270},{date:'2024-05-12',desktop:197,mobile:240},
    {date:'2024-05-13',desktop:197,mobile:160},{date:'2024-05-14',desktop:448,mobile:490},
    {date:'2024-05-15',desktop:473,mobile:380},{date:'2024-05-16',desktop:338,mobile:400},
    {date:'2024-05-17',desktop:499,mobile:420},{date:'2024-05-18',desktop:315,mobile:350},
    {date:'2024-05-19',desktop:235,mobile:180},{date:'2024-05-20',desktop:177,mobile:230},
    {date:'2024-05-21',desktop:82, mobile:140},{date:'2024-05-22',desktop:81, mobile:120},
    {date:'2024-05-23',desktop:252,mobile:290},{date:'2024-05-24',desktop:294,mobile:220},
    {date:'2024-05-25',desktop:201,mobile:250},{date:'2024-05-26',desktop:213,mobile:170},
    {date:'2024-05-27',desktop:420,mobile:460},{date:'2024-05-28',desktop:233,mobile:190},
    {date:'2024-05-29',desktop:78, mobile:130},{date:'2024-05-30',desktop:340,mobile:280},
    {date:'2024-05-31',desktop:178,mobile:230},{date:'2024-06-01',desktop:178,mobile:200},
    {date:'2024-06-02',desktop:470,mobile:410},{date:'2024-06-03',desktop:103,mobile:160},
    {date:'2024-06-04',desktop:439,mobile:380},{date:'2024-06-05',desktop:88, mobile:140},
    {date:'2024-06-06',desktop:294,mobile:250},{date:'2024-06-07',desktop:323,mobile:370},
    {date:'2024-06-08',desktop:385,mobile:320},{date:'2024-06-09',desktop:438,mobile:480},
    {date:'2024-06-10',desktop:155,mobile:200},{date:'2024-06-11',desktop:92, mobile:150},
    {date:'2024-06-12',desktop:492,mobile:420},{date:'2024-06-13',desktop:81, mobile:130},
    {date:'2024-06-14',desktop:426,mobile:380},{date:'2024-06-15',desktop:307,mobile:350},
    {date:'2024-06-16',desktop:371,mobile:310},{date:'2024-06-17',desktop:475,mobile:520},
    {date:'2024-06-18',desktop:107,mobile:170},{date:'2024-06-19',desktop:341,mobile:290},
    {date:'2024-06-20',desktop:408,mobile:450},{date:'2024-06-21',desktop:169,mobile:210},
    {date:'2024-06-22',desktop:317,mobile:270},{date:'2024-06-23',desktop:480,mobile:530},
    {date:'2024-06-24',desktop:132,mobile:180},{date:'2024-06-25',desktop:141,mobile:190},
    {date:'2024-06-26',desktop:434,mobile:380},{date:'2024-06-27',desktop:448,mobile:490},
    {date:'2024-06-28',desktop:149,mobile:200},{date:'2024-06-29',desktop:103,mobile:160},
    {date:'2024-06-30',desktop:446,mobile:400},
  ];
  const PIE_DATA = [
    { name: 'Chrome',  value: 275, fill: C1 },
    { name: 'Safari',  value: 200, fill: C2 },
    { name: 'Firefox', value: 187, fill: C3 },
    { name: 'Edge',    value: 173, fill: C4 },
    { name: 'Other',   value: 90,  fill: C5 },
  ];
  const RADAR_DATA = [
    { subject: 'Jan', A: 186 }, { subject: 'Feb', A: 305 },
    { subject: 'Mar', A: 237 }, { subject: 'Apr', A: 273 },
    { subject: 'May', A: 209 }, { subject: 'Jun', A: 214 },
  ];
  const RADIAL_DATA = [
    { name: 'Chrome',  value: 275, fill: C1 },
    { name: 'Safari',  value: 200, fill: C2 },
    { name: 'Firefox', value: 187, fill: C3 },
    { name: 'Edge',    value: 173, fill: C4 },
    { name: 'Other',   value: 90,  fill: C5 },
  ];
  const SCATTER_DATA = [
    { risk: 12, ret: 8.2, aum: 300 }, { risk: 18, ret: 11.5, aum: 520 },
    { risk: 25, ret: 14.1, aum: 180 }, { risk: 9, ret: 6.8, aum: 650 },
    { risk: 32, ret: 17.3, aum: 420 }, { risk: 22, ret: 13.0, aum: 280 },
    { risk: 15, ret: 9.9, aum: 390 }, { risk: 28, ret: 15.8, aum: 210 },
  ];
  const FUNNEL_DATA = [
    { value: 1200, name: 'Leads',        fill: C1 },
    { value: 940,  name: 'Qualified',    fill: '#fd6a2a' },
    { value: 645,  name: 'Proposal',     fill: C2 },
    { value: 420,  name: 'Negotiation',  fill: '#ffc89a' },
    { value: 215,  name: 'Won',          fill: '#22C55E' },
  ];
  const TREEMAP_DATA = [
    { name: 'Technology', size: 42 },
    { name: 'People',     size: 24 },
    { name: 'Travel',     size: 18 },
    { name: 'Facilities', size: 10 },
    { name: 'Other',      size: 6  },
  ];
  const TREEMAP_COLORS = [C1, C2, '#FFE8D4', C5, '#EEEFF1'];
  const BAR_COMPOSED = [
    { month: 'Jan', volume: 186, avg: 162 },
    { month: 'Feb', volume: 305, avg: 246 },
    { month: 'Mar', volume: 237, avg: 259 },
    { month: 'Apr', volume: 73,  avg: 155 },
    { month: 'May', volume: 209, avg: 177 },
    { month: 'Jun', volume: 214, avg: 210 },
  ];

  const dateTickFmt = v => new Date(v).toLocaleDateString('en-GB', { month: 'short', day: 'numeric' });
  const monthSlice = v => String(v).slice(0, 3);

  const tooltipProps = (fmt) => ({
    content: function(props) { return h(RcTooltip, Object.assign({}, props, { fmt })); }
  });
  const axisProps = { tickLine: false, axisLine: false, tick: { fontSize: 11, fill: TICK_COLOR, fontFamily: FONT } };

  // AREA CHARTS

  function ChartAreaInteractive() {
    const [range, setRange] = useState('90d');
    const filtered = useMemo(() => {
      const ref = new Date('2024-06-30');
      const days = range === '30d' ? 30 : range === '7d' ? 7 : 90;
      const s = new Date(ref); s.setDate(s.getDate() - days);
      return TIME90.filter(d => new Date(d.date) >= s);
    }, [range]);
    return h(CardWrap, null,
      h(CardHdRow, {
        left: h('div', null, h(CardTitle, null, 'Area Chart \u2014 Interactive'), h(CardDesc, null, 'Showing total visitors for the last 3 months')),
        right: h('div', { style: { display: 'flex', gap: '4px', flexWrap: 'wrap' } },
          h(RangeBtn, { label: 'Last 3 months', active: range === '90d', onClick: () => setRange('90d') }),
          h(RangeBtn, { label: 'Last 30 days',  active: range === '30d', onClick: () => setRange('30d') }),
          h(RangeBtn, { label: 'Last 7 days',   active: range === '7d',  onClick: () => setRange('7d')  })
        )
      }),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(AreaChart, { data: filtered },
            h('defs', null,
              h('linearGradient', { id: 'gAI_D', x1:'0', y1:'0', x2:'0', y2:'1' },
                h('stop', { offset: '5%',  stopColor: C1, stopOpacity: 0.8 }),
                h('stop', { offset: '95%', stopColor: C1, stopOpacity: 0.1 })
              ),
              h('linearGradient', { id: 'gAI_M', x1:'0', y1:'0', x2:'0', y2:'1' },
                h('stop', { offset: '5%',  stopColor: C2, stopOpacity: 0.8 }),
                h('stop', { offset: '95%', stopColor: C2, stopOpacity: 0.1 })
              )
            ),
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'date', minTickGap: 32, tickFormatter: dateTickFmt })),
            h(Tooltip, tooltipProps(dateTickFmt)),
            h(Area, { dataKey: 'mobile',  type: 'natural', fill: 'url(#gAI_M)', stroke: C2, stackId: 'a', name: 'Mobile'  }),
            h(Area, { dataKey: 'desktop', type: 'natural', fill: 'url(#gAI_D)', stroke: C1, stackId: 'a', name: 'Desktop' }),
            h(Legend, { iconType: 'square', iconSize: 10, wrapperStyle: { fontSize: '12px' } })
          )
        )
      )
    );
  }

  function ChartAreaStacked() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Area Chart \u2014 Stacked'), h(CardDesc, null, 'Showing total visitors for the last 6 months')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(AreaChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Area, { dataKey: 'mobile',  type: 'natural', fill: C2, fillOpacity: 0.4, stroke: C2, stackId: 'a', name: 'Mobile'  }),
            h(Area, { dataKey: 'desktop', type: 'natural', fill: C1, fillOpacity: 0.4, stroke: C1, stackId: 'a', name: 'Desktop' }),
            h(Legend, { iconType: 'square', iconSize: 10, wrapperStyle: { fontSize: '12px' } })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartAreaSimple() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Area Chart'), h(CardDesc, null, 'Showing total visitors for the last 6 months')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(AreaChart, { data: MONTHLY6 },
            h('defs', null,
              h('linearGradient', { id: 'gAS', x1:'0', y1:'0', x2:'0', y2:'1' },
                h('stop', { offset: '5%',  stopColor: C1, stopOpacity: 0.8 }),
                h('stop', { offset: '95%', stopColor: C1, stopOpacity: 0.1 })
              )
            ),
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Area, { dataKey: 'desktop', type: 'natural', fill: 'url(#gAS)', stroke: C1, name: 'Desktop' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartAreaStep() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Area Chart \u2014 Step'), h(CardDesc, null, 'Discrete step interpolation \u2014 ideal for tier data')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(AreaChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Area, { dataKey: 'desktop', type: 'step', fill: C1, fillOpacity: 0.4, stroke: C1, name: 'Desktop' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  // LINE CHARTS

  function ChartLineMulti() {
    const [active, setActive] = useState('desktop');
    const total = useMemo(() => ({
      desktop: TIME90.reduce((s, d) => s + d.desktop, 0),
      mobile:  TIME90.reduce((s, d) => s + d.mobile,  0),
    }), []);
    return h(CardWrap, null,
      h(CardHd, null,
        h('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'stretch', margin: '-16px -20px', overflow: 'hidden' } },
          h('div', { style: { padding: '16px 20px' } },
            h(CardTitle, null, 'Line Chart \u2014 Interactive'),
            h(CardDesc, null, 'Showing total visitors for the last 3 months')
          ),
          h('div', { style: { display: 'flex' } },
            h(TabBtn, { label: 'Desktop', value: 'desktop', total: total.desktop, active: active === 'desktop', color: C1, onClick: () => setActive('desktop') }),
            h(TabBtn, { label: 'Mobile',  value: 'mobile',  total: total.mobile,  active: active === 'mobile',  color: C2, onClick: () => setActive('mobile')  })
          )
        )
      ),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(LineChart, { data: TIME90 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'date', minTickGap: 32, tickFormatter: dateTickFmt })),
            h(Tooltip, tooltipProps(dateTickFmt)),
            h(Line, { dataKey: active, type: 'monotone', stroke: active === 'desktop' ? C1 : C2, strokeWidth: 2, dot: false, name: active.charAt(0).toUpperCase() + active.slice(1) })
          )
        )
      )
    );
  }

  function ChartLineStep() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Line Chart \u2014 Step'), h(CardDesc, null, 'Staircase interpolation between data points')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(LineChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Line, { dataKey: 'desktop', type: 'step', stroke: C1, strokeWidth: 2, dot: false, name: 'Desktop' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartLineDots() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Line Chart \u2014 Dots'), h(CardDesc, null, 'Prominent data point markers on each value')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(LineChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Line, { dataKey: 'desktop', type: 'natural', stroke: C1, strokeWidth: 2, dot: { fill: C1, r: 4 }, activeDot: { r: 6 }, name: 'Desktop' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartLineLabels() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Line Chart \u2014 Labels'), h(CardDesc, null, 'Value labels displayed above each data point')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(LineChart, { data: MONTHLY6, margin: { top: 20 } },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Line, { dataKey: 'desktop', type: 'natural', stroke: C1, strokeWidth: 2,
              dot: { fill: C1, r: 4 },
              label: { position: 'top', fill: '#000', fontSize: 11, dy: -6, fontFamily: FONT },
              name: 'Desktop'
            })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  // BAR CHARTS

  function ChartBarGrouped() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Bar Chart \u2014 Multiple'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(BarChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Bar, { dataKey: 'desktop', fill: C1, radius: [4,4,0,0], name: 'Desktop' }),
            h(Bar, { dataKey: 'mobile',  fill: C2, radius: [4,4,0,0], name: 'Mobile'  })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartBarStacked() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Bar Chart \u2014 Stacked'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(BarChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Bar, { dataKey: 'mobile',  fill: C2, stackId: 'a', name: 'Mobile'  }),
            h(Bar, { dataKey: 'desktop', fill: C1, stackId: 'a', radius: [4,4,0,0], name: 'Desktop' }),
            h(Legend, { iconType: 'square', iconSize: 10, wrapperStyle: { fontSize: '12px' } })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartBarHorizontal() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Bar Chart \u2014 Horizontal'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(BarChart, { data: MONTHLY6, layout: 'vertical', margin: { left: 4 } },
            h(XAxis, Object.assign({}, axisProps, { type: 'number', hide: true })),
            h(YAxis, Object.assign({}, axisProps, { dataKey: 'month', type: 'category', tickFormatter: monthSlice, width: 32 })),
            h(Tooltip, tooltipProps()),
            h(Bar, { dataKey: 'desktop', fill: C1, radius: [0,4,4,0], name: 'Desktop' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartBarLabels() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Bar Chart \u2014 Labels'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 260 },
          h(BarChart, { data: MONTHLY6, margin: { top: 20 } },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Bar, { dataKey: 'desktop', fill: C1, radius: [4,4,0,0], name: 'Desktop' },
              h(LabelList, { position: 'top', style: { fontSize: 11, fill: '#000', fontFamily: FONT } })
            )
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartBarNegative() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Bar Chart \u2014 Negative Values'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(BarChart, { data: MONTHLY6_NEG },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(YAxis, Object.assign({}, axisProps, { width: 36 })),
            h(Tooltip, tooltipProps()),
            h(Bar, { dataKey: 'visitors', radius: 4, name: 'Visitors' },
              MONTHLY6_NEG.map((d, i) =>
                h(Cell, { key: i, fill: d.visitors >= 0 ? C1 : C3 })
              )
            )
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartBarComposed() {
    const { ComposedChart } = Recharts;
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Composed \u2014 Volume & Trend'), h(CardDesc, null, 'Bars show volume; line shows rolling average')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(ComposedChart, { data: BAR_COMPOSED },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(YAxis, Object.assign({}, axisProps, { width: 36 })),
            h(Tooltip, tooltipProps()),
            h(Bar,  { dataKey: 'volume', fill: C2, radius: [4,4,0,0], name: 'Volume' }),
            h(Line, { dataKey: 'avg',    stroke: C1, strokeWidth: 2, dot: { fill: C1, r: 3 }, type: 'monotone', name: 'Avg' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  // PIE & DONUT

  function ChartPieSimple() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Pie Chart'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(PieChart, null,
            h(Tooltip, tooltipProps()),
            h(Pie, { data: PIE_DATA, dataKey: 'value', nameKey: 'name', outerRadius: 100 },
              PIE_DATA.map((d, i) => h(Cell, { key: i, fill: d.fill }))
            ),
            h(Legend, { iconType: 'square', iconSize: 10, wrapperStyle: { fontSize: '12px' } })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartPieLabels() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Pie Chart \u2014 Labels'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 260 },
          h(PieChart, null,
            h(Tooltip, tooltipProps()),
            h(Pie, { data: PIE_DATA, dataKey: 'value', nameKey: 'name', outerRadius: 90, label: ({ name, percent }) => name + ' ' + (percent * 100).toFixed(0) + '%', labelLine: true },
              PIE_DATA.map((d, i) => h(Cell, { key: i, fill: d.fill }))
            )
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartDonutText() {
    const total = PIE_DATA.reduce((s, d) => s + d.value, 0);
    const CentreLabel = ({ viewBox }) => {
      const { cx, cy } = viewBox || {};
      return h('g', null,
        h('text', { x: cx, y: cy - 6, textAnchor: 'middle', fill: '#000', fontWeight: 700, fontSize: 22, fontFamily: FONT }, total.toLocaleString()),
        h('text', { x: cx, y: cy + 14, textAnchor: 'middle', fill: '#A1A8B3', fontSize: 12, fontFamily: FONT }, 'Visitors')
      );
    };
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Donut \u2014 Centre Text'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(PieChart, null,
            h(Tooltip, tooltipProps()),
            h(Pie, { data: PIE_DATA, dataKey: 'value', nameKey: 'name', innerRadius: 70, outerRadius: 100, strokeWidth: 4 },
              PIE_DATA.map((d, i) => h(Cell, { key: i, fill: d.fill })),
              h(LabelList, { content: CentreLabel, position: 'center' })
            ),
            h(Legend, { iconType: 'square', iconSize: 10, wrapperStyle: { fontSize: '12px' } })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartDonutStacked() {
    const inner = [
      { name: 'Desktop', value: 580, fill: C1 },
      { name: 'Mobile',  value: 420, fill: C2 },
    ];
    const outer = [
      { name: 'Direct',   value: 300, fill: C1 },
      { name: 'Social',   value: 220, fill: '#fd6a2a' },
      { name: 'Search',   value: 260, fill: C2 },
      { name: 'Referral', value: 220, fill: '#ffc89a' },
    ];
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Donut \u2014 Stacked Rings'), h(CardDesc, null, 'Concentric rings compare two datasets')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(PieChart, null,
            h(Tooltip, tooltipProps()),
            h(Pie, { data: inner, dataKey: 'value', nameKey: 'name', innerRadius: 45, outerRadius: 70, strokeWidth: 3 },
              inner.map((d, i) => h(Cell, { key: i, fill: d.fill }))
            ),
            h(Pie, { data: outer, dataKey: 'value', nameKey: 'name', innerRadius: 80, outerRadius: 105, strokeWidth: 3 },
              outer.map((d, i) => h(Cell, { key: i, fill: d.fill }))
            )
          )
        )
      ),
      h(TrendFoot)
    );
  }

  // RADAR & RADIAL

  function ChartRadarDefault() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Radar Chart'), h(CardDesc, null, 'Showing total visitors for the last 6 months')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 280 },
          h(RadarChart, { data: RADAR_DATA, margin: { top: 10, right: 30, bottom: 10, left: 30 } },
            h(PolarGrid),
            h(PolarAngleAxis, { dataKey: 'subject', tick: { fontSize: 12, fill: TICK_COLOR, fontFamily: FONT } }),
            h(Tooltip, tooltipProps()),
            h(Radar, { name: 'Desktop', dataKey: 'A', stroke: C1, fill: C1, fillOpacity: 0.6 })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartRadarCircular() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Radar \u2014 Circular Grid'), h(CardDesc, null, 'Same data with circular concentric grid lines')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 280 },
          h(RadarChart, { data: RADAR_DATA, margin: { top: 10, right: 30, bottom: 10, left: 30 } },
            h(PolarGrid, { gridType: 'circle' }),
            h(PolarAngleAxis, { dataKey: 'subject', tick: { fontSize: 12, fill: TICK_COLOR, fontFamily: FONT } }),
            h(Tooltip, tooltipProps()),
            h(Radar, { name: 'Desktop', dataKey: 'A', stroke: C1, fill: C1, fillOpacity: 0.55 })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartRadialBar() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Radial Bar Chart'), h(CardDesc, null, 'Arc bars per category')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 270 },
          h(RadialBarChart, { data: RADIAL_DATA, innerRadius: 30, outerRadius: 110, startAngle: 90, endAngle: -270 },
            h(Tooltip, tooltipProps()),
            h(RadialBar, { dataKey: 'value', background: { fill: '#EEEFF1' } }),
            h(Legend, { iconType: 'circle', iconSize: 10, wrapperStyle: { fontSize: '12px', bottom: 0 } })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartRadialText() {
    const val = 756;
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Radial Bar \u2014 Centre Text'), h(CardDesc, null, 'Single arc with KPI value displayed in centre')),
      h(CardBody, { style: { display: 'flex', justifyContent: 'center' } },
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(RadialBarChart, { data: [{ value: val, fill: C1 }], innerRadius: 70, outerRadius: 110, startAngle: 90, endAngle: 90 - (val / 1000) * 360 },
            h(RadialBar, { dataKey: 'value', background: { fill: '#EEEFF1' }, isAnimationActive: true }),
            h('text', { x: '50%', y: '46%', textAnchor: 'middle', dominantBaseline: 'middle', fontSize: 28, fontWeight: 700, fill: '#000', fontFamily: FONT }, val),
            h('text', { x: '50%', y: '58%', textAnchor: 'middle', dominantBaseline: 'middle', fontSize: 12, fill: TICK_COLOR, fontFamily: FONT }, 'Goal Progress')
          )
        )
      ),
      h(TrendFoot)
    );
  }

  // OTHER CHARTS

  function ChartScatter() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Scatter Plot \u2014 Risk vs Return'), h(CardDesc, null, 'Portfolio positioning')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(ScatterChart, null,
            h(CartesianGrid, { stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'risk',  type: 'number', name: 'Risk %',   label: { value: 'Risk %',   position: 'insideBottom', offset: -4, fontSize: 11, fill: TICK_COLOR } })),
            h(YAxis, Object.assign({}, axisProps, { dataKey: 'ret',   type: 'number', name: 'Return %', label: { value: 'Return %', angle: -90, position: 'insideLeft', offset: 10, fontSize: 11, fill: TICK_COLOR } })),
            h(ZAxis, { dataKey: 'aum', range: [60, 400] }),
            h(Tooltip, { cursor: { strokeDasharray: '3 3' }, content: function(props) { return h(RcTooltip, props); } }),
            h(Scatter, { data: SCATTER_DATA, fill: C1, fillOpacity: 0.75, name: 'Funds' })
          )
        )
      ),
      h(CardFoot, null, 'Bubble size proportional to AUM')
    );
  }

  function ChartTreemap() {
    const colors = TREEMAP_COLORS;
    function CustomContent({ x, y, width, height, name, depth }) {
      if (depth < 1) return null;
      const idx = TREEMAP_DATA.findIndex(d => d.name === name);
      const bg = colors[idx] || C3;
      const light = idx > 1;
      return h('g', null,
        h('rect', { x, y, width, height, fill: bg, stroke: '#fff', strokeWidth: 2 }),
        width > 40 && height > 20 && h('text', { x: x + width / 2, y: y + height / 2 - 4, textAnchor: 'middle', fill: light ? '#000' : '#fff', fontSize: Math.min(13, width / 6), fontWeight: 600, fontFamily: FONT }, name),
        width > 40 && height > 30 && h('text', { x: x + width / 2, y: y + height / 2 + 12, textAnchor: 'middle', fill: light ? '#000' : '#fff', fontSize: 11, fontFamily: FONT, opacity: 0.8 }, String(TREEMAP_DATA[idx] ? TREEMAP_DATA[idx].size : '') + '%')
      );
    }
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Treemap \u2014 Spend by Category'), h(CardDesc, null, 'Relative size = proportional spend')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 260 },
          h(Treemap, { data: TREEMAP_DATA, dataKey: 'size', aspectRatio: 4/3, content: h(CustomContent) })
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartFunnel() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Funnel \u2014 Sales Pipeline'), h(CardDesc, null, 'Conversion across deal stages')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(FunnelChart, null,
            h(Tooltip, tooltipProps()),
            h(Funnel, { dataKey: 'value', data: FUNNEL_DATA, isAnimationActive: true },
              h(LabelList, { position: 'right', fill: TICK_COLOR, stroke: 'none', dataKey: 'name', style: { fontSize: 12, fontFamily: FONT } })
            )
          )
        )
      ),
      h(TrendFoot)
    );
  }

  function ChartBarSimple() {
    return h(CardWrap, null,
      h(CardHd, null, h(CardTitle, null, 'Bar Chart'), h(CardDesc, null, 'January \u2013 June 2024')),
      h(CardBody, null,
        h(ResponsiveContainer, { width: '100%', height: 250 },
          h(BarChart, { data: MONTHLY6 },
            h(CartesianGrid, { vertical: false, stroke: GRID_COLOR }),
            h(XAxis, Object.assign({}, axisProps, { dataKey: 'month', tickFormatter: monthSlice })),
            h(Tooltip, tooltipProps()),
            h(Bar, { dataKey: 'desktop', fill: C1, radius: [4,4,0,0], name: 'Desktop' })
          )
        )
      ),
      h(TrendFoot)
    );
  }

  // Mount all charts on DOMContentLoaded
  const CHART_MAP = {
    'rc-area-interactive': ChartAreaInteractive,
    'rc-area-stacked':     ChartAreaStacked,
    'rc-area-simple':      ChartAreaSimple,
    'rc-area-step':        ChartAreaStep,
    'rc-line-multi':       ChartLineMulti,
    'rc-line-step':        ChartLineStep,
    'rc-line-dots':        ChartLineDots,
    'rc-line-labels':      ChartLineLabels,
    'rc-bar-grouped':      ChartBarGrouped,
    'rc-bar-stacked':      ChartBarStacked,
    'rc-bar-horizontal':   ChartBarHorizontal,
    'rc-bar-labels':       ChartBarLabels,
    'rc-bar-negative':     ChartBarNegative,
    'rc-bar-composed':     ChartBarComposed,
    'rc-pie-simple':       ChartPieSimple,
    'rc-pie-labels':       ChartPieLabels,
    'rc-donut-text':       ChartDonutText,
    'rc-donut-stacked':    ChartDonutStacked,
    'rc-radar-default':    ChartRadarDefault,
    'rc-radar-circular':   ChartRadarCircular,
    'rc-radial-bar':       ChartRadialBar,
    'rc-radial-text':      ChartRadialText,
    'rc-scatter':          ChartScatter,
    'rc-treemap':          ChartTreemap,
    'rc-funnel':           ChartFunnel,
    'rc-bar-simple':       ChartBarSimple,
  };

  function mountCharts() {
    Object.keys(CHART_MAP).forEach(function(id) {
      var el = document.getElementById(id);
      if (el) {
        try { ReactDOM.createRoot(el).render(h(CHART_MAP[id])); } catch(e) { console.warn('Chart mount failed:', id, e); }
      }
    });
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', mountCharts);
  } else {
    mountCharts();
  }

})();

</script>
</body>
</html>
